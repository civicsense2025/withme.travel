/* 1. Import Tailwind */
@import "tailwindcss";

/* 2. Define CSS variables using OKLCH for better perceptual uniformity */
:root {
  /* Base colors */
  --background: oklch(1 0 0); /* Pure white */
  --foreground: oklch(0.145 0 0); /* Near black */

  /* Surface elements */
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);

  /* Brand colors - converted from HSL to OKLCH approximations */
  --travel-purple: oklch(0.85 0.15 293); /* Light purple */
  --travel-purple-dark: oklch(0.78 0.18 293);
  --travel-purple-foreground: oklch(0.2 0.05 293);

  --travel-blue: oklch(0.85 0.12 225); /* Light blue */
  --travel-blue-dark: oklch(0.78 0.15 225);
  --travel-blue-foreground: oklch(0.15 0.05 225);

  --travel-pink: oklch(0.85 0.15 350); /* Light pink */
  --travel-pink-dark: oklch(0.80 0.18 350);
  --travel-pink-foreground: oklch(0.2 0.05 350);

  --travel-yellow: oklch(0.85 0.12 85); /* Light yellow */
  --travel-yellow-dark: oklch(0.80 0.14 85);
  --travel-yellow-foreground: oklch(0.2 0.05 85);

  --travel-mint: oklch(0.85 0.12 155); /* Light mint */
  --travel-mint-dark: oklch(0.80 0.15 155);
  --travel-mint-foreground: oklch(0.2 0.05 155);

  --travel-peach: oklch(0.85 0.12 70); /* Light peach */
  --travel-peach-dark: oklch(0.80 0.15 70);
  --travel-peach-foreground: oklch(0.2 0.05 70);

  /* Neutral and UI colors */
  --surface: oklch(0.98 0 0); /* Slightly off-white */
  --text-primary: oklch(0.145 0 0);
  --text-secondary: oklch(0.34 0.01 240);
  --border-base: oklch(0.91 0.01 214);
  --focus: oklch(0.90 0.10 293); /* Light purple for focus */
  --subtle: oklch(0.96 0.01 210);

  /* System semantic colors */
  --primary: oklch(0.85 0.15 293); /* Match travel-purple */
  --primary-foreground: oklch(0.2 0.05 293);

  --secondary: oklch(0.961 0.01 210);
  --secondary-foreground: oklch(0.112 0.01 222.2);

  --accent: oklch(0.85 0.12 225); /* Match travel-blue */
  --accent-foreground: oklch(0.2 0.05 225);

  --muted: oklch(0.961 0.01 210);
  --muted-foreground: oklch(0.469 0.015 215.4);

  --destructive: oklch(0.602 0.21 0); /* Red */
  --destructive-foreground: oklch(0.98 0 0);

  --border: oklch(0.914 0.01 214.3);
  --input: oklch(0.914 0.01 214.3);
  --ring: oklch(0.85 0.15 293); /* Match focus */

  /* Radius */
  --radius: 1.5rem;

  /* Command menu variables */
  --cmd-bg-gradient-from: oklch(1 0 0 / 0.95);
  --cmd-bg-gradient-via: oklch(1 0 0 / 0.97);
  --cmd-bg-gradient-to: oklch(1 0 0 / 0.95);
  --cmd-item-hover: oklch(0 0 0 / 0.05);
  --cmd-text: oklch(0 0 0);
  --cmd-text-muted: oklch(0 0 0 / 0.6);
  --cmd-border: oklch(0 0 0 / 0.1);
  --cmd-backdrop-blur: 30px;

  /* Typography variables */
  --font-size-base: 1rem;
  --font-size-h1: 2.5rem;
  --font-size-h2: 2rem;
  --font-size-h3: 1.5rem;
  --font-size-h4: 1.25rem;
  --font-size-h5: 1rem;
  --font-size-h6: 0.875rem;

  /* Font weight variables */
  --font-weight-thin: 100;
  --font-weight-ultralight: 200;
  --font-weight-light: 300;
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-bold: 700;
}

.dark {
  /* Dark mode variables */
  --background: oklch(0.145 0 0); /* Near black */
  --foreground: oklch(0.98 0 0); /* Near white */

  --card: oklch(0.15 0 0); 
  --card-foreground: oklch(0.98 0 0);

  --popover: oklch(0.05 0 0);
  --popover-foreground: oklch(0.98 0 0);

  /* Dark mode brand colors */
  --travel-purple: oklch(0.78 0.18 293);
  --travel-purple-dark: oklch(0.70 0.20 293);
  --travel-purple-foreground: oklch(0.90 0.05 293);

  --travel-blue: oklch(0.78 0.15 225);
  --travel-blue-dark: oklch(0.70 0.17 225);
  --travel-blue-foreground: oklch(0.85 0.05 225);

  --travel-pink: oklch(0.80 0.18 350);
  --travel-pink-dark: oklch(0.75 0.20 350);
  --travel-pink-foreground: oklch(0.90 0.05 350);

  --travel-yellow: oklch(0.80 0.14 85);
  --travel-yellow-dark: oklch(0.75 0.16 85);
  --travel-yellow-foreground: oklch(0.85 0.05 85);

  --travel-mint: oklch(0.80 0.15 155);
  --travel-mint-dark: oklch(0.75 0.17 155);
  --travel-mint-foreground: oklch(0.90 0.05 155);

  --travel-peach: oklch(0.80 0.15 70);
  --travel-peach-dark: oklch(0.75 0.17 70);
  --travel-peach-foreground: oklch(0.90 0.05 70);

  /* Dark mode neutrals and UI */
  --surface: oklch(0.15 0 0);
  --text-primary: oklch(0.98 0 0);
  --text-secondary: oklch(0.65 0 0);
  --border-base: oklch(0.20 0 0);
  --focus: oklch(0.25 0.10 293);
  --subtle: oklch(0.20 0 0);

  /* Dark mode system colors */
  --primary: oklch(0.70 0.17 293);
  --primary-foreground: oklch(0.20 0.05 293);

  --secondary: oklch(0.15 0 0);
  --secondary-foreground: oklch(0.98 0 0);

  --muted: oklch(0.15 0 0);
  --muted-foreground: oklch(0.65 0 0);

  --accent: oklch(0.65 0.15 225);
  --accent-foreground: oklch(0.20 0.05 225);

  --destructive: oklch(0.50 0.20 0);
  --destructive-foreground: oklch(0.98 0 0);

  --border: oklch(0.20 0 0);
  --input: oklch(0.20 0 0);
  --ring: oklch(0.25 0.10 293);

  /* Dark mode command menu */
  --cmd-bg-gradient-from: oklch(0 0 0 / 0.95);
  --cmd-bg-gradient-via: oklch(0 0 0 / 0.97);
  --cmd-bg-gradient-to: oklch(0 0 0 / 0.95);
  --cmd-item-hover: oklch(1 0 0 / 0.1);
  --cmd-text: oklch(1 0 0);
  --cmd-text-muted: oklch(1 0 0 / 0.7);
  --cmd-border: oklch(1 0 0 / 0.1);
}

/* 3. Map variables using @theme inline */
@theme inline {
  /* Map CSS variables to Tailwind utility classes */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);
  
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);
  
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);
  
  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);
  
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);
  
  /* Brand color mappings */
  --color-travel-purple: var(--travel-purple);
  --color-travel-purple-dark: var(--travel-purple-dark);
  --color-travel-purple-foreground: var(--travel-purple-foreground);
  
  --color-travel-blue: var(--travel-blue);
  --color-travel-blue-dark: var(--travel-blue-dark);
  --color-travel-blue-foreground: var(--travel-blue-foreground);
  
  --color-travel-pink: var(--travel-pink);
  --color-travel-pink-dark: var(--travel-pink-dark);
  --color-travel-pink-foreground: var(--travel-pink-foreground);
  
  --color-travel-yellow: var(--travel-yellow);
  --color-travel-yellow-dark: var(--travel-yellow-dark);
  --color-travel-yellow-foreground: var(--travel-yellow-foreground);
  
  --color-travel-mint: var(--travel-mint);
  --color-travel-mint-dark: var(--travel-mint-dark);
  --color-travel-mint-foreground: var(--travel-mint-foreground);
  
  --color-travel-peach: var(--travel-peach);
  --color-travel-peach-dark: var(--travel-peach-dark);
  --color-travel-peach-foreground: var(--travel-peach-foreground);
  
  /* Custom UI colors */
  --color-surface: var(--surface);
  --color-text-primary: var(--text-primary);
  --color-text-secondary: var(--text-secondary);
  --color-border-base: var(--border-base);
  --color-focus: var(--focus);
  --color-subtle: var(--subtle);
  
  /* Border radius mapping */
  --border-radius: var(--radius);
}

/* 4. Include Tailwind directives */
@tailwind base;
@tailwind components;
@tailwind utilities;
@tailwind screens;

/* 5. Base styles */
@layer base {
  * {
    @apply border-border;
  }
  
  body {
    @apply bg-background text-foreground;
    font-size: var(--font-size-base);
    font-weight: var(--font-weight-regular);
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    scroll-behavior: smooth;
    font-family: var(--font-helvetica-neue), 'Helvetica Neue', sans-serif;
  }
  
  h1 {
    font-size: var(--font-size-h1);
    font-weight: var(--font-weight-bold);
    line-height: 1.2;
    font-family: var(--font-helvetica-neue), 'Helvetica Neue', sans-serif;
  }
  
  h2 {
    font-size: var(--font-size-h2);
    font-weight: var(--font-weight-medium);
    line-height: 1.25;
    font-family: var(--font-helvetica-neue), 'Helvetica Neue', sans-serif;
  }
  
  h3 {
    font-size: var(--font-size-h3);
    font-weight: var(--font-weight-medium);
    line-height: 1.3;
    font-family: var(--font-helvetica-neue), 'Helvetica Neue', sans-serif;
  }
  
  p {
    @apply text-base leading-relaxed;
    font-weight: var(--font-weight-regular);
    font-family: var(--font-helvetica-neue), 'Helvetica Neue', sans-serif;
  }
  
  ::selection {
    @apply bg-travel-purple/20 dark:bg-travel-purple/30;
  }

  /* FORM ELEMENTS: FONT & COLORS */
  input,
  textarea,
  select,
  label,
  button {
    font-family: var(--font-helvetica-neue), 'Helvetica Neue', sans-serif;
  }

  /* LABEL COLOR */
  label {
    color: #374151; /* text-gray-700 for light mode */
    font-weight: 500;
  }
  .dark label {
    color: #d1d5db; /* text-gray-300 for dark mode */
  }

  /* INPUT BACKGROUND & BORDER */
  input,
  textarea,
  select {
    background-color: #fff;
    color: #111827;
    border: 1px solid #e5e7eb;
    border-radius: 0.5rem;
    font-size: 1rem;
    padding: 0.5rem 0.75rem;
    transition: border-color 0.2s;
  }
  input:focus,
  textarea:focus,
  select:focus {
    outline: none;
    border-color: #a5b4fc; /* subtle blue focus */
    box-shadow: 0 0 0 2px #a5b4fc33;
  }
  .dark input,
  .dark textarea,
  .dark select {
    background-color: #18181b;
    color: #f3f4f6;
    border: 1px solid #27272a;
  }
  .dark input:focus,
  .dark textarea:focus,
  .dark select:focus {
    border-color: #818cf8;
    box-shadow: 0 0 0 2px #818cf833;
  }
}

/* 6. Component styles */
@layer components {
  /* Button components */
  .btn-primary {
    @apply bg-travel-purple text-white font-medium py-2 px-4 rounded-md hover:bg-travel-purple/90 dark:bg-travel-purple dark:hover:bg-travel-purple/90 focus:outline-none focus:ring-2 focus:ring-focus;
  }

  .btn-secondary {
    @apply bg-transparent border border-travel-blue text-travel-blue font-medium py-2 px-4 rounded-md hover:bg-travel-blue/10 focus:outline-none focus:ring-2 focus:ring-focus;
  }
  
  /* Use the new size-* utility for square elements (as mentioned in the article) */
  .avatar {
    @apply size-10 rounded-full bg-gray-200 overflow-hidden;
  }
  
  /* Other component styles... */
  /* (Rest of your component styles can remain largely the same) */
}

/* 7. Utility styles */
@layer utilities {
  /* Your existing utility styles... */
}

/* 8. Fullscreen layout - outside layers for specificity */
.fullscreen-layout {
  width: 100vw !important;
  max-width: 100vw !important;
  height: 100vh !important;
  margin: 0 !important;
  padding: 0 !important;
  position: absolute !important;
  inset: 0 !important;
  overflow: hidden !important;
}

/* More aggressive fullscreen mode that affects all parent containers */
html.force-fullscreen,
html.force-fullscreen body,
html.force-fullscreen #__next,
html.force-fullscreen main,
html.force-fullscreen div[id='main-content'],
html.force-fullscreen div[class*='container'] {
  width: 100vw !important;
  max-width: 100vw !important;
  padding: 0 !important;
  margin: 0 !important;
  overflow-x: hidden !important;
}

/* 9. Explicitly defined layout classes to ensure they're available */
.grid {
  display: grid !important;
}

.flex {
  display: flex !important;
}

.flex-col {
  flex-direction: column !important;
}

.items-center {
  align-items: center !important;
}

.justify-center {
  justify-content: center !important;
}

/* 10. Animation keyframes */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes pulse-soft {
  0% { transform: scale(1); opacity: 0.5; }
  50% { transform: scale(1.05); opacity: 0.7; }
  100% { transform: scale(1); opacity: 0.5; }
}

/* (Rest of your animations and other styles...) */