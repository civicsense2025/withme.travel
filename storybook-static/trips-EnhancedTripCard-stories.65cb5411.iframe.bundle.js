/*! For license information please see trips-EnhancedTripCard-stories.65cb5411.iframe.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkwithme_travel=self.webpackChunkwithme_travel||[]).push([[667],{"./components/trips/EnhancedTripCard.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,NoNavigation:()=>NoNavigation,__namedExportsOrder:()=>__namedExportsOrder,default:()=>EnhancedTripCard_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),navigation=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs"),calendar=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/calendar.js"),users=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/users.js"),lib_utils=__webpack_require__("./utils/lib-utils.ts");const EnhancedTripCard=(0,react.memo)((({trip,disableNavigation})=>{const router=(0,navigation.useRouter)(),handleNavigate=(0,react.useCallback)((()=>{router.push(`/trips/${trip.id}`)}),[router,trip.id]),handleKeyDown=(0,react.useCallback)((e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),router.push(`/trips/${trip.id}`))}),[router,trip.id]),ariaLabel=`View trip: ${trip.name}${trip.destination_name?` to ${trip.destination_name}`:""}`,imageUrl=trip.cover_image_url||"/images/default-trip-image.jpg";return(0,jsx_runtime.jsxs)("div",{role:disableNavigation?"presentation":"link",tabIndex:disableNavigation?-1:0,className:"relative h-64 rounded-xl overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 cursor-pointer hover:opacity-95 hover:ring-2 hover:ring-primary/50 focus:outline-none focus-visible:ring-2 focus-visible:ring-primary focus-visible:ring-offset-2 active:scale-[0.98]",...!disableNavigation&&{onClick:handleNavigate,onKeyDown:handleKeyDown,"aria-label":ariaLabel},children:[(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-105",style:{backgroundImage:`url('${imageUrl}')`,backgroundSize:"cover"}}),(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 via-black/20 to-black/10",children:(0,jsx_runtime.jsxs)("div",{className:"absolute inset-0 p-4 flex flex-col justify-between text-white",children:[(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("h3",{className:"font-semibold text-xl",children:trip.name}),trip.destination_name&&(0,jsx_runtime.jsx)("p",{className:"text-sm text-white/80 mt-1",children:trip.destination_name})]}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[trip.description&&(0,jsx_runtime.jsx)("p",{className:"text-sm line-clamp-2 text-white/80",children:trip.description}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-1.5 text-sm",children:[trip.start_date&&trip.end_date&&(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(calendar.A,{className:"h-3.5 w-3.5 flex-shrink-0"}),(0,jsx_runtime.jsx)("span",{children:(0,lib_utils.tX)(trip.start_date,trip.end_date)})]}),"number"==typeof trip.memberCount&&(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)(users.A,{className:"h-3.5 w-3.5 flex-shrink-0"}),(0,jsx_runtime.jsxs)("span",{children:[trip.memberCount," ",1===trip.memberCount?"traveler":"travelers"]})]})]})]})]})})]})}));EnhancedTripCard.displayName="EnhancedTripCard";const trips_EnhancedTripCard=EnhancedTripCard;EnhancedTripCard.__docgenInfo={description:"Enhanced Trip Card component that displays a trip as an image card\nwith hover effects and basic trip info",methods:[],displayName:"EnhancedTripCard",props:{trip:{required:!0,tsType:{name:"Trip"},description:""},disableNavigation:{required:!1,tsType:{name:"boolean"},description:""}}};const EnhancedTripCard_stories={title:"Trip Features/EnhancedTripCard",component:trips_EnhancedTripCard,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{trip:{control:"object",description:"Trip data"},disableNavigation:{control:"boolean",description:"Disable navigation on click"}}},Default={args:{trip:{id:"1",name:"Summer in Paris",destination_name:"Paris",cover_image_url:"",description:"A week-long adventure in the City of Light.",start_date:"2024-07-01",end_date:"2024-07-08",memberCount:4,role:"admin"},disableNavigation:!1}},NoNavigation={args:{...Default.args,disableNavigation:!0}},__namedExportsOrder=["Default","NoNavigation"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    trip: {\n      id: '1',\n      name: 'Summer in Paris',\n      destination_name: 'Paris',\n      cover_image_url: '',\n      description: 'A week-long adventure in the City of Light.',\n      start_date: '2024-07-01',\n      end_date: '2024-07-08',\n      memberCount: 4,\n      role: 'admin'\n    },\n    disableNavigation: false\n  }\n}",...Default.parameters?.docs?.source}}},NoNavigation.parameters={...NoNavigation.parameters,docs:{...NoNavigation.parameters?.docs,source:{originalSource:"{\n  args: {\n    ...Default.args,\n    disableNavigation: true\n  }\n}",...NoNavigation.parameters?.docs?.source}}}},"./node_modules/date-fns/differenceInCalendarMonths.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{U:()=>differenceInCalendarMonths});var _lib_normalizeDates_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/_lib/normalizeDates.js");function differenceInCalendarMonths(laterDate,earlierDate,options){const[laterDate_,earlierDate_]=(0,_lib_normalizeDates_js__WEBPACK_IMPORTED_MODULE_0__.x)(options?.in,laterDate,earlierDate);return 12*(laterDate_.getFullYear()-earlierDate_.getFullYear())+(laterDate_.getMonth()-earlierDate_.getMonth())}},"./node_modules/date-fns/endOfMonth.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{p:()=>endOfMonth});var _toDate_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/date-fns/toDate.js");function endOfMonth(date,options){const _date=(0,_toDate_js__WEBPACK_IMPORTED_MODULE_0__.a)(date,options?.in),month=_date.getMonth();return _date.setFullYear(_date.getFullYear(),month+1,0),_date.setHours(23,59,59,999),_date}},"./node_modules/date-fns/formatDistance.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>formatDistance});var en_US=__webpack_require__("./node_modules/date-fns/locale/en-US.js"),_lib_defaultOptions=__webpack_require__("./node_modules/date-fns/_lib/defaultOptions.js"),getTimezoneOffsetInMilliseconds=__webpack_require__("./node_modules/date-fns/_lib/getTimezoneOffsetInMilliseconds.js"),normalizeDates=__webpack_require__("./node_modules/date-fns/_lib/normalizeDates.js"),toDate=__webpack_require__("./node_modules/date-fns/toDate.js");function compareAsc(dateLeft,dateRight){const diff=+(0,toDate.a)(dateLeft)-+(0,toDate.a)(dateRight);return diff<0?-1:diff>0?1:diff}var constants=__webpack_require__("./node_modules/date-fns/constants.js"),differenceInCalendarMonths=__webpack_require__("./node_modules/date-fns/differenceInCalendarMonths.js");function endOfDay(date,options){const _date=(0,toDate.a)(date,options?.in);return _date.setHours(23,59,59,999),_date}var endOfMonth=__webpack_require__("./node_modules/date-fns/endOfMonth.js");function isLastDayOfMonth(date,options){const _date=(0,toDate.a)(date,options?.in);return+endOfDay(_date,options)===+(0,endOfMonth.p)(_date,options)}function differenceInMonths(laterDate,earlierDate,options){const[laterDate_,workingLaterDate,earlierDate_]=(0,normalizeDates.x)(options?.in,laterDate,laterDate,earlierDate),sign=compareAsc(workingLaterDate,earlierDate_),difference=Math.abs((0,differenceInCalendarMonths.U)(workingLaterDate,earlierDate_));if(difference<1)return 0;1===workingLaterDate.getMonth()&&workingLaterDate.getDate()>27&&workingLaterDate.setDate(30),workingLaterDate.setMonth(workingLaterDate.getMonth()-sign*difference);let isLastMonthNotFull=compareAsc(workingLaterDate,earlierDate_)===-sign;isLastDayOfMonth(laterDate_)&&1===difference&&1===compareAsc(laterDate_,earlierDate_)&&(isLastMonthNotFull=!1);const result=sign*(difference-+isLastMonthNotFull);return 0===result?0:result}function differenceInMilliseconds(laterDate,earlierDate){return+(0,toDate.a)(laterDate)-+(0,toDate.a)(earlierDate)}function differenceInSeconds(laterDate,earlierDate,options){const diff=differenceInMilliseconds(laterDate,earlierDate)/1e3;return function getRoundingMethod(method){return number=>{const result=(method?Math[method]:Math.trunc)(number);return 0===result?0:result}}(options?.roundingMethod)(diff)}function formatDistance(laterDate,earlierDate,options){const defaultOptions=(0,_lib_defaultOptions.q)(),locale=options?.locale??defaultOptions.locale??en_US.c,comparison=compareAsc(laterDate,earlierDate);if(isNaN(comparison))throw new RangeError("Invalid time value");const localizeOptions=Object.assign({},options,{addSuffix:options?.addSuffix,comparison}),[laterDate_,earlierDate_]=(0,normalizeDates.x)(options?.in,...comparison>0?[earlierDate,laterDate]:[laterDate,earlierDate]),seconds=differenceInSeconds(earlierDate_,laterDate_),offsetInSeconds=((0,getTimezoneOffsetInMilliseconds.G)(earlierDate_)-(0,getTimezoneOffsetInMilliseconds.G)(laterDate_))/1e3,minutes=Math.round((seconds-offsetInSeconds)/60);let months;if(minutes<2)return options?.includeSeconds?seconds<5?locale.formatDistance("lessThanXSeconds",5,localizeOptions):seconds<10?locale.formatDistance("lessThanXSeconds",10,localizeOptions):seconds<20?locale.formatDistance("lessThanXSeconds",20,localizeOptions):seconds<40?locale.formatDistance("halfAMinute",0,localizeOptions):seconds<60?locale.formatDistance("lessThanXMinutes",1,localizeOptions):locale.formatDistance("xMinutes",1,localizeOptions):0===minutes?locale.formatDistance("lessThanXMinutes",1,localizeOptions):locale.formatDistance("xMinutes",minutes,localizeOptions);if(minutes<45)return locale.formatDistance("xMinutes",minutes,localizeOptions);if(minutes<90)return locale.formatDistance("aboutXHours",1,localizeOptions);if(minutes<constants.F6){const hours=Math.round(minutes/60);return locale.formatDistance("aboutXHours",hours,localizeOptions)}if(minutes<2520)return locale.formatDistance("xDays",1,localizeOptions);if(minutes<constants.Nw){const days=Math.round(minutes/constants.F6);return locale.formatDistance("xDays",days,localizeOptions)}if(minutes<2*constants.Nw)return months=Math.round(minutes/constants.Nw),locale.formatDistance("aboutXMonths",months,localizeOptions);if(months=differenceInMonths(earlierDate_,laterDate_),months<12){const nearestMonth=Math.round(minutes/constants.Nw);return locale.formatDistance("xMonths",nearestMonth,localizeOptions)}{const monthsSinceStartOfYear=months%12,years=Math.trunc(months/12);return monthsSinceStartOfYear<3?locale.formatDistance("aboutXYears",years,localizeOptions):monthsSinceStartOfYear<9?locale.formatDistance("overXYears",years,localizeOptions):locale.formatDistance("almostXYears",years+1,localizeOptions)}}},"./node_modules/lucide-react/dist/esm/createLucideIcon.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>createLucideIcon});var react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");const toPascalCase=string=>{const camelCase=(string=>string.replace(/^([A-Z])|[\s-_]+(\w)/g,((match,p1,p2)=>p2?p2.toUpperCase():p1.toLowerCase())))(string);return camelCase.charAt(0).toUpperCase()+camelCase.slice(1)},mergeClasses=(...classes)=>classes.filter(((className,index,array)=>Boolean(className)&&""!==className.trim()&&array.indexOf(className)===index)).join(" ").trim(),hasA11yProp=props=>{for(const prop in props)if(prop.startsWith("aria-")||"role"===prop||"title"===prop)return!0};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Icon=(0,react.forwardRef)((({color="currentColor",size=24,strokeWidth=2,absoluteStrokeWidth,className="",children,iconNode,...rest},ref)=>(0,react.createElement)("svg",{ref,...defaultAttributes,width:size,height:size,stroke:color,strokeWidth:absoluteStrokeWidth?24*Number(strokeWidth)/Number(size):strokeWidth,className:mergeClasses("lucide",className),...!children&&!hasA11yProp(rest)&&{"aria-hidden":"true"},...rest},[...iconNode.map((([tag,attrs])=>(0,react.createElement)(tag,attrs))),...Array.isArray(children)?children:[children]]))),createLucideIcon=(iconName,iconNode)=>{const Component=(0,react.forwardRef)((({className,...props},ref)=>{return(0,react.createElement)(Icon,{ref,iconNode,className:mergeClasses(`lucide-${string=toPascalCase(iconName),string.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${iconName}`,className),...props});var string}));return Component.displayName=toPascalCase(iconName),Component}},"./node_modules/lucide-react/dist/esm/icons/calendar.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Calendar});const Calendar=(0,__webpack_require__("./node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},"./node_modules/lucide-react/dist/esm/icons/users.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>Users});const Users=(0,__webpack_require__("./node_modules/lucide-react/dist/esm/createLucideIcon.js").A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},"./utils/lib-utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Ay:()=>__WEBPACK_DEFAULT_EXPORT__,IM:()=>getInitials,cn:()=>cn,tX:()=>formatDateRange});var _barrel_optimize_names_format_formatDistance_date_fns__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/date-fns/format.js"),_barrel_optimize_names_format_formatDistance_date_fns__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/date-fns/formatDistance.js"),clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs");function cn(...inputs){return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.$)(inputs))}function getInitials(name){if(!name)return"";const parts=name.trim().split(/\s+/);return 0===parts.length?"":1===parts.length?parts[0].charAt(0).toUpperCase():(parts[0].charAt(0)+parts[parts.length-1].charAt(0)).toUpperCase()}function formatDateRange(startDate,endDate){return startDate?endDate?`${(0,_barrel_optimize_names_format_formatDistance_date_fns__WEBPACK_IMPORTED_MODULE_2__.GP)(new Date(startDate),"MMM d")} - ${(0,_barrel_optimize_names_format_formatDistance_date_fns__WEBPACK_IMPORTED_MODULE_2__.GP)(new Date(endDate),"MMM d, yyyy")}`:(0,_barrel_optimize_names_format_formatDistance_date_fns__WEBPACK_IMPORTED_MODULE_2__.GP)(new Date(startDate),"MMM d, yyyy"):"No dates set"}function truncateString(str,maxLength){return!str||str.length<=maxLength?str:str.slice(0,maxLength)+"..."}const __WEBPACK_DEFAULT_EXPORT__={cn,getInitials,formatDateRange,formatDate:function formatDate(date){return(0,_barrel_optimize_names_format_formatDistance_date_fns__WEBPACK_IMPORTED_MODULE_2__.GP)(new Date(date),"MMM d, yyyy")},formatRelativeTime:function formatRelativeTime(date){return(0,_barrel_optimize_names_format_formatDistance_date_fns__WEBPACK_IMPORTED_MODULE_3__.B)(new Date(date),new Date,{addSuffix:!0})},formatError:function formatError(error){return"string"==typeof error?error:error instanceof Error||(null==error?void 0:error.message)&&"string"==typeof error.message?error.message:"An unknown error occurred"},getColorClassFromId:function getColorClassFromId(id){const colorClasses=["bg-red-100 text-red-800","bg-blue-100 text-blue-800","bg-green-100 text-green-800","bg-yellow-100 text-yellow-800","bg-purple-100 text-purple-800","bg-pink-100 text-pink-800","bg-indigo-100 text-indigo-800","bg-gray-100 text-gray-800"];let hash=0;for(let i=0;i<id.length;i++)hash=(hash<<5)-hash+id.charCodeAt(i),hash&=hash;return colorClasses[Math.abs(hash)%colorClasses.length]},safeJsonParse:function safeJsonParse(json,fallback){try{return JSON.parse(json)}catch(e){return fallback}},sleep:function sleep(ms){return new Promise((resolve=>setTimeout(resolve,ms)))},truncateText:function truncateText(text,maxLength){return!text||text.length<=maxLength?text:`${text.substring(0,maxLength)}...`},generateId:function generateId(length=8){return Math.random().toString(36).substring(2,2+length)},isEmpty:function isEmpty(value){return null==value||("string"==typeof value?""===value.trim():Array.isArray(value)?0===value.length:"object"==typeof value&&0===Object.keys(value).length)},isEmptyObject:function isEmptyObject(obj){return!obj||0===Object.keys(obj).length},formatCurrency:function formatCurrency(amount,currency="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency}).format(amount)},limitItems:function limitItems(items,limit=5){return items?items.slice(0,limit):[]},formatNumber:function formatNumber(num){return null==num?"0":num.toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")},truncateString,slugify:function slugify(text){return text.toString().toLowerCase().trim().replace(/\s+/g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-")},formatUrl:function formatUrl(url){if(!url)return"";try{const withoutProtocol=url.replace(/^https?:\/\//,"");return truncateString(withoutProtocol.replace(/^www\./,""),30)}catch(e){return url}},randomColor:function randomColor(){return"#"+Math.floor(16777215*Math.random()).toString(16).padStart(6,"0")}}}}]);