/*! For license information please see groups-id-plans-slug-ideas-whiteboard-stories.8f7debe0.iframe.bundle.js.LICENSE.txt */
(self.webpackChunkwithme_travel=self.webpackChunkwithme_travel||[]).push([[661],{"./app/groups/[id]/plans/[slug]/components/ideas-board-help-dialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{i:()=>IdeasBoardHelpDialog});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./components/ui/dialog.tsx")),_components_ui_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./components/ui/button.tsx"),_barrel_optimize_names_Keyboard_lucide_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/keyboard.js"),framer_motion__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs");function IdeasBoardHelpDialog({open,onOpenChange}){const itemVariants={hidden:{opacity:0,y:10},visible:{opacity:1,y:0}};return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.lG,{open,onOpenChange,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.Cf,{className:"sm:max-w-md p-0 overflow-hidden rounded-2xl bg-gradient-to-b from-white to-gray-50 border border-gray-100 shadow-xl",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.c7,{className:"p-6 pb-0",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.L3,{className:"flex items-center gap-2 text-xl font-medium tracking-tight",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.P.div,{initial:{rotate:-10,scale:.9},animate:{rotate:0,scale:1},transition:{type:"spring",stiffness:260,damping:20},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Keyboard_lucide_react__WEBPACK_IMPORTED_MODULE_5__.A,{className:"w-5 h-5 text-gray-600"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.P.span,{initial:{opacity:0,x:-5},animate:{opacity:1,x:0},transition:{delay:.1,duration:.3},children:"Keyboard Shortcuts"})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:"px-6 py-4 space-y-6",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.P.div,{className:"grid grid-cols-1 gap-3",variants:{hidden:{opacity:0,scale:.95},visible:{opacity:1,scale:1,transition:{duration:.3,staggerChildren:.07,delayChildren:.1}}},initial:"hidden",animate:"visible",children:[{key:"D",action:"Add Destination",color:"bg-blue-50",textColor:"text-blue-700",emoji:"📍"},{key:"T",action:"Add Date",color:"bg-yellow-50",textColor:"text-yellow-700",emoji:"📅"},{key:"A",action:"Add Activity",color:"bg-green-50",textColor:"text-green-700",emoji:"🏄‍♂️"},{key:"B",action:"Add Budget",color:"bg-orange-50",textColor:"text-orange-700",emoji:"💰"},{key:"O",action:"Add Other",color:"bg-purple-50",textColor:"text-purple-700",emoji:"💭"}].map(((shortcut,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.P.div,{className:"flex items-center gap-3",variants:itemVariants,transition:{duration:.3},whileHover:{scale:1.02,x:3},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.P.div,{className:`rounded-full w-10 h-10 flex items-center justify-center ${shortcut.color}`,whileHover:{rotate:[0,-5,5,-5,0],transition:{duration:.5}},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-lg",children:shortcut.emoji})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"flex-1",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:`font-medium ${shortcut.textColor}`,children:shortcut.action})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.P.kbd,{className:`px-2.5 py-1.5 rounded-xl ${shortcut.color} ${shortcut.textColor} font-mono font-medium text-sm min-w-[28px] text-center`,whileHover:{scale:1.1},whileTap:{scale:.95},children:shortcut.key})]},shortcut.key)))}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.P.div,{className:"h-px bg-gradient-to-r from-transparent via-gray-200 to-transparent",initial:{scaleX:0},animate:{scaleX:1},transition:{duration:.5,delay:.3}}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.P.div,{className:"space-y-3",initial:{opacity:0},animate:{opacity:1},transition:{delay:.5,duration:.3},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h3",{className:"text-sm font-medium text-gray-500",children:"Utilities"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"grid grid-cols-1 gap-2",children:[{key:"/",action:"Show this help",color:"bg-gray-50",textColor:"text-gray-700"},{key:"Esc",action:"Close dialogs",color:"bg-gray-50",textColor:"text-gray-700"},{key:"Ctrl+Shift+Enter",action:"Ready for voting",color:"bg-gray-50",textColor:"text-gray-700"}].map(((shortcut,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.P.div,{className:"flex items-center justify-between",initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{delay:.6+.1*index,duration:.2},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"text-sm text-gray-600",children:shortcut.action}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("kbd",{className:`px-2 py-1 rounded-lg ${shortcut.color} ${shortcut.textColor} font-mono text-xs`,children:shortcut.key})]},shortcut.key)))})]})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_dialog__WEBPACK_IMPORTED_MODULE_2__.Es,{className:"p-6 pt-0 flex justify-end gap-2",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(framer_motion__WEBPACK_IMPORTED_MODULE_4__.P.div,{whileHover:{scale:1.03},whileTap:{scale:.97},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.$,{onClick:()=>onOpenChange(!1),className:"rounded-xl bg-gradient-to-b from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white font-medium transition-transform duration-200 hover:scale-[1.03] active:scale-[0.98] px-4",autoFocus:!0,children:"Got it"})})})]})})}IdeasBoardHelpDialog.__docgenInfo={description:"",methods:[],displayName:"IdeasBoardHelpDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}}}},"./app/groups/[id]/plans/[slug]/context/ideas-presence-context.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{HR:()=>useIdeasPresence,SI:()=>useIdeasPresenceContext,jz:()=>IdeasPresenceContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_utils_supabase_browser_client__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./utils/supabase/browser-client.ts"),_components_auth_provider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./components/auth-provider.tsx"),console=__webpack_require__("./node_modules/console-browserify/index.js");const defaultContext={activeUsers:[],isLoading:!1,error:null,startEditingIdea:()=>{},stopEditingIdea:()=>{},isEditingIdea:!1,currentEditingIdeaId:null},IdeasPresenceContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(defaultContext);function useIdeasPresenceContext(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(IdeasPresenceContext)}function useIdeasPresence(groupId){const[activeUsers,setActiveUsers]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[isLoading,setIsLoading]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[error,setError]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[isEditingIdea,setIsEditingIdea]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[currentEditingIdeaId,setCurrentEditingIdeaId]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),{user}=(0,_components_auth_provider__WEBPACK_IMPORTED_MODULE_2__.As)(),channelRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[supabase,setSupabase]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{console.log("[ideas-presence] Running in browser environment:",true);try{console.log("[ideas-presence] Initializing Supabase client");const client=(0,_utils_supabase_browser_client__WEBPACK_IMPORTED_MODULE_1__.getBrowserClient)();setSupabase(client)}catch(err){console.error("[ideas-presence] Failed to initialize Supabase client:",err),setError(err instanceof Error?err:new Error("Failed to initialize Supabase client"))}}),[true]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(groupId&&supabase){console.log("[ideas-presence] Setting up presence channel for group:",groupId),setIsLoading(!0);try{const channel=supabase.channel(`ideas-presence-${groupId}`,{config:{presence:{key:(null==user?void 0:user.id)||`guest-${Math.random().toString(36).substring(2,10)}`}}});return channelRef.current=channel,channel.on("presence",{event:"sync"},(()=>{const state=channel.presenceState();console.log("[ideas-presence] Presence state synced:",state);const users=Object.values(state).flatMap((presences=>presences.map((presence=>({id:presence.user_id||"guest",name:presence.name||"Anonymous",avatar_url:presence.avatar_url,status:presence.status||"online",editing_idea_id:presence.editing_idea_id,lastSeen:new Date(presence.last_active||Date.now()),cursor:presence.cursor||null})))));console.log("[ideas-presence] Active users:",users),setActiveUsers(users)})).on("presence",{event:"join"},(({key,newPresences})=>{console.log("[ideas-presence] User joined:",key,newPresences)})).on("presence",{event:"leave"},(({key,leftPresences})=>{console.log("[ideas-presence] User left:",key,leftPresences)})),channel.subscribe((async status=>{console.log("[ideas-presence] Channel subscription status:",status),"SUBSCRIBED"===status&&(setIsLoading(!1),console.log("[ideas-presence] Presence tracking started"))})),()=>{console.log("[ideas-presence] Cleaning up presence channel"),channel.unsubscribe()}}catch(err){console.error("[ideas-presence] Error setting up presence channel:",err),setError(err instanceof Error?err:new Error("Failed to set up presence channel")),setIsLoading(!1)}}}),[groupId,user,supabase,true]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{var _user_profile,_user_profile1;if(!(null==user?void 0:user.id)||!supabase||!channelRef.current)return;const displayName=(null===(_user_profile=user.profile)||void 0===_user_profile?void 0:_user_profile.name)||user.email||"User",avatarUrl=(null===(_user_profile1=user.profile)||void 0===_user_profile1?void 0:_user_profile1.avatar_url)||void 0;console.log("[ideas-presence] Broadcasting presence with profile:",displayName),channelRef.current.track({user_id:user.id,name:displayName,avatar_url:avatarUrl,status:"online",last_active:(new Date).toISOString(),editing_idea_id:currentEditingIdeaId})}),[null==user?void 0:user.id,null==user?void 0:user.profile,supabase,currentEditingIdeaId]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{console.log("[ideas-presence] Setting up cursor tracking");const throttledHandleMouseMove=function throttle(func,limit){let inThrottle;return function(...args){inThrottle||(func.apply(this,args),inThrottle=!0,setTimeout((()=>inThrottle=!1),limit))}}((e=>{((x,y)=>{if(channelRef.current)try{channelRef.current.track({user_id:(null==user?void 0:user.id)||"guest",cursor:{x,y},last_active:(new Date).toISOString()})}catch(err){console.error("[ideas-presence] Failed to update cursor position:",err)}})(e.clientX,e.clientY)}),50);return window.addEventListener("mousemove",throttledHandleMouseMove),()=>{console.log("[ideas-presence] Cleaning up cursor tracking"),window.removeEventListener("mousemove",throttledHandleMouseMove)}}),[true,supabase]),{activeUsers,isLoading,error,startEditingIdea:ideaId=>{if(console.log("[ideas-presence] Start editing idea:",ideaId),setIsEditingIdea(!0),setCurrentEditingIdeaId(ideaId),channelRef.current)try{channelRef.current.track({user_id:(null==user?void 0:user.id)||"guest",editing_idea_id:ideaId,last_active:(new Date).toISOString()})}catch(err){console.error("[ideas-presence] Failed to broadcast editing status:",err)}},stopEditingIdea:()=>{if(console.log("[ideas-presence] Stop editing idea"),setIsEditingIdea(!1),setCurrentEditingIdeaId(null),channelRef.current)try{channelRef.current.track({user_id:(null==user?void 0:user.id)||"guest",editing_idea_id:null,last_active:(new Date).toISOString()})}catch(err){console.error("[ideas-presence] Failed to broadcast editing stopped:",err)}},isEditingIdea,currentEditingIdeaId}}},"./app/groups/[id]/plans/[slug]/ideas-whiteboard.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ideas_whiteboard_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),navigation=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs"),use_toast=__webpack_require__("./components/ui/use-toast.ts"),AnimatePresence=__webpack_require__("./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),proxy=__webpack_require__("./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs"),lodash=__webpack_require__("__barrel_optimize__?names=debounce!=!./node_modules/lodash/lodash.js"),idea_card=__webpack_require__("./app/groups/[id]/plans/[slug]/idea-card.tsx"),add_idea_modal=__webpack_require__("./app/groups/[id]/plans/[slug]/add-idea-modal.tsx"),ui_button=__webpack_require__("./components/ui/button.tsx"),map_pin=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/map-pin.js"),calendar_days=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/calendar-days.js"),square_activity=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/square-activity.js"),dollar_sign=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/dollar-sign.js"),lightbulb=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/lightbulb.js"),arrow_left=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/arrow-left.js"),circle_plus=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/circle-plus.js"),keyboard=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/keyboard.js"),trash_2=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/trash-2.js"),circle_check_big=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/circle-check-big.js"),info=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/info.js"),sparkles=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/sparkles.js"),circle_help=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/circle-help.js"),download=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/download.js"),esm_react=__webpack_require__("./node_modules/zustand/esm/react.mjs"),immer=__webpack_require__("./node_modules/zustand/esm/middleware/immer.mjs");const useIdeaStore=(0,esm_react.v)()((0,immer.D)((set=>({ideas:[],loading:!1,error:null,setIdeas:ideas=>set({ideas}),addIdea:idea=>set((state=>{state.ideas.push(idea)})),updateIdea:(ideaId,updates)=>set((state=>{const ideaIndex=state.ideas.findIndex((i=>i.id===ideaId));-1!==ideaIndex&&Object.assign(state.ideas[ideaIndex],updates)})),updateIdeaPosition:(ideaId,position)=>set((state=>{const idea=state.ideas.find((i=>i.id===ideaId));idea&&(idea.position=position)})),removeIdea:ideaId=>set((state=>{const ideaIndex=state.ideas.findIndex((i=>i.id===ideaId));-1!==ideaIndex&&state.ideas.splice(ideaIndex,1)})),voteForIdea:(ideaId,voteType)=>set((state=>{const idea=state.ideas.find((i=>i.id===ideaId));idea&&("up"===voteType?idea.votes_up=(idea.votes_up||0)+1:"down"===voteType&&(idea.votes_down=(idea.votes_down||0)+1))})),setLoading:loading=>set({loading}),setError:error=>set({error})}))));var ideas_presence_context=__webpack_require__("./app/groups/[id]/plans/[slug]/context/ideas-presence-context.tsx"),browser_client=__webpack_require__("./utils/supabase/browser-client.ts"),dialog=__webpack_require__("./components/ui/dialog.tsx"),card=__webpack_require__("./components/ui/card.tsx"),badge=__webpack_require__("./components/ui/badge.tsx"),circle_check=(__webpack_require__("./node_modules/lucide-react/dist/esm/icons/calendar.js"),__webpack_require__("./node_modules/lucide-react/dist/esm/icons/activity.js"),__webpack_require__("./node_modules/lucide-react/dist/esm/icons/file-text.js"),__webpack_require__("./node_modules/lucide-react/dist/esm/icons/circle-check.js")),circle_alert=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/circle-alert.js"),loader_circle=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/loader-circle.js"),arrow_right=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/arrow-right.js"),auth_provider=__webpack_require__("./components/auth-provider.tsx"),avatar=__webpack_require__("./components/ui/avatar.tsx"),progress=__webpack_require__("./components/ui/progress.tsx"),dist=__webpack_require__("./node_modules/@radix-ui/react-separator/dist/index.mjs"),utils=__webpack_require__("./lib/utils.ts");const Separator=react.forwardRef((({className,orientation="horizontal",decorative=!0,...props},ref)=>(0,jsx_runtime.jsx)(dist.b,{ref,decorative,orientation,className:(0,utils.cn)("shrink-0 bg-border","horizontal"===orientation?"h-[1px] w-full":"h-full w-[1px]",className),...props})));Separator.displayName=dist.b.displayName,Separator.__docgenInfo={description:"",methods:[],props:{orientation:{defaultValue:{value:"'horizontal'",computed:!1},required:!1},decorative:{defaultValue:{value:"true",computed:!1},required:!1}}};var console=__webpack_require__("./node_modules/console-browserify/index.js");function ReadyForVotingModal({onClose,groupId,planSlug}){const router=(0,navigation.useRouter)(),{toast}=(0,use_toast.dj)(),{user}=(0,auth_provider.As)(),[isLoading,setIsLoading]=(0,react.useState)(!1),[activeMembers,setActiveMembers]=(0,react.useState)([]),[totalIdeas,setTotalIdeas]=(0,react.useState)(0),[ideasByType,setIdeasByType]=(0,react.useState)({destination:0,date:0,activity:0,budget:0,other:0}),[categoryCounts,setCategoryCounts]=(0,react.useState)({});(0,react.useEffect)((()=>{!async function fetchData(){if(groupId&&planSlug)try{var _ideasData_filter,_ideasData_filter1,_ideasData_filter2,_ideasData_filter3,_ideasData_filter4;const supabase=(0,browser_client.getBrowserClient)(),{data:membersData,error:membersError}=await supabase.from("group_members").select("\n            id,\n            user_id,\n            profiles:user_id (\n              email,\n              full_name,\n              avatar_url\n            )\n          ").eq("group_id",groupId).eq("status","active");if(membersError)throw membersError;setActiveMembers(membersData||[]);const{data:ideasData,error:ideasError}=await supabase.from("group_plan_ideas").select("*").eq("group_id",groupId).eq("plan_id",planSlug);if(ideasError)throw ideasError;const counts={destination:(null==ideasData||null===(_ideasData_filter=ideasData.filter((idea=>"destination"===idea.type)))||void 0===_ideasData_filter?void 0:_ideasData_filter.length)||0,date:(null==ideasData||null===(_ideasData_filter1=ideasData.filter((idea=>"date"===idea.type)))||void 0===_ideasData_filter1?void 0:_ideasData_filter1.length)||0,activity:(null==ideasData||null===(_ideasData_filter2=ideasData.filter((idea=>"activity"===idea.type)))||void 0===_ideasData_filter2?void 0:_ideasData_filter2.length)||0,budget:(null==ideasData||null===(_ideasData_filter3=ideasData.filter((idea=>"budget"===idea.type)))||void 0===_ideasData_filter3?void 0:_ideasData_filter3.length)||0,other:(null==ideasData||null===(_ideasData_filter4=ideasData.filter((idea=>!["destination","date","activity","budget"].includes(idea.type||""))))||void 0===_ideasData_filter4?void 0:_ideasData_filter4.length)||0};setTotalIdeas((null==ideasData?void 0:ideasData.length)||0),setIdeasByType(counts);const{error}=await supabase.from("group_plans").update({}).eq("id",planSlug);if(error)throw error;setTimeout((()=>{router.push(`/groups/${groupId}/plans/${planSlug}/vote`)}),1e3);const countsWithArrays={};Object.keys(counts).forEach((key=>{countsWithArrays[key]=Array(counts[key]).fill(null)})),setCategoryCounts(countsWithArrays)}catch(error){console.error("Error fetching data:",error),toast({title:"Error",description:"Failed to load group data.",variant:"destructive"})}}()}),[groupId,planSlug,toast,router]);const allTypesHaveIdeas=Object.values(ideasByType).every((count=>count>0)),progressPercentage=20*Object.values(ideasByType).filter((count=>count>0)).length,getProgressColor=(type,isComplete)=>{if(!isComplete)return"bg-gray-100 dark:bg-gray-800 border-gray-200 dark:border-gray-700";switch(type){case"destination":return"bg-[hsl(var(--travel-blue)/0.1)] border-[hsl(var(--travel-blue)/0.3)]";case"date":return"bg-[hsl(var(--travel-yellow)/0.1)] border-[hsl(var(--travel-yellow)/0.3)]";case"activity":return"bg-[hsl(var(--travel-mint)/0.1)] border-[hsl(var(--travel-mint)/0.3)]";case"budget":return"bg-[hsl(var(--travel-peach)/0.1)] border-[hsl(var(--travel-peach)/0.3)]";case"other":return"bg-[hsl(var(--travel-purple)/0.1)] border-[hsl(var(--travel-purple)/0.3)]"}},getTypeEmoji=type=>{switch(type){case"destination":return"📍";case"date":return"📅";case"activity":return"🏄‍♂️";case"budget":return"💰";case"other":return"💭"}};return(0,jsx_runtime.jsx)(dialog.lG,{open:!0,onOpenChange:onClose,children:(0,jsx_runtime.jsxs)(dialog.Cf,{className:"sm:max-w-[520px] p-0 overflow-hidden",children:[(0,jsx_runtime.jsx)("div",{className:"absolute top-0 left-0 right-0 h-1.5 overflow-hidden rounded-t-lg",children:(0,jsx_runtime.jsx)(proxy.P.div,{className:"h-full bg-gradient-to-r from-[hsl(var(--travel-blue))] via-[hsl(var(--travel-mint))] to-[hsl(var(--travel-purple))]",initial:{width:0},animate:{width:`${progressPercentage}%`},transition:{duration:.8,ease:[.16,1,.3,1]}})}),(0,jsx_runtime.jsx)("div",{className:"px-8 pt-8",children:(0,jsx_runtime.jsxs)(dialog.c7,{className:"space-y-3",children:[(0,jsx_runtime.jsx)(proxy.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.5},children:(0,jsx_runtime.jsxs)(dialog.L3,{className:"text-2xl flex items-center gap-3 font-bold",children:[(0,jsx_runtime.jsx)(circle_check.A,{className:"h-6 w-6 text-[hsl(var(--travel-mint))]"}),"Ready for Voting!"]})}),(0,jsx_runtime.jsx)(proxy.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:(0,jsx_runtime.jsxs)(dialog.rr,{className:"text-base",children:["Your group has collected ",totalIdeas," ideas. Now it's time to vote on them!"]})})]})}),(0,jsx_runtime.jsxs)("div",{className:"space-y-6 px-8 py-6",children:[(0,jsx_runtime.jsxs)(proxy.P.div,{className:"mb-8",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:[(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,jsx_runtime.jsx)("span",{className:"text-sm font-medium",children:"Idea Collection Progress"}),(0,jsx_runtime.jsxs)("span",{className:"text-sm text-muted-foreground",children:[progressPercentage,"% Complete"]})]}),(0,jsx_runtime.jsx)(progress.k,{value:progressPercentage,className:"h-2 mb-5"}),(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-5 gap-3 mt-4",children:["destination","date","activity","budget","other"].map(((type,index)=>{const isComplete=ideasByType[type]>0;return(0,jsx_runtime.jsxs)(proxy.P.div,{className:(0,utils.cn)("flex flex-col items-center p-3 rounded-xl border transition-all",getProgressColor(type,isComplete)),initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.4,delay:.2+.1*index},whileHover:{y:-3,boxShadow:"0 8px 24px rgba(0,0,0,0.08)"},children:[(0,jsx_runtime.jsx)("div",{className:"text-lg mb-1",children:getTypeEmoji(type)}),(0,jsx_runtime.jsx)("div",{className:"text-xs font-medium text-center capitalize",children:type}),(0,jsx_runtime.jsx)(badge.E,{variant:isComplete?"secondary":"outline",className:(0,utils.cn)("mt-2 text-xs px-2 py-0 min-w-[24px] flex justify-center",isComplete?"bg-white dark:bg-gray-900":"bg-gray-50 dark:bg-gray-800"),children:ideasByType[type]})]},type)}))})]}),(0,jsx_runtime.jsx)(proxy.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},children:(0,jsx_runtime.jsx)(card.Zp,{className:"border bg-card/50 backdrop-blur-sm",children:(0,jsx_runtime.jsxs)(card.Wu,{className:"p-5 space-y-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex justify-between items-center",children:[(0,jsx_runtime.jsx)("h3",{className:"font-medium text-base",children:"Group Progress"}),(0,jsx_runtime.jsx)(badge.E,{variant:allTypesHaveIdeas?"default":"outline",className:(0,utils.cn)(allTypesHaveIdeas?"bg-[hsl(var(--travel-mint)/0.2)] text-[hsl(var(--travel-mint))] border-[hsl(var(--travel-mint)/0.3)]":""),children:allTypesHaveIdeas?"All Categories Complete":"Categories In Progress"})]}),(0,jsx_runtime.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Your group has brainstormed ",totalIdeas," ideas across all categories. Now it's time to vote on which ones to include in your trip."]}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-2 gap-y-3 gap-x-4 my-3",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("span",{className:"text-[hsl(var(--travel-blue))]",children:"📍"}),(0,jsx_runtime.jsxs)("span",{className:"text-sm",children:["Destinations: ",ideasByType.destination]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("span",{className:"text-[hsl(var(--travel-yellow))]",children:"📅"}),(0,jsx_runtime.jsxs)("span",{className:"text-sm",children:["Dates: ",ideasByType.date]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("span",{className:"text-[hsl(var(--travel-mint))]",children:"🏄‍♂️"}),(0,jsx_runtime.jsxs)("span",{className:"text-sm",children:["Activities: ",ideasByType.activity]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("span",{className:"text-[hsl(var(--travel-peach))]",children:"💰"}),(0,jsx_runtime.jsxs)("span",{className:"text-sm",children:["Budget: ",ideasByType.budget]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("span",{className:"text-[hsl(var(--travel-purple))]",children:"💭"}),(0,jsx_runtime.jsxs)("span",{className:"text-sm",children:["Other: ",ideasByType.other]})]})]}),(0,jsx_runtime.jsx)(Separator,{className:"my-3"}),(0,jsx_runtime.jsxs)("div",{className:"flex flex-wrap gap-2 items-center",children:[(0,jsx_runtime.jsxs)("div",{className:"flex -space-x-2",children:[activeMembers.slice(0,5).map(((member,index)=>{var _member_profiles,_member_profiles1;return(0,jsx_runtime.jsx)(proxy.P.div,{initial:{opacity:0,scale:.8,x:-10},animate:{opacity:1,scale:1,x:0},transition:{duration:.3,delay:.5+.1*index},children:(0,jsx_runtime.jsxs)(avatar.eu,{className:"border-2 border-background h-8 w-8",children:[(0,jsx_runtime.jsx)(avatar.BK,{src:null===(_member_profiles=member.profiles)||void 0===_member_profiles?void 0:_member_profiles.avatar_url}),(0,jsx_runtime.jsx)(avatar.q5,{className:"text-xs",children:((null===(_member_profiles1=member.profiles)||void 0===_member_profiles1?void 0:_member_profiles1.full_name)||"Guest").charAt(0)})]})},member.id||index)})),activeMembers.length>5&&(0,jsx_runtime.jsx)(proxy.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.3,delay:.8},children:(0,jsx_runtime.jsx)(avatar.eu,{className:"border-2 border-background h-8 w-8",children:(0,jsx_runtime.jsxs)(avatar.q5,{children:["+",activeMembers.length-5]})})})]}),(0,jsx_runtime.jsxs)("span",{className:"text-sm text-muted-foreground",children:[activeMembers.length," group members can vote"]})]})]})})}),(0,jsx_runtime.jsx)(proxy.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"rounded-xl border border-amber-200 dark:border-amber-800/30 p-5 bg-amber-50/50 dark:bg-amber-900/10 backdrop-blur-sm",children:(0,jsx_runtime.jsxs)("div",{className:"flex gap-3",children:[(0,jsx_runtime.jsx)(circle_alert.A,{className:"h-5 w-5 text-amber-500 flex-shrink-0 mt-0.5"}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)("h4",{className:"font-medium text-amber-800 dark:text-amber-300",children:"What happens next?"}),(0,jsx_runtime.jsx)("p",{className:"text-sm text-amber-700 dark:text-amber-400",children:"Moving to voting will allow all group members to vote on favorite ideas. The most popular ideas will be used to create your trip."})]})]})})]}),(0,jsx_runtime.jsxs)(dialog.Es,{className:"px-8 py-5 bg-muted/20 border-t flex-row justify-between",children:[(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",onClick:onClose,className:"px-5",children:"Cancel"}),(0,jsx_runtime.jsx)(ui_button.$,{onClick:async()=>{try{setIsLoading(!0);const{data,error:createError}=await(0,browser_client.getBrowserClient)().from("group_plans").update({}).eq("id",planSlug).select("*").single();if(createError)throw createError;toast({title:"Voting phase started!",description:"All members can now vote on ideas."}),setTimeout((()=>{router.push(`/groups/${groupId}/plans/${planSlug}/vote`)}),1e3)}catch(error){console.error("Error starting voting phase:",error),toast({title:"Error",description:"Failed to start voting phase. Please try again.",variant:"destructive"})}finally{setIsLoading(!1)}},disabled:isLoading||0===totalIdeas,className:(0,utils.cn)("space-x-2 bg-gradient-to-r from-[hsl(var(--travel-blue))] to-[hsl(var(--travel-purple))] hover:from-[hsl(var(--travel-blue))] hover:to-[hsl(var(--travel-purple))/0.9] hover:shadow-lg","transition-all duration-300 px-5",isLoading||0===totalIdeas?"opacity-70":"relative after:absolute after:inset-0 after:rounded-md after:animate-pulse after:bg-white/20 after:blur-md after:-z-10"),children:isLoading?(0,jsx_runtime.jsxs)("span",{className:"flex items-center",children:[(0,jsx_runtime.jsx)(loader_circle.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Starting..."]}):(0,jsx_runtime.jsxs)("span",{className:"flex items-center",children:["Start Voting",(0,jsx_runtime.jsx)(arrow_right.A,{className:"ml-2 h-4 w-4"})]})})]})]})})}ReadyForVotingModal.__docgenInfo={description:"",methods:[],displayName:"ReadyForVotingModal",props:{onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},groupId:{required:!0,tsType:{name:"string"},description:""},planSlug:{required:!0,tsType:{name:"string"},description:""}}};__webpack_require__("./node_modules/html2canvas/dist/html2canvas.js");var ui_calendar=__webpack_require__("./components/ui/calendar.tsx"),input=__webpack_require__("./components/ui/input.tsx"),tooltip=__webpack_require__("./components/ui/tooltip.tsx");const MapboxDestinationInput=({onSelect,placeholder="Add a destination...",className})=>{const[query,setQuery]=(0,react.useState)(""),[results,setResults]=(0,react.useState)([]),[loading,setLoading]=(0,react.useState)(!1),[showDropdown,setShowDropdown]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)("div",{className:`relative w-full ${className||""}`,children:[(0,jsx_runtime.jsx)("input",{value:query,onChange:async function handleInput(e){const value=e.target.value;if(setQuery(value),value.length<2)return setResults([]),void setShowDropdown(!1);setLoading(!0);try{const res=await fetch(`https://api.mapbox.com/geocoding/v5/mapbox.places/${encodeURIComponent(value)}.json?access_token=pk.eyJ1Ijoid2l0aG1ldHJhdmVsIiwiYSI6ImNtOXgwaTZ0NjA0ZHoya29sdmMzNzg3Y3AifQ.1IsSpIpf0hEeZz9KaTLQmg&autocomplete=true&types=place,locality,region,country`),data=await res.json();setResults(data.features||[]),setShowDropdown(!0)}catch(err){setResults([]),setShowDropdown(!1)}finally{setLoading(!1)}},placeholder,className:"w-full px-4 py-3 bg-white border border-gray-200 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-blue-400 focus:border-transparent transition-all duration-200",onFocus:()=>query.length>1&&setShowDropdown(!0),onBlur:()=>setTimeout((()=>setShowDropdown(!1)),100),autoComplete:"off"}),loading&&(0,jsx_runtime.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2",children:(0,jsx_runtime.jsx)("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"})}),showDropdown&&results.length>0&&(0,jsx_runtime.jsx)("ul",{className:"absolute z-10 left-0 right-0 bg-white border border-gray-100 rounded-xl shadow-lg mt-2 max-h-72 overflow-auto transition-all duration-200 animate-in fade-in slide-in-from-top-2",children:results.map((place=>(0,jsx_runtime.jsxs)("li",{className:"px-4 py-3 cursor-pointer hover:bg-gray-50 transition-colors duration-150 first:rounded-t-xl last:rounded-b-xl flex items-center gap-2",onMouseDown:()=>function handleSelect(place){setQuery(place.place_name),setShowDropdown(!1),setResults([]),onSelect(place)}(place),children:[(0,jsx_runtime.jsx)("span",{className:"text-gray-400 text-sm",children:"📍"}),(0,jsx_runtime.jsx)("span",{children:place.place_name})]},place.id)))})]})};MapboxDestinationInput.__docgenInfo={description:"",methods:[],displayName:"MapboxDestinationInput",props:{onSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(place: any) => void",signature:{arguments:[{type:{name:"any"},name:"place"}],return:{name:"void"}}},description:""},placeholder:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"'Add a destination...'",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""}}};var ideas_board_help_dialog=__webpack_require__("./app/groups/[id]/plans/[slug]/components/ideas-board-help-dialog.tsx");__webpack_require__("./node_modules/console-browserify/index.js"),__webpack_require__("./node_modules/process/browser.js");const EVENT_CATEGORY_IDEA_BOARD="idea_board",EVENT_NAME_IDEA_DELETED="idea_deleted";const LayoutModeContext=(0,react.createContext)({fullscreen:!1,setFullscreen:()=>{}});var next_themes_dist=__webpack_require__("./node_modules/next-themes/dist/index.mjs"),core_esm=__webpack_require__("./node_modules/@dnd-kit/core/dist/core.esm.js"),sortable_esm=__webpack_require__("./node_modules/@dnd-kit/sortable/dist/sortable.esm.js"),onborda_dist=__webpack_require__("./node_modules/onborda/dist/index.js");const ideasWhiteboardTour={id:"ideas-whiteboard-tour",steps:[{id:"welcome-to-whiteboard",title:"Welcome to the Ideas Whiteboard!",content:"This is where your group can brainstorm ideas for your trip together in real-time.",placement:"center",icon:null},{id:"destination-column",title:"Destinations",content:"Add places you want to visit. Where would your group like to go?",selector:".column-destination",placement:"right",icon:null},{id:"activity-column",title:"Activities",content:"Share activities your group might enjoy. What would you like to do there?",selector:".column-activity",placement:"top",icon:null},{id:"budget-column",title:"Budget",content:"Discuss budget expectations for the trip to make sure everyone is aligned.",selector:".column-budget",placement:"left",icon:null},{id:"date-column",title:"Dates",content:"Suggest timeframes that work for your trip. When can everyone make it?",selector:".column-date",placement:"bottom",icon:null},{id:"add-idea-button",title:"Add New Ideas",content:"Click the + button to add your own ideas to any column.",selector:".add-idea-button",placement:"bottom",icon:null},{id:"drag-drop",title:"Organize Your Ideas",content:"Drag and drop cards to reorder them or move them between columns.",selector:".idea-card",placement:"right",icon:null},{id:"collaborators",title:"Real-time Collaboration",content:"See what others are doing in real-time! Their cursors show exactly what they're working on.",selector:".collaborator-cursor",placement:"left",icon:null},{id:"voting-button",title:"Ready to Vote?",content:"Once you've added enough ideas, click here to start the voting process and finalize your plans.",selector:".voting-button",placement:"bottom",icon:null},{id:"help-menu",title:"Need Help?",content:'Press "/" anytime to open the help menu with keyboard shortcuts and more tips.',selector:".help-trigger",placement:"bottom",icon:null}]};var track_plan_event_console=__webpack_require__("./node_modules/console-browserify/index.js");async function trackPlanEvent({planId,groupId,eventType,eventData={}}){try{0;const supabase=(0,browser_client.getBrowserClient)(),{data,error:authError}=await supabase.auth.getUser();if(authError)return track_plan_event_console.warn("Auth error when tracking plan event:",authError.message),null;const user=null==data?void 0:data.user;let eventId=null;try{if(user){const{data:rpData,error:rpError}=await supabase.rpc("log_group_plan_event",{p_plan_id:planId,p_group_id:groupId,p_user_id:user.id,p_event_type:eventType,p_event_data:eventData});if(rpError)throw rpError;eventId="string"==typeof rpData?rpData:null}}catch(rpcError){const errorMessage=rpcError instanceof Error?rpcError.message:String(rpcError);track_plan_event_console.warn("RPC Error in trackPlanEvent (falling back to localStorage):",errorMessage),eventId=null}if(!eventId)try{if("undefined"!=typeof localStorage){const fallbackEventId=`local-${Date.now()}-${Math.random().toString(36).substring(2,9)}`,localEvents=JSON.parse(localStorage.getItem("plan_events")||"[]");return localEvents.push({id:fallbackEventId,plan_id:planId,group_id:groupId,user_id:(null==user?void 0:user.id)||"guest",event_type:eventType,event_data:eventData,created_at:(new Date).toISOString()}),localStorage.setItem("plan_events",JSON.stringify(localEvents)),track_plan_event_console.log("Event saved to localStorage:",fallbackEventId),fallbackEventId}}catch(storageError){track_plan_event_console.warn("Failed to track event in localStorage:",storageError)}return eventId}catch(error){const errorMessage=error instanceof Error?error.message:"Unknown error";return track_plan_event_console.error("Failed to track plan event:",errorMessage),null}}const PLAN_EVENT_TYPES_TOUR_START="tour_start",PLAN_EVENT_TYPES_TOUR_COMPLETE="tour_complete";var ideas_tour_controller_console=__webpack_require__("./node_modules/console-browserify/index.js");const TOUR_ID="ideas-whiteboard-tour";var injectStylesIntoStyleTag=__webpack_require__("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),injectStylesIntoStyleTag_default=__webpack_require__.n(injectStylesIntoStyleTag),styleDomAPI=__webpack_require__("./node_modules/style-loader/dist/runtime/styleDomAPI.js"),styleDomAPI_default=__webpack_require__.n(styleDomAPI),insertBySelector=__webpack_require__("./node_modules/style-loader/dist/runtime/insertBySelector.js"),insertBySelector_default=__webpack_require__.n(insertBySelector),setAttributesWithoutAttributes=__webpack_require__("./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js"),setAttributesWithoutAttributes_default=__webpack_require__.n(setAttributesWithoutAttributes),insertStyleElement=__webpack_require__("./node_modules/style-loader/dist/runtime/insertStyleElement.js"),insertStyleElement_default=__webpack_require__.n(insertStyleElement),styleTagTransform=__webpack_require__("./node_modules/style-loader/dist/runtime/styleTagTransform.js"),styleTagTransform_default=__webpack_require__.n(styleTagTransform),column_classes=__webpack_require__("./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js!./app/groups/[id]/plans/[slug]/styles/column-classes.css"),options={};options.styleTagTransform=styleTagTransform_default(),options.setAttributes=setAttributesWithoutAttributes_default(),options.insert=insertBySelector_default().bind(null,"head"),options.domAPI=styleDomAPI_default(),options.insertStyleElement=insertStyleElement_default();injectStylesIntoStyleTag_default()(column_classes.A,options);column_classes.A&&column_classes.A.locals&&column_classes.A.locals;var next_link=__webpack_require__("./node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),ellipsis_vertical=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/ellipsis-vertical.js"),alert_dialog=__webpack_require__("./components/ui/alert-dialog.tsx"),dropdown_menu=__webpack_require__("./components/ui/dropdown-menu.tsx"),ui_textarea=__webpack_require__("./components/ui/textarea.tsx"),label=__webpack_require__("./components/ui/label.tsx"),ui_select=__webpack_require__("./components/ui/select.tsx");function CreateIdeaDialog({open,onOpenChange,onSubmit,isSubmitting}){const[title,setTitle]=react.useState(""),[description,setDescription]=react.useState(""),[ideaType,setIdeaType]=react.useState(""),[link,setLink]=react.useState(""),[notes,setNotes]=react.useState(""),{toast}=(0,use_toast.dj)(),{user}=(0,auth_provider.As)(),isGuest=!user;return react.useEffect((()=>{open||(setTitle(""),setDescription(""),setIdeaType(""),setLink(""),setNotes(""))}),[open]),(0,jsx_runtime.jsx)(dialog.lG,{open,onOpenChange,children:(0,jsx_runtime.jsx)(dialog.Cf,{className:"sm:max-w-[425px]",children:(0,jsx_runtime.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!title)return void toast({title:"Error",description:"Title is required",variant:"destructive"});if(!ideaType)return void toast({title:"Error",description:"Please select an idea type",variant:"destructive"});const formData={title,description,type:ideaType,link:link||null,notes:notes||null};await onSubmit(formData)},children:[(0,jsx_runtime.jsxs)(dialog.c7,{children:[(0,jsx_runtime.jsx)(dialog.L3,{children:"Add a new idea"}),(0,jsx_runtime.jsx)(dialog.rr,{children:isGuest?"Share your idea with the group as a guest. Others can comment and vote on it.":"Share your idea with the group. Everyone can comment and vote on it."})]}),(0,jsx_runtime.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,jsx_runtime.jsx)(label.J,{htmlFor:"title",className:"text-right",children:"Title"}),(0,jsx_runtime.jsx)(input.p,{id:"title",value:title,onChange:e=>setTitle(e.target.value),className:"col-span-3",placeholder:"My awesome idea",required:!0})]}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,jsx_runtime.jsx)(label.J,{htmlFor:"type",className:"text-right",children:"Type"}),(0,jsx_runtime.jsxs)(ui_select.l6,{value:ideaType,onValueChange:setIdeaType,children:[(0,jsx_runtime.jsx)(ui_select.bq,{className:"col-span-3",children:(0,jsx_runtime.jsx)(ui_select.yv,{children:ideaType||"Select idea type"})}),(0,jsx_runtime.jsx)(ui_select.gC,{children:(0,jsx_runtime.jsxs)(ui_select.s3,{children:[(0,jsx_runtime.jsx)(ui_select.TR,{children:"Idea Types"}),(0,jsx_runtime.jsx)(ui_select.eb,{value:"place",children:"Place to visit"}),(0,jsx_runtime.jsx)(ui_select.eb,{value:"activity",children:"Activity"}),(0,jsx_runtime.jsx)(ui_select.eb,{value:"accommodation",children:"Accommodation"}),(0,jsx_runtime.jsx)(ui_select.eb,{value:"food",children:"Food & Drink"}),(0,jsx_runtime.jsx)(ui_select.eb,{value:"transport",children:"Transportation"}),(0,jsx_runtime.jsx)(ui_select.eb,{value:"other",children:"Other"})]})})]})]}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,jsx_runtime.jsx)(label.J,{htmlFor:"description",className:"text-right",children:"Description"}),(0,jsx_runtime.jsx)(ui_textarea.T,{id:"description",value:description,onChange:e=>setDescription(e.target.value),className:"col-span-3",placeholder:"Tell us more about your idea"})]}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,jsx_runtime.jsx)(label.J,{htmlFor:"link",className:"text-right",children:"Link"}),(0,jsx_runtime.jsx)(input.p,{id:"link",value:link,onChange:e=>setLink(e.target.value),className:"col-span-3",placeholder:"Add a link (optional)"})]}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,jsx_runtime.jsx)(label.J,{htmlFor:"notes",className:"text-right",children:"Notes"}),(0,jsx_runtime.jsx)(ui_textarea.T,{id:"notes",value:notes,onChange:e=>setNotes(e.target.value),className:"col-span-3",placeholder:"Any additional notes (optional)"})]}),isGuest&&(0,jsx_runtime.jsx)("div",{className:"col-span-full pt-2 px-2 text-sm text-muted-foreground",children:(0,jsx_runtime.jsxs)("p",{children:["You're adding this idea as a guest."," ",(0,jsx_runtime.jsx)("a",{href:"/signup",className:"text-primary underline",children:"Sign up"})," ","to create an account and manage all your ideas."]})})]}),(0,jsx_runtime.jsx)(dialog.Es,{children:(0,jsx_runtime.jsx)(ui_button.$,{type:"submit",disabled:isSubmitting,children:isSubmitting?"Creating...":"Create idea"})})]})})})}CreateIdeaDialog.__docgenInfo={description:"",methods:[],displayName:"CreateIdeaDialog",props:{open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},onSubmit:{required:!0,tsType:{name:"signature",type:"function",raw:"(formData: any) => Promise<void>",signature:{arguments:[{type:{name:"any"},name:"formData"}],return:{name:"Promise",elements:[{name:"void"}],raw:"Promise<void>"}}},description:""},isSubmitting:{required:!0,tsType:{name:"boolean"},description:""}}};var date_picker=__webpack_require__("./components/ui/date-picker.tsx"),edit_idea_dialog_console=__webpack_require__("./node_modules/console-browserify/index.js");function EditIdeaDialog({groupId,open,onOpenChange,idea,onIdeaUpdated,planSlug}){const[isLoading,setIsLoading]=(0,react.useState)(!1),[title,setTitle]=(0,react.useState)(""),[description,setDescription]=(0,react.useState)(""),[type,setType]=(0,react.useState)("destination"),[dateRange,setDateRange]=(0,react.useState)({from:null,to:null}),[notes,setNotes]=(0,react.useState)("");(0,react.useEffect)((()=>{idea&&(setTitle(idea.title||""),setDescription(idea.description||""),setType(idea.type),setNotes(idea.notes||""),idea.start_date||idea.end_date?setDateRange({from:idea.start_date?new Date(idea.start_date):null,to:idea.end_date?new Date(idea.end_date):null}):setDateRange({from:null,to:null}))}),[idea]);return(0,jsx_runtime.jsx)(dialog.lG,{open,onOpenChange,children:(0,jsx_runtime.jsxs)(dialog.Cf,{className:"sm:max-w-[500px]",children:[(0,jsx_runtime.jsx)(dialog.c7,{children:(0,jsx_runtime.jsx)(dialog.L3,{children:"Edit Idea"})}),(0,jsx_runtime.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,jsx_runtime.jsx)("label",{htmlFor:"edit-idea-type",className:"text-right text-sm font-medium",children:"Type"}),(0,jsx_runtime.jsxs)(ui_select.l6,{value:type,onValueChange:value=>setType(value),children:[(0,jsx_runtime.jsx)(ui_select.bq,{className:"col-span-3",children:(0,jsx_runtime.jsx)(ui_select.yv,{})}),(0,jsx_runtime.jsxs)(ui_select.gC,{children:[(0,jsx_runtime.jsx)(ui_select.eb,{value:"destination",children:"Destination"}),(0,jsx_runtime.jsx)(ui_select.eb,{value:"date",children:"Date"}),(0,jsx_runtime.jsx)(ui_select.eb,{value:"activity",children:"Activity"}),(0,jsx_runtime.jsx)(ui_select.eb,{value:"budget",children:"Budget"}),(0,jsx_runtime.jsx)(ui_select.eb,{value:"other",children:"Other"})]})]})]}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,jsx_runtime.jsx)("label",{htmlFor:"edit-idea-title",className:"text-right text-sm font-medium",children:"Title"}),(0,jsx_runtime.jsx)(input.p,{id:"edit-idea-title",value:title,onChange:e=>setTitle(e.target.value),className:"col-span-3",placeholder:"Enter idea title"})]}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,jsx_runtime.jsx)("label",{htmlFor:"edit-idea-description",className:"text-right text-sm font-medium",children:"Description"}),(0,jsx_runtime.jsx)(ui_textarea.T,{id:"edit-idea-description",value:description,onChange:e=>setDescription(e.target.value),className:"col-span-3",placeholder:"Enter a description (optional)",rows:3})]}),"date"===type&&(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,jsx_runtime.jsx)("label",{htmlFor:"edit-date-range",className:"text-right text-sm font-medium",children:"Date Range"}),(0,jsx_runtime.jsx)("div",{className:"col-span-3",children:(0,jsx_runtime.jsx)(date_picker.l,{date:dateRange,setDate:setDateRange,placeholder:"Select date range"})})]}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,jsx_runtime.jsx)("label",{htmlFor:"edit-idea-notes",className:"text-right text-sm font-medium",children:"Notes"}),(0,jsx_runtime.jsx)(ui_textarea.T,{id:"edit-idea-notes",value:notes,onChange:e=>setNotes(e.target.value),className:"col-span-3",placeholder:"Add any additional notes (optional)",rows:2})]})]}),(0,jsx_runtime.jsxs)(dialog.Es,{children:[(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",onClick:()=>onOpenChange(!1),children:"Cancel"}),(0,jsx_runtime.jsx)(ui_button.$,{onClick:async()=>{if(idea)if(title.trim()){setIsLoading(!0);try{const response=await fetch(`/api/groups/${groupId}/plans/${planSlug}/ideas/${idea.id}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({title,description:description||null,type,start_date:dateRange.from?dateRange.from.toISOString():null,end_date:dateRange.to?dateRange.to.toISOString():null,notes:notes||null})});if(!response.ok){const errorData=await response.json();throw new Error(errorData.error||"Failed to update idea")}const{idea:updatedIdea}=await response.json();(0,use_toast.oR)({title:"Success",description:"Idea updated successfully"}),onIdeaUpdated(updatedIdea),onOpenChange(!1)}catch(error){edit_idea_dialog_console.error("Error updating idea:",error),(0,use_toast.oR)({title:"Error",description:error instanceof Error?error.message:"Failed to update idea",variant:"destructive"})}finally{setIsLoading(!1)}}else(0,use_toast.oR)({title:"Title required",description:"Please provide a title for your idea",variant:"destructive"})},disabled:isLoading||!title.trim(),children:isLoading?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(loader_circle.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Updating..."]}):"Update Idea"})]})]})})}EditIdeaDialog.__docgenInfo={description:"",methods:[],displayName:"EditIdeaDialog",props:{groupId:{required:!0,tsType:{name:"string"},description:""},open:{required:!0,tsType:{name:"boolean"},description:""},onOpenChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""},idea:{required:!0,tsType:{name:"union",raw:"GroupIdea | null",elements:[{name:"GroupIdea"},{name:"null"}]},description:""},onIdeaUpdated:{required:!0,tsType:{name:"signature",type:"function",raw:"(idea: GroupIdea) => void",signature:{arguments:[{type:{name:"GroupIdea"},name:"idea"}],return:{name:"void"}}},description:""},planSlug:{required:!0,tsType:{name:"string"},description:""}}};var plans_navigation=__webpack_require__("./app/groups/[id]/plans/components/plans-navigation.tsx"),plan_ideas_client_console=__webpack_require__("./node_modules/console-browserify/index.js");function AddIdeasDialog({groupId,planId,onIdeasAdded}){const[unassignedIdeas,setUnassignedIdeas]=(0,react.useState)([]),[selectedIdeas,setSelectedIdeas]=(0,react.useState)([]),[isLoading,setIsLoading]=(0,react.useState)(!1),[isOpen,setIsOpen]=(0,react.useState)(!1);(0,react.useEffect)((()=>{if(isOpen){(async()=>{setIsLoading(!0);try{const response=await fetch(`/api/groups/${groupId}/ideas?planId=null`);if(!response.ok)throw new Error("Failed to fetch unassigned ideas");const data=await response.json();setUnassignedIdeas(data.ideas||[])}catch(error){plan_ideas_client_console.error("Error fetching unassigned ideas:",error),(0,use_toast.oR)({title:"Error",description:"Failed to load unassigned ideas",variant:"destructive"})}finally{setIsLoading(!1)}})()}}),[groupId,isOpen]);return(0,jsx_runtime.jsxs)(dialog.lG,{open:isOpen,onOpenChange:setIsOpen,children:[(0,jsx_runtime.jsx)(dialog.zM,{children:(0,jsx_runtime.jsxs)(ui_button.$,{variant:"outline",className:"ml-2",children:[(0,jsx_runtime.jsx)(circle_plus.A,{className:"h-4 w-4 mr-2"}),"Add Existing Ideas"]})}),(0,jsx_runtime.jsxs)(dialog.Cf,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[(0,jsx_runtime.jsxs)(dialog.c7,{children:[(0,jsx_runtime.jsx)(dialog.L3,{children:"Add Existing Ideas to Plan"}),(0,jsx_runtime.jsx)(dialog.rr,{children:"Select ideas from the group to add to this plan"})]}),isLoading&&(0,jsx_runtime.jsx)("div",{className:"flex justify-center my-8",children:(0,jsx_runtime.jsx)(loader_circle.A,{className:"h-8 w-8 animate-spin text-muted-foreground"})}),!isLoading&&0===unassignedIdeas.length&&(0,jsx_runtime.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"No unassigned ideas available in this group"}),!isLoading&&unassignedIdeas.length>0&&(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 my-4",children:unassignedIdeas.map((idea=>(0,jsx_runtime.jsxs)("div",{className:"border rounded-md p-3 cursor-pointer hover:bg-secondary/20 transition-colors "+(selectedIdeas.includes(idea.id)?"border-primary bg-secondary/30":"border-border"),onClick:()=>{return ideaId=idea.id,void setSelectedIdeas((prev=>prev.includes(ideaId)?prev.filter((id=>id!==ideaId)):[...prev,ideaId]));var ideaId},children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-start justify-between",children:[(0,jsx_runtime.jsx)("h3",{className:"font-medium text-sm",children:idea.title}),(0,jsx_runtime.jsx)("div",{className:"text-xs px-2 py-1 rounded bg-secondary text-secondary-foreground",children:idea.type})]}),idea.description&&(0,jsx_runtime.jsx)("p",{className:"text-sm text-muted-foreground mt-1 line-clamp-2",children:idea.description}),(0,jsx_runtime.jsxs)("div",{className:"text-xs text-muted-foreground mt-2",children:["By ",idea.created_by||"Unknown"]})]},idea.id)))}),(0,jsx_runtime.jsxs)(dialog.Es,{children:[(0,jsx_runtime.jsx)(ui_button.$,{variant:"secondary",onClick:()=>setIsOpen(!1),children:"Cancel"}),(0,jsx_runtime.jsx)(ui_button.$,{onClick:async()=>{if(0!==selectedIdeas.length){setIsLoading(!0);try{const response=await fetch(`/api/groups/${groupId}/plans/${planId}/add-ideas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ideaIds:selectedIdeas})});if(!response.ok)throw new Error("Failed to add ideas to plan");const data=await response.json();data.success&&((0,use_toast.oR)({title:"Success",description:`Added ${selectedIdeas.length} ideas to the plan`}),data.ideas&&onIdeasAdded(data.ideas),setIsOpen(!1),setSelectedIdeas([]))}catch(error){plan_ideas_client_console.error("Error adding ideas to plan:",error),(0,use_toast.oR)({title:"Error",description:"Failed to add ideas to the plan",variant:"destructive"})}finally{setIsLoading(!1)}}else(0,use_toast.oR)({title:"No ideas selected",description:"Please select at least one idea to add",variant:"destructive"})},disabled:isLoading||0===selectedIdeas.length,children:isLoading?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(loader_circle.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Adding..."]}):`Add ${selectedIdeas.length} ideas to plan`})]})]})]})}function RemoveFromPlanDialog({groupId,planId,ideaId,ideaTitle,onRemoved,trigger}){const[isLoading,setIsLoading]=(0,react.useState)(!1);return(0,jsx_runtime.jsxs)(alert_dialog.Lt,{children:[(0,jsx_runtime.jsx)(alert_dialog.tv,{asChild:!0,children:trigger}),(0,jsx_runtime.jsxs)(alert_dialog.EO,{children:[(0,jsx_runtime.jsxs)(alert_dialog.wd,{children:[(0,jsx_runtime.jsx)(alert_dialog.r7,{children:"Remove Idea from Plan"}),(0,jsx_runtime.jsxs)(alert_dialog.$v,{children:['Are you sure you want to remove "',ideaTitle,"\" from this plan? This won't delete the idea - it will still be available in the group."]})]}),(0,jsx_runtime.jsxs)(alert_dialog.ck,{children:[(0,jsx_runtime.jsx)(alert_dialog.Zr,{children:"Cancel"}),(0,jsx_runtime.jsx)(alert_dialog.Rx,{onClick:async()=>{setIsLoading(!0);try{const response=await fetch(`/api/groups/${groupId}/plans/${planId}/remove-ideas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({ideaIds:[ideaId]})});if(!response.ok)throw new Error("Failed to remove idea from plan");(await response.json()).success&&((0,use_toast.oR)({title:"Success",description:"Idea removed from plan"}),onRemoved(ideaId))}catch(error){plan_ideas_client_console.error("Error removing idea from plan:",error),(0,use_toast.oR)({title:"Error",description:"Failed to remove idea from plan",variant:"destructive"})}finally{setIsLoading(!1)}},disabled:isLoading,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:isLoading?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(loader_circle.A,{className:"h-4 w-4 mr-2 animate-spin"}),"Removing..."]}):"Remove"})]})]})]})}function PlanIdeasClient({groupId,planId,planSlug,planName,groupName,initialIdeas,isAdmin,isCreator,userId,isAuthenticated,isGuest,guestToken}){(0,navigation.useRouter)();const[ideas,setIdeas]=(0,react.useState)(initialIdeas),[selectedIdea,setSelectedIdea]=(0,react.useState)(null),[isEditing,setIsEditing]=(0,react.useState)(!1),[isLoading,setIsLoading]=(0,react.useState)(!1),[error,setError]=(0,react.useState)(null),[createIdeaOpen,setCreateIdeaOpen]=(0,react.useState)(!1),[submitting,setSubmitting]=(0,react.useState)(!1);(0,react.useEffect)((()=>{initialIdeas&&initialIdeas.length>0&&setIdeas(initialIdeas)}),[initialIdeas]);const handleRemoveIdeaFromPlan=ideaId=>{setIdeas((prevIdeas=>prevIdeas.filter((idea=>idea.id!==ideaId))))};(0,react.useCallback)((0,lodash.debounce)((async(updatedIdeas,columnId,newPosition)=>{if(groupId&&planId)try{await fetch(`/api/groups/${groupId}/plans/${planId}/ideas/position`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({ideas:updatedIdeas,columnId,position:newPosition})})}catch(error){plan_ideas_client_console.error("Error updating positions:",error),(0,use_toast.oR)({title:"Error",description:"Failed to save order",variant:"destructive"})}}),1e3),[groupId,planId]);return(0,jsx_runtime.jsxs)("div",{className:"container mx-auto py-6",children:[(0,jsx_runtime.jsx)("div",{className:"bg-background border-b p-4 sticky top-0 z-10",children:(0,jsx_runtime.jsxs)("div",{className:"flex flex-col space-y-3 sm:flex-row sm:justify-between sm:items-center sm:space-y-0",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-col space-y-1",children:[(0,jsx_runtime.jsx)(plans_navigation.A,{groupId,groupName,planName}),(0,jsx_runtime.jsx)("h1",{className:"text-lg sm:text-xl md:text-2xl lg:text-3xl font-semibold mt-1",children:planName})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsxs)(ui_button.$,{onClick:()=>setCreateIdeaOpen(!0),variant:"default",size:"sm",className:"h-8",children:[(0,jsx_runtime.jsx)(circle_plus.A,{className:"h-3.5 w-3.5 mr-1.5"}),"Add Idea"]}),isAuthenticated&&(0,jsx_runtime.jsx)(AddIdeasDialog,{groupId,planId,onIdeasAdded:newIdeas=>{setIdeas((prevIdeas=>[...prevIdeas,...newIdeas]))}})]})]})}),isGuest&&(0,jsx_runtime.jsx)("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 my-4 rounded-md border border-blue-200 dark:border-blue-800",children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)(info.A,{className:"h-5 w-5 text-blue-500 mr-2"}),(0,jsx_runtime.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["You're viewing this as a guest."," ",(0,jsx_runtime.jsx)("a",{href:"/signup",className:"underline font-medium",children:"Sign up"})," ","to create an account and keep track of your ideas."]})]})}),(0,jsx_runtime.jsx)(CreateIdeaDialog,{open:createIdeaOpen,onOpenChange:setCreateIdeaOpen,onSubmit:async formData=>{setSubmitting(!0);try{const response=await fetch(`/api/groups/${groupId}/plans/${planId}/ideas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...formData,position:{columnId:formData.type,index:0}})});if(!response.ok){const data=await response.json();throw new Error(data.error||"Failed to create idea")}const{idea}=await response.json();setIdeas((prev=>[...prev,idea])),setCreateIdeaOpen(!1),(0,use_toast.oR)({title:"Success",description:"Idea created successfully"})}catch(error){plan_ideas_client_console.error("Error creating idea:",error),(0,use_toast.oR)({title:"Error",description:error instanceof Error?error.message:"Failed to create idea",variant:"destructive"})}finally{setSubmitting(!1)}},isSubmitting:submitting}),isLoading&&0===ideas.length?(0,jsx_runtime.jsx)("div",{className:"flex justify-center items-center h-40",children:(0,jsx_runtime.jsx)(loader_circle.A,{className:"h-8 w-8 animate-spin text-primary"})}):(0,jsx_runtime.jsx)("div",{className:"mt-6 grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:ideas.map((idea=>(0,jsx_runtime.jsx)("div",{className:"flex flex-col h-full",children:(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsx)(idea_card.A,{idea,onDelete:()=>(async ideaId=>{if(groupId&&planId)try{const response=await fetch(`/api/groups/${groupId}/plans/${planId}/ideas/${ideaId}`,{method:"DELETE"});if(!response.ok){const data=await response.json();throw new Error(data.error||"Failed to delete idea")}setIdeas((prevIdeas=>prevIdeas.filter((idea=>idea.id!==ideaId))))}catch(err){plan_ideas_client_console.error("Error deleting idea:",err.message),(0,use_toast.oR)({title:"Error",description:err.message,variant:"destructive"})}})(idea.id),onEdit:()=>{setSelectedIdea(idea),setIsEditing(!0)},position:idea.position||{columnId:idea.type,index:0},onPositionChange:newPosition=>((ideaId,position)=>{setIdeas((prevIdeas=>prevIdeas.map((idea=>idea.id===ideaId?{...idea,position}:idea))));const positionUpdate={ideaId,position};fetch(`/api/groups/${groupId}/plans/${planId}/ideas/position`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({positions:[positionUpdate]})}).catch((error=>{plan_ideas_client_console.error("Error updating idea position:",error),(0,use_toast.oR)({title:"Error",description:"Failed to update idea position",variant:"destructive"})}))})(idea.id,newPosition),userId,isAuthenticated,groupId,selected:(null==selectedIdea?void 0:selectedIdea.id)===idea.id}),(0,jsx_runtime.jsx)("div",{className:"absolute top-2 right-2 z-50",children:(0,jsx_runtime.jsxs)(dropdown_menu.rI,{children:[(0,jsx_runtime.jsx)(dropdown_menu.ty,{asChild:!0,children:(0,jsx_runtime.jsxs)(ui_button.$,{variant:"ghost",className:"h-8 w-8 p-0",children:[(0,jsx_runtime.jsx)(ellipsis_vertical.A,{className:"h-4 w-4"}),(0,jsx_runtime.jsx)("span",{className:"sr-only",children:"Open menu"})]})}),(0,jsx_runtime.jsxs)(dropdown_menu.SQ,{align:"end",children:[(0,jsx_runtime.jsx)(dropdown_menu._2,{onClick:()=>{setSelectedIdea(idea),setIsEditing(!0)},children:"Edit"}),(0,jsx_runtime.jsx)(dropdown_menu.mB,{}),(0,jsx_runtime.jsx)(RemoveFromPlanDialog,{groupId,planId,ideaId:idea.id,ideaTitle:idea.title,onRemoved:handleRemoveIdeaFromPlan,trigger:(0,jsx_runtime.jsx)(dropdown_menu._2,{onSelect:e=>e.preventDefault(),className:"text-destructive focus:text-destructive",children:"Remove from plan"})})]})]})})]})},idea.id)))}),!isLoading&&0===ideas.length&&(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center justify-center py-12 px-4 text-center",children:[(0,jsx_runtime.jsx)("div",{className:"text-muted-foreground mb-4",children:"No ideas in this plan yet"}),(0,jsx_runtime.jsx)("p",{className:"text-sm text-muted-foreground mb-6 max-w-md",children:"Start by adding new ideas or importing existing ideas from the group"}),(0,jsx_runtime.jsxs)(ui_button.$,{onClick:()=>setCreateIdeaOpen(!0),children:[(0,jsx_runtime.jsx)(circle_plus.A,{className:"h-4 w-4 mr-2"}),"Add Your First Idea"]})]}),isEditing&&selectedIdea&&(0,jsx_runtime.jsx)(EditIdeaDialog,{groupId,planSlug,open:isEditing,onOpenChange:setIsEditing,idea:selectedIdea,onIdeaUpdated:updatedIdea=>{setIdeas((prev=>prev.map((i=>i.id===updatedIdea.id?updatedIdea:i)))),setIsEditing(!1)}})]})}PlanIdeasClient.__docgenInfo={description:"",methods:[],displayName:"PlanIdeasClient",props:{groupId:{required:!0,tsType:{name:"string"},description:""},planId:{required:!0,tsType:{name:"string"},description:""},planSlug:{required:!0,tsType:{name:"string"},description:""},planName:{required:!0,tsType:{name:"string"},description:""},groupName:{required:!0,tsType:{name:"string"},description:""},initialIdeas:{required:!0,tsType:{name:"Array",elements:[{name:"LocalGroupIdea"}],raw:"LocalGroupIdea[]"},description:""},isAdmin:{required:!0,tsType:{name:"boolean"},description:""},isCreator:{required:!0,tsType:{name:"boolean"},description:""},userId:{required:!0,tsType:{name:"string"},description:""},isAuthenticated:{required:!0,tsType:{name:"boolean"},description:""},isGuest:{required:!1,tsType:{name:"boolean"},description:""},guestToken:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""}}};var utilities_esm=__webpack_require__("./node_modules/@dnd-kit/utilities/dist/utilities.esm.js"),style=__webpack_require__("./node_modules/styled-jsx/style.js"),style_default=__webpack_require__.n(style),react_toast_dist=__webpack_require__("./node_modules/@radix-ui/react-toast/dist/index.mjs"),class_variance_authority_dist=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"),x=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/x.js");react_toast_dist.Kq;const ToastViewport=react.forwardRef((({className,...props},ref)=>(0,jsx_runtime.jsx)(react_toast_dist.LM,{ref,className:(0,utils.cn)("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",className),...props})));ToastViewport.displayName=react_toast_dist.LM.displayName;const toastVariants=(0,class_variance_authority_dist.F)("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),AnimationWrapper=({children})=>(0,jsx_runtime.jsxs)("div",{style:{animation:"toast-in 0.4s ease forwards"},className:"jsx-dfccf955620c036c animate-toast-in",children:[(0,jsx_runtime.jsx)(style_default(),{id:"dfccf955620c036c",children:"@-webkit-keyframes toast-in{0%{opacity:0;-webkit-transform:translatey(50px)scale(.9);transform:translatey(50px)scale(.9)}100%{opacity:1;-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-moz-keyframes toast-in{0%{opacity:0;-moz-transform:translatey(50px)scale(.9);transform:translatey(50px)scale(.9)}100%{opacity:1;-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-o-keyframes toast-in{0%{opacity:0;-o-transform:translatey(50px)scale(.9);transform:translatey(50px)scale(.9)}100%{opacity:1;-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@keyframes toast-in{0%{opacity:0;-webkit-transform:translatey(50px)scale(.9);-moz-transform:translatey(50px)scale(.9);-o-transform:translatey(50px)scale(.9);transform:translatey(50px)scale(.9)}100%{opacity:1;-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}}@-webkit-keyframes toast-out{0%{opacity:1;-webkit-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}100%{opacity:0;-webkit-transform:translatey(20px)scale(.9);transform:translatey(20px)scale(.9)}}@-moz-keyframes toast-out{0%{opacity:1;-moz-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}100%{opacity:0;-moz-transform:translatey(20px)scale(.9);transform:translatey(20px)scale(.9)}}@-o-keyframes toast-out{0%{opacity:1;-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}100%{opacity:0;-o-transform:translatey(20px)scale(.9);transform:translatey(20px)scale(.9)}}@keyframes toast-out{0%{opacity:1;-webkit-transform:translatey(0)scale(1);-moz-transform:translatey(0)scale(1);-o-transform:translatey(0)scale(1);transform:translatey(0)scale(1)}100%{opacity:0;-webkit-transform:translatey(20px)scale(.9);-moz-transform:translatey(20px)scale(.9);-o-transform:translatey(20px)scale(.9);transform:translatey(20px)scale(.9)}}.animate-toast-in{-webkit-animation:toast-in.4s ease-out forwards;-moz-animation:toast-in.4s ease-out forwards;-o-animation:toast-in.4s ease-out forwards;animation:toast-in.4s ease-out forwards}.animate-toast-out{-webkit-animation:toast-out.2s ease-in forwards;-moz-animation:toast-out.2s ease-in forwards;-o-animation:toast-out.2s ease-in forwards;animation:toast-out.2s ease-in forwards}"}),children]}),Toast=react.forwardRef((({className,variant,...props},ref)=>(0,jsx_runtime.jsx)(AnimationWrapper,{children:(0,jsx_runtime.jsx)(react_toast_dist.bL,{ref,className:(0,utils.cn)(toastVariants({variant}),className),...props})})));Toast.displayName=react_toast_dist.bL.displayName;const ToastAction=react.forwardRef((({className,...props},ref)=>(0,jsx_runtime.jsx)(react_toast_dist.rc,{ref,className:(0,utils.cn)("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",className),...props})));ToastAction.displayName=react_toast_dist.rc.displayName;const ToastClose=react.forwardRef((({className,...props},ref)=>(0,jsx_runtime.jsx)(react_toast_dist.bm,{ref,className:(0,utils.cn)("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",className),"toast-close":"",...props,children:(0,jsx_runtime.jsx)(x.A,{className:"h-4 w-4"})})));ToastClose.displayName=react_toast_dist.bm.displayName;const ToastTitle=react.forwardRef((({className,...props},ref)=>(0,jsx_runtime.jsx)(react_toast_dist.hE,{ref,className:(0,utils.cn)("text-sm font-semibold",className),...props})));ToastTitle.displayName=react_toast_dist.hE.displayName;const ToastDescription=react.forwardRef((({className,...props},ref)=>(0,jsx_runtime.jsx)(react_toast_dist.VY,{ref,className:(0,utils.cn)("text-sm opacity-90",className),...props})));ToastDescription.displayName=react_toast_dist.VY.displayName,ToastViewport.__docgenInfo={description:"",methods:[]},Toast.__docgenInfo={description:"",methods:[]},ToastTitle.__docgenInfo={description:"",methods:[]},ToastDescription.__docgenInfo={description:"",methods:[]},ToastClose.__docgenInfo={description:"",methods:[]},ToastAction.__docgenInfo={description:"",methods:[]};var ideas_whiteboard_console=__webpack_require__("./node_modules/console-browserify/index.js");const COLUMNS=[{id:"destination",label:"Destination",icon:(0,jsx_runtime.jsx)(map_pin.A,{className:"h-3 w-3"}),emoji:"📍",color:"travel-blue",gradientFrom:"from-[hsl(var(--travel-blue)/0.05)]",emptyStateText:"Add destinations you're considering"},{id:"date",label:"Date",icon:(0,jsx_runtime.jsx)(calendar_days.A,{className:"h-3 w-3"}),emoji:"📅",color:"travel-yellow",gradientFrom:"from-[hsl(var(--travel-yellow)/0.05)]",emptyStateText:"When are you planning to go?"},{id:"activity",label:"Activity",icon:(0,jsx_runtime.jsx)(square_activity.A,{className:"h-3 w-3"}),emoji:"🏄‍♂️",color:"travel-mint",gradientFrom:"from-[hsl(var(--travel-mint)/0.05)]",emptyStateText:"Add activities you'd like to do"},{id:"budget",label:"Budget",icon:(0,jsx_runtime.jsx)(dollar_sign.A,{className:"h-3 w-3"}),emoji:"💰",color:"travel-peach",gradientFrom:"from-[hsl(var(--travel-peach)/0.05)]",emptyStateText:"Add budget considerations"},{id:"other",label:"Other",icon:(0,jsx_runtime.jsx)(lightbulb.A,{className:"h-3 w-3"}),emoji:"💭",color:"travel-purple",gradientFrom:"from-[hsl(var(--travel-purple)/0.05)]",emptyStateText:"Add other ideas or notes"}];function SortableItem({id,children,className}){const{attributes,listeners,setNodeRef,transform,transition,isDragging}=(0,sortable_esm.gl)({id}),style={transform:utilities_esm.Ks.Transform.toString(transform),transition,opacity:isDragging?.5:1};return(0,jsx_runtime.jsx)("div",{ref:setNodeRef,style,className,...attributes,...listeners,children})}function IdeasWhiteboard({groupId,groupName,isAuthenticated,isGuest,guestToken,isAdmin,isCreator,planSlug,planId}){var _safeIdeasByColumn_destination,_safeIdeasByColumn_activity,_safeIdeasByColumn_budget;const{user}=(0,auth_provider.As)(),params=(0,navigation.useParams)(),resolvedGroupId=groupId||(null==params?void 0:params.id),{toast}=(0,use_toast.dj)(),{theme,setTheme}=(0,next_themes_dist.D)(),{setFullscreen}=function useLayoutMode(){const context=(0,react.useContext)(LayoutModeContext);if(void 0===context)throw new Error("useLayoutMode must be used within a LayoutModeProvider");return context}();(0,react.useEffect)((()=>{(null==user?void 0:user.id)&&localStorage.setItem("user_id",user.id)}),[null==user?void 0:user.id]),(0,react.useEffect)((()=>(setFullscreen(!0),()=>{setFullscreen(!1)})),[setFullscreen]);const{ideas,setIdeas,loading,setLoading,error,addIdea:addStoreIdea,updateIdea:updateStoreIdea,removeIdea:deleteStoreIdea}=useIdeaStore(),[showAddModal,setShowAddModal]=(0,react.useState)(!1),[showReadyModal,setShowReadyModal]=(0,react.useState)(!1),[showCollaborators,setShowCollaborators]=(0,react.useState)(!1),[editingIdea,setEditingIdea]=(0,react.useState)(null),[draggedIdea,setDraggedIdea]=(0,react.useState)(null),[dragOverColumn,setDragOverColumn]=(0,react.useState)(null),[inlineEditColumn,setInlineEditColumn]=(0,react.useState)(null),[newIdeaTitle,setNewIdeaTitle]=(0,react.useState)(""),[datePickerOpen,setDatePickerOpen]=(0,react.useState)(!1),[selectedDate,setSelectedDate]=(0,react.useState)(void 0),[showDatePickerDialog,setShowDatePickerDialog]=(0,react.useState)(!1),[showDateDialog,setShowDateDialog]=(0,react.useState)(!1),[showBudgetDialog,setShowBudgetDialog]=(0,react.useState)(!1),[showOtherDialog,setShowOtherDialog]=(0,react.useState)(!1),[dateDialogValue,setDateDialogValue]=(0,react.useState)(void 0),[budgetDialogValue,setBudgetDialogValue]=(0,react.useState)(""),[budgetCustomValue,setBudgetCustomValue]=(0,react.useState)(""),[openMobileColumn,setOpenMobileColumn]=(0,react.useState)(null),[highlightedBudgetIdx,setHighlightedBudgetIdx]=(0,react.useState)(0),[showMapboxInput,setShowMapboxInput]=(0,react.useState)(!1),[showHelpDialog,setShowHelpDialog]=(0,react.useState)(!1),[showMapboxDialog,setShowMapboxDialog]=(0,react.useState)(!1),[showShortcutsBar,setShowShortcutsBar]=(0,react.useState)(!0),[dragOverIndex,setDragOverIndex]=(0,react.useState)(null),[isSubmitting,setIsSubmitting]=(0,react.useState)(!1),[simplifiedView,setSimplifiedView]=(0,react.useState)(!1),[createIdeaOpen,setCreateIdeaOpen]=(0,react.useState)(!1),[createIdeaSubmitting,setCreateIdeaSubmitting]=(0,react.useState)(!1),[selectedIds,setSelectedIds]=(0,react.useState)([]),[isSelectedDragging,setIsSelectedDragging]=(0,react.useState)(!1),[showCursors,setShowCursors]=(0,react.useState)(!1),boardRef=(0,react.useRef)(null),inlineEditInputRef=(0,react.useRef)(null),inlineEditInputRefWrapper=(0,react.useRef)(null),budgetInputRef=(0,react.useRef)(null),addButtonRefs=(0,react.useRef)([]),presenceContext=(0,ideas_presence_context.HR)(resolvedGroupId),activeUsers=presenceContext.activeUsers||[],uniqueActiveUsers=(null==user||user.id,react.useMemo((()=>{const userMap=new Map;return activeUsers.forEach((user=>{user&&user.id&&userMap.set(user.id,user)})),Array.from(userMap.values())}),[activeUsers])),ideasByColumnMemo=react.useMemo((()=>{const grouped={destination:[],date:[],activity:[],budget:[],other:[]};return ideas.forEach((idea=>{const columnId=idea.position&&"columnId"in idea.position?idea.position.columnId:idea.type;grouped[columnId]?grouped[columnId].push(idea):grouped.other.push(idea)})),Object.keys(grouped).forEach((columnId=>{grouped[columnId].sort(((a,b)=>(a.position&&"index"in a.position?a.position.index:0)-(b.position&&"index"in b.position?b.position.index:0)))})),grouped}),[ideas]),safeIdeasByColumn=null!=ideasByColumnMemo?ideasByColumnMemo:{destination:[],date:[],activity:[],budget:[],other:[]};(0,react.useEffect)((()=>{inlineEditColumn&&inlineEditInputRef.current&&inlineEditInputRef.current.focus()}),[inlineEditColumn]);const fetchIdeas=(0,react.useCallback)((async()=>{setLoading(!0);try{const{data,error:fetchError}=await(0,browser_client.getBrowserClient)().from("group_plan_ideas").select("*").eq("group_id",resolvedGroupId);if(fetchError)throw fetchError;const processedIdeasWithSelected=(data||[]).map((idea=>{let position;return position=idea.position?"object"==typeof idea.position&&null!==idea.position&&"x"in idea.position?{columnId:idea.type,index:0}:idea.position:{columnId:idea.type,index:0},{...idea,position}})).map((idea=>{let metaObj=null;if(idea.meta)if("string"==typeof idea.meta)try{metaObj=JSON.parse(idea.meta)}catch(e){metaObj={value:idea.meta}}else metaObj=idea.meta;return{...idea,selected:!1,meta:metaObj,guest_token:idea.guest_token||null,votes_up:idea.votes_up||0,votes_down:idea.votes_down||0}}));setIdeas(processedIdeasWithSelected)}catch(err){ideas_whiteboard_console.error("Error fetching ideas:",err),toast({title:"Error loading ideas",description:"There was a problem loading the ideas board.",variant:"destructive"})}finally{setLoading(!1)}}),[resolvedGroupId,setIdeas,setLoading,toast]);(0,react.useEffect)((()=>{fetchIdeas();return(isAuthenticated||isGuest)&&(async()=>{})(),()=>{}}),[planId,groupId,isAuthenticated,isGuest,fetchIdeas]);const savePositionUpdates=(0,react.useCallback)((0,lodash.debounce)((async updates=>{if(0!==updates.length)try{const{error:updateError}=await(0,browser_client.getBrowserClient)().from("group_plan_ideas").upsert(updates.map((u=>({id:u.id,position:u.position,updated_at:(new Date).toISOString(),group_id:groupId,title:"Position update"}))),{onConflict:"id"});if(updateError)throw updateError}catch(err){ideas_whiteboard_console.error("Error saving position updates:",err),toast({title:"Error Saving Layout",description:"Could not save the new idea positions.",variant:"destructive"})}}),1e3),[toast,groupId]),updateIdeaPositions=(0,react.useCallback)((columnId=>{const updates=safeIdeasByColumn[columnId].map(((idea,index)=>({id:idea.id,position:{columnId,index}})));savePositionUpdates(updates)}),[safeIdeasByColumn,savePositionUpdates]);(0,react.useEffect)((()=>{const channel=(0,browser_client.getBrowserClient)().channel(`idea-changes-${resolvedGroupId}`).on("postgres_changes",{event:"*",schema:"public",table:"group_ideas",filter:`group_id=eq.${resolvedGroupId}`},(payload=>{switch(ideas_whiteboard_console.log("Realtime event:",payload),payload.eventType){case"INSERT":const insertedIdea=payload.new,position=insertedIdea.position&&"object"==typeof insertedIdea.position&&"columnId"in insertedIdea.position?insertedIdea.position:{columnId:insertedIdea.type,index:0},newIdeaForStore={...insertedIdea,id:insertedIdea.id,group_id:insertedIdea.group_id,created_by:insertedIdea.created_by,type:insertedIdea.type,position};addStoreIdea(newIdeaForStore);break;case"UPDATE":const updatedIdeaData=payload.new;updateStoreIdea(payload.old.id,updatedIdeaData);break;case"DELETE":payload.old&&payload.old.id?deleteStoreIdea(payload.old.id):ideas_whiteboard_console.warn("Realtime DELETE event missing old record id",payload)}})).subscribe(((status,err)=>{"SUBSCRIBED"===status&&ideas_whiteboard_console.log("Realtime channel subscribed"),err&&(ideas_whiteboard_console.error("Realtime subscription error:",err),toast({title:"Realtime Error",description:"Could not connect for live updates.",variant:"destructive"}))}));return()=>{channel.unsubscribe()}}),[resolvedGroupId,addStoreIdea,updateStoreIdea,deleteStoreIdea,toast]);const handleIdeaSubmit=async ideaData=>{setIsSubmitting(!0);try{const payload={...ideaData,position:ideaData.position||{columnId:ideaData.type,index:0},plan_id:planId};ideas_whiteboard_console.log("Creating idea with payload:",payload);const response=await fetch(`/api/groups/${groupId}/ideas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(payload)});if(!response.ok){const errorData=await response.json();throw ideas_whiteboard_console.error("Error response from server:",errorData),new Error(errorData.error||"Failed to create idea")}const{idea}=await response.json();return addStoreIdea(idea),toast({title:"Created!",description:`Idea "${idea.title}" has been added`,variant:"default"}),idea}catch(error){throw ideas_whiteboard_console.error("Error creating idea:",error),toast({title:"Error",description:error instanceof Error?error.message:"Failed to create idea",variant:"destructive"}),error}finally{setIsSubmitting(!1)}},handleDeleteIdea=async ideaId=>{try{const ideaToDelete=ideas.find((i=>i.id===ideaId));if(!ideaToDelete)return;const columnId=ideaToDelete.position&&"columnId"in ideaToDelete.position?ideaToDelete.position.columnId:ideaToDelete.type;await(0,browser_client.getBrowserClient)().from("group_plan_ideas").delete().eq("id",ideaId),deleteStoreIdea(ideaId),updateIdeaPositions(columnId),handleTrackEvent(EVENT_NAME_IDEA_DELETED,EVENT_CATEGORY_IDEA_BOARD,{idea_id:ideaId,idea_type:ideaToDelete.type,group_id:resolvedGroupId,column_id:columnId}),toast({title:"Idea deleted"})}catch(err){ideas_whiteboard_console.error("Error deleting idea:",err),toast({title:"Error",description:"Failed to delete the idea.",variant:"destructive"})}},sensors=(0,core_esm.FR)((0,core_esm.MS)(core_esm.cA,{activationConstraint:{distance:8}}),(0,core_esm.MS)(core_esm.IG,{activationConstraint:{distance:8}})),handleInlineIdeaSubmit=async columnId=>{if(!newIdeaTitle.trim())return setInlineEditColumn(null),void setNewIdeaTitle("");try{var _safeIdeasByColumn_columnId;const tempId=`temp-${Date.now()}`,createdAt=(new Date).toISOString(),authDetails=isGuest?{created_by:null,created_by_guest_token:guestToken||""}:{created_by:(null==user?void 0:user.id)||"",created_by_guest_token:null},ideaData={group_id:resolvedGroupId,type:columnId,title:newIdeaTitle.trim(),description:"date"===columnId&&selectedDate?`Date: ${selectedDate.toLocaleDateString()}`:"",plan_id:planId,...authDetails},position={columnId,index:(null===(_safeIdeasByColumn_columnId=safeIdeasByColumn[columnId])||void 0===_safeIdeasByColumn_columnId?void 0:_safeIdeasByColumn_columnId.length)||0},optimisticIdea={id:tempId,group_id:ideaData.group_id,type:ideaData.type,title:ideaData.title,description:ideaData.description||"",created_at:createdAt,updated_at:createdAt,created_by:authDetails.created_by,created_by_guest_token:authDetails.created_by_guest_token,position,notes:"",link:"",link_meta:null,comment_count:0,guest_token:null,votes_up:0,votes_down:0,selected:!1,meta:null};addStoreIdea(optimisticIdea),setInlineEditColumn(null),setNewIdeaTitle("");const response=await fetch(`/api/groups/${resolvedGroupId}/ideas`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...ideaData,position})});if(!response.ok){deleteStoreIdea(tempId);const errorData=await response.json();throw ideas_whiteboard_console.error("Error creating idea:",errorData),new Error(errorData.error||"Failed to create idea")}const responseData=await response.json(),newIdea=responseData.data||responseData;deleteStoreIdea(tempId),addStoreIdea(newIdea),toast({title:"Idea created!",description:"Your idea has been added to the board",variant:"default"})}catch(error){ideas_whiteboard_console.error("Error adding idea:",error),toast({title:"Error",description:error instanceof Error?error.message:"Failed to add idea",variant:"destructive"})}},BUDGET_OPTIONS=["$50","$100","$200","$500+","Other"];(0,react.useEffect)((()=>{if(inlineEditColumn)return document.addEventListener("mousedown",handleClickOutside),()=>{document.removeEventListener("mousedown",handleClickOutside)};function handleClickOutside(event){inlineEditInputRefWrapper.current&&!inlineEditInputRefWrapper.current.contains(event.target)&&(setInlineEditColumn(null),setNewIdeaTitle(""))}}),[inlineEditColumn]);(0,react.useRef)(null);const isOwner=void 0!==user&&"owner"===(null==user?void 0:user.role);var _safeIdeasByColumn_destination_length,_safeIdeasByColumn_activity_length,_safeIdeasByColumn_budget_length;const canVote=(null!==(_safeIdeasByColumn_destination_length=null===(_safeIdeasByColumn_destination=safeIdeasByColumn.destination)||void 0===_safeIdeasByColumn_destination?void 0:_safeIdeasByColumn_destination.length)&&void 0!==_safeIdeasByColumn_destination_length?_safeIdeasByColumn_destination_length:0)>0&&(null!==(_safeIdeasByColumn_activity_length=null===(_safeIdeasByColumn_activity=safeIdeasByColumn.activity)||void 0===_safeIdeasByColumn_activity?void 0:_safeIdeasByColumn_activity.length)&&void 0!==_safeIdeasByColumn_activity_length?_safeIdeasByColumn_activity_length:0)>0&&(null!==(_safeIdeasByColumn_budget_length=null===(_safeIdeasByColumn_budget=safeIdeasByColumn.budget)||void 0===_safeIdeasByColumn_budget?void 0:_safeIdeasByColumn_budget.length)&&void 0!==_safeIdeasByColumn_budget_length?_safeIdeasByColumn_budget_length:0)>0;(0,react.useEffect)((()=>{if(!(window.innerWidth<768))return window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown);function handleKeyDown(e){if(!e.repeat&&!function isInputFocused(){const el=document.activeElement;if(!el)return!1;const tag=el.tagName.toLowerCase();return"input"===tag||"textarea"===tag||el.isContentEditable}()){if("Escape"===e.key)return setShowDateDialog(!1),setShowBudgetDialog(!1),setShowOtherDialog(!1),void setInlineEditColumn(null);var _addButtonRefs_current_;if("/"===e.key)return null===(_addButtonRefs_current_=addButtonRefs.current[0])||void 0===_addButtonRefs_current_||_addButtonRefs_current_.focus(),void e.preventDefault();if("d"!==e.key.toLowerCase())if("a"!==e.key.toLowerCase()){if("b"===e.key.toLowerCase())return setShowBudgetDialog(!0),void setHighlightedBudgetIdx(0);if("t"!==e.key.toLowerCase())if("o"!==e.key.toLowerCase()){if(e.ctrlKey&&e.shiftKey&&"Enter"===e.key){if(!isOwner)return;return canVote?openVotingModal():toast({title:"Cannot start voting",description:"You need at least one destination, activity, and budget idea to start voting."}),void e.preventDefault()}if(showBudgetDialog){if("ArrowDown"===e.key)return setHighlightedBudgetIdx((i=>(i+1)%BUDGET_OPTIONS.length)),void e.preventDefault();if("ArrowUp"===e.key)return setHighlightedBudgetIdx((i=>(i-1+BUDGET_OPTIONS.length)%BUDGET_OPTIONS.length)),void e.preventDefault();if("Enter"===e.key){const selected=BUDGET_OPTIONS[highlightedBudgetIdx];var _budgetInputRef_current;if("Other"===selected)null===(_budgetInputRef_current=budgetInputRef.current)||void 0===_budgetInputRef_current||_budgetInputRef_current.focus();else handleBudgetIdeaSubmit(selected),setShowBudgetDialog(!1);return void e.preventDefault()}}}else setInlineEditColumn("other");else setShowDateDialog(!0)}else setInlineEditColumn("activity");else setShowMapboxDialog(!0)}}}),[showBudgetDialog,highlightedBudgetIdx,isOwner,canVote]);const openVotingModal="function"==typeof setShowReadyModal?()=>setShowReadyModal(!0):()=>{},handleBudgetIdeaSubmit=value=>{value&&handleIdeaSubmit({type:"budget",title:value,description:`Budget: ${value} per person`})};(0,react.useEffect)((()=>{function handleKeyDown(e){(function isInputFocused(){const el=document.activeElement;if(!el)return!1;const tag=el.tagName.toLowerCase();return"input"===tag||"textarea"===tag||el.isContentEditable})()||("/"!==e.key||e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(setShowHelpDialog(!0),e.preventDefault()),"Escape"===e.key&&setShowHelpDialog(!1))}return window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown)}),[]);0===safeIdeasByColumn.destination.length||0===safeIdeasByColumn.date.length||0===safeIdeasByColumn.activity.length||safeIdeasByColumn.budget.length,(0,navigation.useRouter)();const[windowWidth,setWindowWidth]=(0,react.useState)(null);(0,react.useEffect)((()=>{function handleResize(){setWindowWidth(window.innerWidth)}return setWindowWidth(window.innerWidth),window.addEventListener("resize",handleResize),()=>window.removeEventListener("resize",handleResize)}),[]);uniqueActiveUsers.slice(0,3),uniqueActiveUsers.length;const ideasProgress=(0,react.useMemo)((()=>COLUMNS.filter((column=>{var _safeIdeasByColumn_column_id;return(null===(_safeIdeasByColumn_column_id=safeIdeasByColumn[column.id])||void 0===_safeIdeasByColumn_column_id?void 0:_safeIdeasByColumn_column_id.length)>0})).length/COLUMNS.length*100),[safeIdeasByColumn]),readyForVoting=ideasProgress>=80,handleColumnAddClick=columnId=>{"destination"!==columnId?"date"!==columnId?"budget"!==columnId?(setInlineEditColumn(columnId),setNewIdeaTitle(""),setTimeout((()=>{inlineEditInputRef.current&&inlineEditInputRef.current.focus()}),10)):setShowBudgetDialog(!0):setShowDateDialog(!0):setShowMapboxDialog(!0)},[showTour,setShowTour]=(0,react.useState)(!1),{showOnborda,handleCloseTour}=((0,react.useCallback)((()=>{setShowTour(!0)}),[]),function useIdeasTourController(isGuest){const searchParams=(0,navigation.useSearchParams)(),params=(0,navigation.useParams)(),[showOnborda,setShowOnborda]=(0,react.useState)(!1),[isMounted,setIsMounted]=(0,react.useState)(!1),[hasCompletedTour,setHasCompletedTour]=(0,react.useState)(!1),[isLoading,setIsLoading]=(0,react.useState)(!0);(0,react.useEffect)((()=>(setIsMounted(!0),()=>setIsMounted(!1))),[]),(0,react.useEffect)((()=>{isMounted&&(async()=>{try{const forceShowTour="true"===(null==searchParams?void 0:searchParams.get("show-tour")),groupId=null==params?void 0:params.id,planSlug=null==params?void 0:params.slug;if(forceShowTour)return setShowOnborda(!0),groupId&&planSlug&&trackPlanEvent({groupId,planId:planSlug,eventType:PLAN_EVENT_TYPES_TOUR_START,eventData:{forced:!0}}),void setIsLoading(!1);if(isGuest){try{if("undefined"!=typeof localStorage){const completed="true"===localStorage.getItem(`tour-completed-${TOUR_ID}`);setHasCompletedTour(completed),completed||(setShowOnborda(!0),groupId&&planSlug&&trackPlanEvent({groupId,planId:planSlug,eventType:PLAN_EVENT_TYPES_TOUR_START,eventData:{automatic:!0}}))}setIsLoading(!1)}catch(storageError){ideas_tour_controller_console.error("Error accessing localStorage:",storageError),setIsLoading(!1)}return}try{const{checkTourCompletionStatus}=await __webpack_require__.e(3963).then(__webpack_require__.bind(__webpack_require__,"./app/lib/onboarding/hooks/use-onboarding.ts")),hasCompletedTour=await checkTourCompletionStatus(TOUR_ID,{isGuest});setHasCompletedTour(hasCompletedTour),hasCompletedTour||(setShowOnborda(!0),groupId&&planSlug&&trackPlanEvent({groupId,planId:planSlug,eventType:PLAN_EVENT_TYPES_TOUR_START,eventData:{automatic:!0}})),setIsLoading(!1)}catch(error){ideas_tour_controller_console.error("Error in tour controller:",error),setIsLoading(!1)}}catch(error){ideas_tour_controller_console.error("Failed to check tour completion:",error),setIsLoading(!1)}})()}),[isMounted,params,searchParams,isGuest]);const handleCloseTour=(0,react.useCallback)((async()=>{setShowOnborda(!1),setHasCompletedTour(!0);const groupId=null==params?void 0:params.id,planSlug=null==params?void 0:params.slug;groupId&&planSlug&&trackPlanEvent({groupId,planId:planSlug,eventType:PLAN_EVENT_TYPES_TOUR_COMPLETE,eventData:{automatic:!1}}).catch((error=>{ideas_tour_controller_console.warn("Failed to track tour completion event:",error)}));try{const{markTourAsCompleted}=await __webpack_require__.e(3963).then(__webpack_require__.bind(__webpack_require__,"./app/lib/onboarding/hooks/use-onboarding.ts"));await markTourAsCompleted(TOUR_ID,!1,{isGuest})}catch(error){ideas_tour_controller_console.error("Error marking tour as completed:",error),"undefined"!=typeof localStorage&&localStorage.setItem(`tour-completed-${TOUR_ID}`,"true")}}),[isGuest,params]);return{showOnborda,setShowOnborda,handleCloseTour,isLoading}}(isGuest)),[showKeyboardShortcuts,setShowKeyboardShortcuts]=(0,react.useState)(!1);(0,react.useEffect)((()=>{const handleKeyDown=e=>{"?"!==e.key||e.ctrlKey||e.metaKey||setShowKeyboardShortcuts(!0),"Escape"===e.key&&showKeyboardShortcuts&&setShowKeyboardShortcuts(!1)};return window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown)}),[showKeyboardShortcuts]),(0,react.useEffect)((()=>{const handleKeyDown=e=>{const target=e.target;if(!(target instanceof HTMLInputElement||target instanceof HTMLTextAreaElement||target instanceof HTMLSelectElement||target.isContentEditable||target.closest&&target.closest(".idea-card-comment-form")||target.closest&&target.closest('[data-editing="true"]')||showAddModal||showReadyModal||showDateDialog||showBudgetDialog||showOtherDialog||showMapboxDialog||showKeyboardShortcuts||null!==inlineEditColumn)){if("n"!==e.key||e.ctrlKey||e.metaKey||(e.preventDefault(),handleColumnAddClick("activity")),("Delete"===e.key||"Backspace"===e.key)&&selectedIds.length>0&&(e.preventDefault(),handleDeleteSelectedIdeas()),(e.metaKey||e.ctrlKey)&&"a"===e.key){e.preventDefault();const allIdeaIds=Object.values(ideasByColumnMemo).flat().map((idea=>idea.id));setSelectedIds(allIdeaIds)}(e.metaKey||e.ctrlKey)&&"d"===e.key&&(e.preventDefault(),setSelectedIds([])),"v"!==e.key||e.ctrlKey||e.metaKey||(e.preventDefault(),setShowReadyModal(!0))}};return window.addEventListener("keydown",handleKeyDown),()=>window.removeEventListener("keydown",handleKeyDown)}),[selectedIds,ideasByColumnMemo,showAddModal,showReadyModal,showDateDialog,showBudgetDialog,showOtherDialog,showMapboxDialog,showKeyboardShortcuts,inlineEditColumn]);const handleDeleteSelectedIdeas=()=>{0!==selectedIds.length&&toast({title:"Confirm deletion",description:`Delete ${selectedIds.length} selected ideas?`,action:(0,jsx_runtime.jsx)(ToastAction,{onClick:()=>{selectedIds.forEach((ideaId=>{handleDeleteIdea(ideaId)})),setSelectedIds([])},altText:"Delete",children:"Delete"})})},getEmoji=type=>{switch(type){case"destination":return"📍";case"date":return"📅";case"activity":return"🏄‍♂️";case"budget":return"💰";default:return"💭"}};return(0,jsx_runtime.jsx)(ideas_presence_context.jz.Provider,{value:presenceContext,children:(0,jsx_runtime.jsx)("div",{className:"flex flex-col h-screen w-screen overflow-hidden fullscreen-layout",children:(0,jsx_runtime.jsx)(onborda_dist.UD,{steps:[{tour:ideasWhiteboardTour.id,steps:ideasWhiteboardTour.steps}],showOnborda,children:simplifiedView?(0,jsx_runtime.jsx)(PlanIdeasClient,{groupId:resolvedGroupId,planId,planSlug,planName:groupName,groupName,initialIdeas:ideas,isAdmin:isAdmin||!1,isCreator:isCreator||!1,userId:(null==user?void 0:user.id)||"",isAuthenticated,isGuest,guestToken}):(0,jsx_runtime.jsxs)("div",{ref:boardRef,className:"h-screen w-screen bg-background p-0 m-0 relative overflow-hidden",children:[(0,jsx_runtime.jsx)("div",{className:"h-full flex flex-col",children:(0,jsx_runtime.jsxs)("header",{className:"p-4 lg:px-8 bg-card border-b shadow-sm border-b-card z-10 sticky top-0",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-col lg:flex-row items-start lg:items-center justify-between gap-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,jsx_runtime.jsx)(ui_button.$,{variant:"ghost",size:"icon",asChild:!0,className:"rounded-full",children:(0,jsx_runtime.jsx)(link_default(),{href:`/groups/${groupId}`,children:(0,jsx_runtime.jsx)(arrow_left.A,{className:"h-6 w-6 text-muted-foreground"})})}),(0,jsx_runtime.jsx)("div",{className:"flex items-center space-x-3",children:(0,jsx_runtime.jsx)("span",{className:"text-xs text-muted-foreground px-2 py-1 rounded-full border",children:"Ideas"})})]}),(0,jsx_runtime.jsxs)("div",{className:"flex space-x-2",children:[(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",size:"sm",onClick:()=>{setTheme("dark"===theme?"light":"dark")},children:"dark"===theme?"🌞 Light":"🌙 Dark"}),(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",size:"sm",onClick:()=>setSimplifiedView(!simplifiedView),className:"ml-2",children:simplifiedView?"Switch to Board View":"Switch to Simple View"}),(0,jsx_runtime.jsx)(ui_button.$,{onClick:()=>setShowReadyModal(!0),disabled:!readyForVoting,className:(0,utils.cn)("ml-2",readyForVoting?"\n  relative\n  bg-gradient-to-r from-blue-500 to-blue-600 \n  hover:from-blue-600 hover:to-blue-700\n  after:absolute after:inset-0 after:rounded-md after:animate-pulse after:bg-blue-500/30 after:blur-md after:-z-10\n":""),children:"Ready for Voting"})]})]}),(0,jsx_runtime.jsxs)("div",{className:"mb-2",children:[(0,jsx_runtime.jsx)("h1",{className:"text-2xl lg:text-4xl font-bold mb-1 lg:mb-2",children:groupName}),(0,jsx_runtime.jsx)("p",{className:"text-base lg:text-xl text-muted-foreground",children:"Generate ideas for your trip with your group members"})]}),(0,jsx_runtime.jsxs)("div",{className:"action-bar flex justify-between items-center px-4 py-3 mb-4 bg-background/50 backdrop-blur-sm border border-border/50 dark:border-border/30 rounded-xl shadow-sm",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsxs)(ui_button.$,{variant:"outline",size:"sm",className:"h-8 gap-1 text-xs",onClick:()=>handleColumnAddClick("activity"),children:[(0,jsx_runtime.jsx)(circle_plus.A,{className:"h-3.5 w-3.5"}),(0,jsx_runtime.jsx)("span",{children:"Add Idea"})]}),(0,jsx_runtime.jsxs)(ui_button.$,{variant:"ghost",size:"sm",className:"h-8 gap-1 text-xs text-muted-foreground",onClick:()=>setShowKeyboardShortcuts(!0),children:[(0,jsx_runtime.jsx)(keyboard.A,{className:"h-3.5 w-3.5"}),(0,jsx_runtime.jsx)("span",{children:"Shortcuts"})]})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsxs)(ui_button.$,{variant:selectedIds.length>0?"outline":"ghost",size:"sm",className:(0,utils.cn)("h-8 gap-1 text-xs",selectedIds.length>0?"text-destructive":"text-muted-foreground"),disabled:0===selectedIds.length,onClick:handleDeleteSelectedIdeas,children:[(0,jsx_runtime.jsx)(trash_2.A,{className:"h-3.5 w-3.5"}),(0,jsx_runtime.jsx)("span",{children:selectedIds.length>0?`Delete (${selectedIds.length})`:"Delete"})]}),(0,jsx_runtime.jsxs)(ui_button.$,{variant:"default",size:"sm",className:"h-8 gap-1 text-xs",onClick:()=>setShowReadyModal(!0),children:[(0,jsx_runtime.jsx)(circle_check_big.A,{className:"h-3.5 w-3.5"}),(0,jsx_runtime.jsx)("span",{children:"Ready for Voting"})]})]})]}),(0,jsx_runtime.jsx)("div",{className:"flex-1 overflow-hidden flex flex-col h-[calc(100vh-220px)]",children:(0,jsx_runtime.jsx)("div",{className:"flex gap-4 h-full overflow-hidden",children:(0,jsx_runtime.jsxs)(core_esm.Mp,{sensors,collisionDetection:core_esm.y$,onDragStart:event=>{const{active}=event;setDraggedIdea(active.id),selectedIds.includes(active.id)&&setIsSelectedDragging(!0)},onDragEnd:async event=>{var _draggedIdea_position;const{active,over}=event;if(!over)return setDraggedIdea(null),setDragOverColumn(null),void setDragOverIndex(null);const overId=over.id,activeId=active.id,draggedIdea=ideas.find((idea=>idea.id===activeId));if(!draggedIdea)return setDraggedIdea(null),setDragOverColumn(null),void setDragOverIndex(null);const sourceColumnId=(null===(_draggedIdea_position=draggedIdea.position)||void 0===_draggedIdea_position?void 0:_draggedIdea_position.columnId)||draggedIdea.type;if(draggedIdea&&overId.startsWith(sourceColumnId)){const overIdData=overId.split("-");if(overIdData.length>=2){const targetIndex=parseInt(overIdData[1],10);try{await updateStoreIdea(activeId,{position:{columnId:sourceColumnId,index:targetIndex}}),savePositionUpdates([{id:activeId,position:{columnId:sourceColumnId,index:targetIndex}}]),toast({title:"Idea reordered",description:`Idea moved within ${sourceColumnId} column`,variant:"default",duration:2e3})}catch(error){ideas_whiteboard_console.error("Failed to update idea position:",error),toast({title:"Error",description:"Failed to reorder the idea",variant:"destructive"})}}}else toast({title:"Action not allowed",description:"Ideas can only be reordered within their own column",variant:"destructive"});setDraggedIdea(null),setDragOverColumn(null),setDragOverIndex(null),setIsSelectedDragging(!1)},onDragOver:event=>{const{active,over}=event;if(!over||active.id===over.id)return;const overIdData=over.id.split("-");if(overIdData.length>=2){const columnId=overIdData[0],index=parseInt(overIdData[1],10);setDragOverColumn(columnId),setDragOverIndex(index)}},children:[(0,jsx_runtime.jsx)("div",{className:"flex w-full gap-4 h-full",children:COLUMNS.map((column=>{var _ideasByColumnMemo_column_id,_ideasByColumnMemo_column_id1;return(0,jsx_runtime.jsxs)("div",{className:(0,utils.cn)("column-container flex-1 min-w-[280px] max-w-[350px] h-full flex flex-col","rounded-xl border border-border/50 dark:border-border/30 shadow-sm","bg-gradient-to-b",column.gradientFrom,"to-transparent dark:to-transparent"),children:[(0,jsx_runtime.jsxs)("div",{className:(0,utils.cn)("flex items-center justify-between px-4 py-3","border-b border-border/50 dark:border-border/30 bg-background/50 backdrop-blur-sm"),children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,jsx_runtime.jsx)("div",{className:(0,utils.cn)("flex items-center justify-center h-6 w-6 rounded-md",`bg-[hsl(var(--${column.color}))/10`),children:column.icon}),(0,jsx_runtime.jsx)("h3",{className:"font-medium text-sm",children:column.label})]}),(0,jsx_runtime.jsx)(tooltip.Bc,{children:(0,jsx_runtime.jsxs)(tooltip.m_,{children:[(0,jsx_runtime.jsx)(tooltip.k$,{asChild:!0,children:(0,jsx_runtime.jsx)(ui_button.$,{variant:"ghost",size:"sm",className:"h-7 w-7 p-0 rounded-full hover:bg-gray-100/80 dark:hover:bg-gray-800/80 transition-colors duration-200",onClick:()=>handleColumnAddClick(column.id),children:(0,jsx_runtime.jsx)(circle_plus.A,{className:"h-4 w-4 text-muted-foreground"})})}),(0,jsx_runtime.jsxs)(tooltip.ZI,{side:"top",children:["Add ",column.label]})]})})]}),(0,jsx_runtime.jsx)("div",{className:"flex-grow overflow-y-auto overflow-x-hidden p-3 space-y-3 hide-scrollbar",children:(0,jsx_runtime.jsx)(sortable_esm.gB,{items:(null===(_ideasByColumnMemo_column_id=ideasByColumnMemo[column.id])||void 0===_ideasByColumnMemo_column_id?void 0:_ideasByColumnMemo_column_id.map((idea=>idea.id)))||[],strategy:sortable_esm._G,children:(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-2",children:[inlineEditColumn===column.id&&(0,jsx_runtime.jsx)("div",{ref:inlineEditInputRefWrapper,className:"border border-border/80 rounded-lg px-3 py-2 bg-background shadow-sm","data-editing":"true",children:(0,jsx_runtime.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-1 text-sm font-medium text-foreground",children:[(0,jsx_runtime.jsx)("span",{className:"w-4 h-4 flex items-center justify-center text-xs",children:getEmoji(column.id)}),(0,jsx_runtime.jsxs)("span",{children:["New ",column.label]})]}),(0,jsx_runtime.jsx)(input.p,{ref:inlineEditInputRef,value:newIdeaTitle,onChange:e=>setNewIdeaTitle(e.target.value),placeholder:`Add ${column.label.toLowerCase()} idea...`,className:"h-9 text-sm",onKeyDown:e=>{"Enter"===e.key?(e.preventDefault(),handleInlineIdeaSubmit(column.id)):"Escape"===e.key&&(e.preventDefault(),setInlineEditColumn(null),setNewIdeaTitle(""))},autoFocus:!0}),(0,jsx_runtime.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,jsx_runtime.jsx)(ui_button.$,{type:"button",variant:"ghost",size:"sm",className:"h-7 text-xs",onClick:()=>{setInlineEditColumn(null),setNewIdeaTitle("")},children:"Cancel"}),(0,jsx_runtime.jsx)(ui_button.$,{type:"button",variant:"default",size:"sm",className:"h-7 text-xs",onClick:()=>handleInlineIdeaSubmit(column.id),disabled:!newIdeaTitle.trim(),children:"Add"})]})]})}),(!ideasByColumnMemo[column.id]||0===ideasByColumnMemo[column.id].length)&&(0,jsx_runtime.jsx)("div",{className:"flex flex-col items-center justify-center h-32 my-2 rounded-xl border border-dashed border-border/40 dark:border-border/20 bg-background/40",children:(0,jsx_runtime.jsxs)("div",{className:"text-center p-4",children:[(0,jsx_runtime.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"No items"}),(0,jsx_runtime.jsxs)(ui_button.$,{variant:"ghost",size:"sm",className:"text-xs h-8 font-normal text-primary hover:text-primary/80",onClick:()=>handleColumnAddClick(column.id),children:[(0,jsx_runtime.jsx)(circle_plus.A,{className:"h-3 w-3 mr-1",strokeWidth:1.5}),"Add ",column.label]})]})}),null===(_ideasByColumnMemo_column_id1=ideasByColumnMemo[column.id])||void 0===_ideasByColumnMemo_column_id1?void 0:_ideasByColumnMemo_column_id1.map((idea=>(0,jsx_runtime.jsx)(SortableItem,{id:idea.id,children:(0,jsx_runtime.jsx)(idea_card.A,{idea,onEdit:()=>(idea=>{setEditingIdea(idea),setShowAddModal(!0)})(idea),onDelete:()=>handleDeleteIdea(idea.id),selected:selectedIds.includes(idea.id),onSelect:()=>{selectedIds.includes(idea.id)?setSelectedIds(selectedIds.filter((id=>id!==idea.id))):setSelectedIds([...selectedIds,idea.id])},selectedIdeasCount:selectedIds.length})},idea.id)))]})})})]},column.id)}))}),(0,jsx_runtime.jsx)(core_esm.Hd,{children:draggedIdea&&ideas.find((idea=>idea.id===draggedIdea))&&(0,jsx_runtime.jsx)("div",{className:"transform-none",children:(0,jsx_runtime.jsx)(idea_card.A,{idea:ideas.find((idea=>idea.id===draggedIdea)),onDelete:()=>{},onEdit:()=>{},position:{columnId:"other",index:0},onPositionChange:()=>{},userId:(null==user?void 0:user.id)||"",isAuthenticated,groupId:resolvedGroupId})})})]})})})]})}),(0,jsx_runtime.jsx)(AnimatePresence.N,{children:showAddModal&&(0,jsx_runtime.jsx)(proxy.P.div,{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:(0,jsx_runtime.jsx)(add_idea_modal.g,{onClose:()=>{setShowAddModal(!1),setEditingIdea(null)},onSubmit:handleIdeaSubmit,editingIdea})})}),isGuest&&(0,jsx_runtime.jsx)("div",{className:"fixed top-0 left-0 right-0 bg-blue-50 dark:bg-blue-900/20 p-3 z-50 border-b border-blue-200 dark:border-blue-800",children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)(info.A,{className:"h-5 w-5 text-blue-500 mr-2"}),(0,jsx_runtime.jsxs)("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["You're viewing this as a guest."," ",(0,jsx_runtime.jsx)("a",{href:"/signup",className:"underline font-medium",children:"Sign up"})," ","to create an account and keep track of your ideas."]})]})}),(0,jsx_runtime.jsx)("div",{className:"fixed bottom-8 left-1/2 transform -translate-x-1/2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-md rounded-full shadow-lg border border-gray-200 dark:border-gray-700 px-3 py-1.5 flex items-center gap-3 z-50",children:(0,jsx_runtime.jsxs)(tooltip.Bc,{children:[(0,jsx_runtime.jsxs)(tooltip.m_,{children:[(0,jsx_runtime.jsx)(tooltip.k$,{asChild:!0,children:(0,jsx_runtime.jsxs)("div",{className:"flex items-center gap-2",children:[(0,jsx_runtime.jsx)("div",{className:"w-4 h-4 text-xs flex items-center justify-center",children:(0,jsx_runtime.jsx)(sparkles.A,{className:"h-3.5 w-3.5 text-amber-500"})}),(0,jsx_runtime.jsx)(progress.k,{value:ideasProgress,className:"w-20 h-1.5"}),(0,jsx_runtime.jsxs)("span",{className:"text-xs text-gray-500",children:[ideas.length," ideas"]})]})}),(0,jsx_runtime.jsxs)(tooltip.ZI,{side:"top",className:"text-xs",children:[COLUMNS.filter((column=>{var _ideasByColumnMemo_column_id;return(null===(_ideasByColumnMemo_column_id=ideasByColumnMemo[column.id])||void 0===_ideasByColumnMemo_column_id?void 0:_ideasByColumnMemo_column_id.length)>0})).length," ","of ",COLUMNS.length," columns have ideas"]})]}),(0,jsx_runtime.jsx)(Separator,{orientation:"vertical",className:"h-5 mx-1"}),(0,jsx_runtime.jsxs)(tooltip.m_,{children:[(0,jsx_runtime.jsx)(tooltip.k$,{asChild:!0,children:(0,jsx_runtime.jsxs)(ui_button.$,{variant:readyForVoting?"default":"ghost",size:"sm",onClick:()=>setShowReadyModal(!0),disabled:!readyForVoting,className:(0,utils.cn)("h-8 rounded-full",readyForVoting?"relative after:absolute after:inset-0 after:rounded-full after:animate-pulse after:bg-blue-500/30 after:blur-md after:-z-10":""),children:[(0,jsx_runtime.jsx)(circle_check_big.A,{className:"h-4 w-4 mr-2"}),"Start Voting"]})}),(0,jsx_runtime.jsx)(tooltip.ZI,{side:"top",children:(0,jsx_runtime.jsx)("p",{className:"text-xs",children:readyForVoting?"Ready to vote!":"Need more ideas before voting"})})]}),(0,jsx_runtime.jsxs)(tooltip.m_,{children:[(0,jsx_runtime.jsx)(tooltip.k$,{asChild:!0,children:(0,jsx_runtime.jsx)(ui_button.$,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",onClick:()=>setShowHelpDialog(!0),children:(0,jsx_runtime.jsx)(circle_help.A,{className:"h-3.5 w-3.5 text-gray-500"})})}),(0,jsx_runtime.jsx)(tooltip.ZI,{side:"top",className:"text-xs",children:"Help"})]}),(0,jsx_runtime.jsxs)(tooltip.m_,{children:[(0,jsx_runtime.jsx)(tooltip.k$,{asChild:!0,children:(0,jsx_runtime.jsx)(ui_button.$,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",onClick:()=>{toast({title:"Exporting ideas...",description:"Your ideas board will be downloaded as an image."}),setTimeout((()=>{toast({title:"Export complete",description:"Your ideas board has been downloaded."})}),1500)},children:(0,jsx_runtime.jsx)(download.A,{className:"h-3.5 w-3.5 text-gray-500"})})}),(0,jsx_runtime.jsx)(tooltip.ZI,{side:"top",className:"text-xs",children:"Export ideas"})]}),(0,jsx_runtime.jsxs)(tooltip.m_,{children:[(0,jsx_runtime.jsx)(tooltip.k$,{asChild:!0,children:(0,jsx_runtime.jsx)(link_default(),{href:`/groups/${resolvedGroupId}`,passHref:!0,children:(0,jsx_runtime.jsx)(ui_button.$,{variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors",children:(0,jsx_runtime.jsx)(arrow_left.A,{className:"h-3.5 w-3.5 text-gray-500"})})})}),(0,jsx_runtime.jsx)(tooltip.ZI,{side:"top",className:"text-xs",children:"Back to group"})]})]})}),showReadyModal&&(0,jsx_runtime.jsx)(ReadyForVotingModal,{onClose:()=>setShowReadyModal(!1),groupId:resolvedGroupId,planSlug}),showHelpDialog&&(0,jsx_runtime.jsx)(ideas_board_help_dialog.i,{open:showHelpDialog,onOpenChange:setShowHelpDialog}),(0,jsx_runtime.jsx)(dialog.lG,{open:showKeyboardShortcuts,onOpenChange:setShowKeyboardShortcuts,children:(0,jsx_runtime.jsxs)(dialog.Cf,{className:"max-w-md",children:[(0,jsx_runtime.jsxs)(dialog.c7,{children:[(0,jsx_runtime.jsx)(dialog.L3,{children:"Keyboard Shortcuts"}),(0,jsx_runtime.jsx)(dialog.rr,{children:"Use these shortcuts to navigate and manage your ideas more efficiently."})]}),(0,jsx_runtime.jsxs)("div",{className:"grid grid-cols-2 gap-4 py-4",children:[(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("kbd",{className:"px-2 py-1 mr-2 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",children:"N"}),(0,jsx_runtime.jsx)("span",{className:"text-sm",children:"Add new idea"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("kbd",{className:"px-2 py-1 mr-2 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",children:"⌘ + A"}),(0,jsx_runtime.jsx)("span",{className:"text-sm",children:"Select all ideas"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("kbd",{className:"px-2 py-1 mr-2 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",children:"⌘ + D"}),(0,jsx_runtime.jsx)("span",{className:"text-sm",children:"Deselect all ideas"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("kbd",{className:"px-2 py-1 mr-2 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",children:"Delete"}),(0,jsx_runtime.jsx)("span",{className:"text-sm",children:"Delete selected ideas"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("kbd",{className:"px-2 py-1 mr-2 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",children:"V"}),(0,jsx_runtime.jsx)("span",{className:"text-sm",children:"Ready for voting"})]}),(0,jsx_runtime.jsxs)("div",{className:"flex items-center",children:[(0,jsx_runtime.jsx)("kbd",{className:"px-2 py-1 mr-2 text-xs font-semibold text-gray-800 bg-gray-100 border border-gray-200 rounded dark:bg-gray-700 dark:text-gray-200 dark:border-gray-600",children:"?"}),(0,jsx_runtime.jsx)("span",{className:"text-sm",children:"Show keyboard shortcuts"})]})]}),(0,jsx_runtime.jsx)(dialog.Es,{children:(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",onClick:()=>setShowKeyboardShortcuts(!1),children:"Close"})})]})}),(0,jsx_runtime.jsx)(dialog.lG,{open:showDateDialog,onOpenChange:setShowDateDialog,children:(0,jsx_runtime.jsxs)(dialog.Cf,{className:"sm:max-w-[425px]",children:[(0,jsx_runtime.jsxs)(dialog.c7,{children:[(0,jsx_runtime.jsx)(dialog.L3,{children:"Add Date"}),(0,jsx_runtime.jsx)(dialog.rr,{children:"Select a date range for your trip"})]}),(0,jsx_runtime.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,jsx_runtime.jsx)("div",{className:"grid gap-2",children:(0,jsx_runtime.jsx)(ui_calendar.V,{mode:"single",selected:selectedDate,onSelect:setSelectedDate,className:"rounded-md border"})}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)(label.J,{htmlFor:"dateTitle",children:"Title (optional)"}),(0,jsx_runtime.jsx)(input.p,{id:"dateTitle",value:newIdeaTitle,onChange:e=>setNewIdeaTitle(e.target.value),placeholder:"e.g., Summer 2024, Spring Break, etc.",className:"col-span-3"})]})]}),(0,jsx_runtime.jsxs)(dialog.Es,{children:[(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",onClick:()=>setShowDateDialog(!1),children:"Cancel"}),(0,jsx_runtime.jsx)(ui_button.$,{onClick:()=>{if(!selectedDate)return void toast({title:"No date selected",description:"Please select a date for your trip.",variant:"destructive"});const title=newIdeaTitle.trim()||selectedDate.toLocaleDateString("en-US",{month:"long",year:"numeric"});handleIdeaSubmit({title,type:"date",description:`Date: ${selectedDate.toLocaleDateString()}`,start_date:selectedDate.toISOString(),plan_id:planId,group_id:resolvedGroupId}),setShowDateDialog(!1),setSelectedDate(void 0),setNewIdeaTitle("")},disabled:!selectedDate,children:"Add Date"})]})]})}),(0,jsx_runtime.jsx)(dialog.lG,{open:showBudgetDialog,onOpenChange:setShowBudgetDialog,children:(0,jsx_runtime.jsxs)(dialog.Cf,{className:"sm:max-w-[425px]",children:[(0,jsx_runtime.jsxs)(dialog.c7,{children:[(0,jsx_runtime.jsx)(dialog.L3,{children:"Add Budget"}),(0,jsx_runtime.jsx)(dialog.rr,{children:"How much are you planning to spend?"})]}),(0,jsx_runtime.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,jsx_runtime.jsx)("div",{className:"grid grid-cols-2 gap-2",children:["$50","$100","$200","$500+"].map(((amount,idx)=>(0,jsx_runtime.jsxs)(ui_button.$,{variant:"outline",className:(0,utils.cn)("h-20 text-lg",highlightedBudgetIdx===idx?"border-primary bg-primary/5":""),onClick:()=>{handleBudgetIdeaSubmit(amount),setShowBudgetDialog(!1)},children:[amount,(0,jsx_runtime.jsx)("span",{className:"block text-xs text-muted-foreground mt-1",children:"per person"})]},amount)))}),(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsx)(label.J,{htmlFor:"customBudget",children:"Custom Budget"}),(0,jsx_runtime.jsxs)("div",{className:"flex gap-2",children:[(0,jsx_runtime.jsx)(input.p,{id:"customBudget",ref:budgetInputRef,value:budgetCustomValue,onChange:e=>setBudgetCustomValue(e.target.value),placeholder:"Enter amount",className:"flex-1"}),(0,jsx_runtime.jsx)(ui_button.$,{onClick:()=>{budgetCustomValue.trim()&&(handleBudgetIdeaSubmit(`$${budgetCustomValue}`),setShowBudgetDialog(!1),setBudgetCustomValue(""))},disabled:!budgetCustomValue.trim(),children:"Add"})]})]})]}),(0,jsx_runtime.jsx)(dialog.Es,{children:(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",onClick:()=>setShowBudgetDialog(!1),children:"Cancel"})})]})}),(0,jsx_runtime.jsx)(dialog.lG,{open:showMapboxDialog,onOpenChange:setShowMapboxDialog,children:(0,jsx_runtime.jsxs)(dialog.Cf,{className:"sm:max-w-[500px]",children:[(0,jsx_runtime.jsxs)(dialog.c7,{children:[(0,jsx_runtime.jsx)(dialog.L3,{children:"Add Destination"}),(0,jsx_runtime.jsx)(dialog.rr,{children:"Search for a location or place to add as a destination idea"})]}),(0,jsx_runtime.jsx)("div",{className:"grid gap-4 py-4",children:(0,jsx_runtime.jsx)(MapboxDestinationInput,{onSelect:place=>{var _place_place_name,_place_center,_place_center1;if(!place)return;const placeTitle=place.text||place.place_name||"Unknown Location",locationName=((null===(_place_place_name=place.place_name)||void 0===_place_place_name?void 0:_place_place_name.split(","))||[])[0]||placeTitle;handleIdeaSubmit({title:locationName,type:"destination",description:place.place_name||"",location:{lat:(null===(_place_center=place.center)||void 0===_place_center?void 0:_place_center[1])||null,lng:(null===(_place_center1=place.center)||void 0===_place_center1?void 0:_place_center1[0])||null,place_id:place.id||null,place_name:place.place_name||null},plan_id:planId,group_id:resolvedGroupId}),setShowMapboxDialog(!1)}})}),(0,jsx_runtime.jsx)(dialog.Es,{children:(0,jsx_runtime.jsx)(ui_button.$,{variant:"outline",onClick:()=>setShowMapboxDialog(!1),children:"Cancel"})})]})})]})})})})}const handleTrackEvent=(eventName,eventCategory,eventData)=>{try{ideas_whiteboard_console.log("Tracking event:",eventName,eventCategory,eventData)}catch(err){ideas_whiteboard_console.error("Error tracking event:",err)}};IdeasWhiteboard.__docgenInfo={description:"",methods:[],displayName:"IdeasWhiteboard",props:{groupId:{required:!0,tsType:{name:"string"},description:""},groupName:{required:!0,tsType:{name:"string"},description:""},isAuthenticated:{required:!0,tsType:{name:"boolean"},description:""},isGuest:{required:!1,tsType:{name:"boolean"},description:""},guestToken:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:""},isAdmin:{required:!1,tsType:{name:"boolean"},description:""},isCreator:{required:!1,tsType:{name:"boolean"},description:""},planSlug:{required:!0,tsType:{name:"string"},description:""},planId:{required:!0,tsType:{name:"string"},description:""}}};const ideas_whiteboard_stories={title:"Features/Trip/IdeasWhiteboard",component:IdeasWhiteboard,parameters:{layout:"fullscreen",docs:{description:{component:"This story demonstrates the full Ideas Whiteboard experience. For atomic components, see their individual stories."}}},tags:["autodocs"],argTypes:{groupId:{control:"text",description:"Group ID"},groupName:{control:"text",description:"Group Name"},planSlug:{control:"text",description:"Plan Slug"},planId:{control:"text",description:"Plan ID"},isAuthenticated:{control:"boolean",description:"Is Authenticated"},isGuest:{control:"boolean",description:"Is Guest"},isAdmin:{control:"boolean",description:"Is Admin"},isCreator:{control:"boolean",description:"Is Creator"},guestToken:{control:"text",description:"Guest Token (optional)"}}},Default={args:{groupId:"group-123",groupName:"Barcelona Crew",planSlug:"summer-2024",planId:"plan-456",isAuthenticated:!0,isGuest:!1,isAdmin:!0,isCreator:!0,guestToken:""}},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    groupId: 'group-123',\n    groupName: 'Barcelona Crew',\n    planSlug: 'summer-2024',\n    planId: 'plan-456',\n    isAuthenticated: true,\n    isGuest: false,\n    isAdmin: true,\n    isCreator: true,\n    guestToken: ''\n  }\n}",...Default.parameters?.docs?.source}}}},"./app/groups/[id]/plans/components/plans-navigation.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>PlansNavigation});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),_barrel_optimize_names_ChevronRight_lucide_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/chevron-right.js"),next_link__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/link.js"),next_link__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(next_link__WEBPACK_IMPORTED_MODULE_1__),next_navigation__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs");function PlansNavigation({groupId,groupName,planName}){const isPlansIndex=(0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.usePathname)()===`/groups/${groupId}/plans`;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("nav",{className:"flex items-center text-sm",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("ol",{className:"flex items-center space-x-2",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_1___default(),{href:`/groups/${groupId}`,className:"text-muted-foreground hover:text-foreground transition-colors",children:groupName})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{className:"text-muted-foreground",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ChevronRight_lucide_react__WEBPACK_IMPORTED_MODULE_3__.A,{className:"h-4 w-4"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:isPlansIndex?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-medium",children:"Plans"}):(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(next_link__WEBPACK_IMPORTED_MODULE_1___default(),{href:`/groups/${groupId}/plans`,className:"text-muted-foreground hover:text-foreground transition-colors",children:"Plans"})}),planName&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{className:"text-muted-foreground",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_ChevronRight_lucide_react__WEBPACK_IMPORTED_MODULE_3__.A,{className:"h-4 w-4"})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li",{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"font-medium",children:planName})})]})]})})}PlansNavigation.__docgenInfo={description:"",methods:[],displayName:"PlansNavigation",props:{groupId:{required:!0,tsType:{name:"string"},description:""},groupName:{required:!0,tsType:{name:"string"},description:""},planName:{required:!1,tsType:{name:"string"},description:""}}}},"./components/ui/alert-dialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{$v:()=>AlertDialogDescription,EO:()=>AlertDialogContent,Lt:()=>AlertDialog,Rx:()=>AlertDialogAction,Zr:()=>AlertDialogCancel,ck:()=>AlertDialogFooter,r7:()=>AlertDialogTitle,tv:()=>AlertDialogTrigger,wd:()=>AlertDialogHeader});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@radix-ui/react-alert-dialog/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/utils.ts"),_components_ui_button_utils__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./components/ui/button/utils.ts");const AlertDialog=_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.bL,AlertDialogTrigger=_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.l9,AlertDialogPortal=_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.ZL,AlertDialogOverlay=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.hJ,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",className),...props,ref})));AlertDialogOverlay.displayName=_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.hJ.displayName;const AlertDialogContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(AlertDialogPortal,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(AlertDialogOverlay,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.UC,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-card p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg","dark:bg-gradient-to-br dark:from-card dark:to-black/90 dark:border-border/20",className),...props})]})));AlertDialogContent.displayName=_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.UC.displayName;const AlertDialogHeader=({className,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex flex-col space-y-2 text-center sm:text-left",className),...props});AlertDialogHeader.displayName="AlertDialogHeader";const AlertDialogFooter=({className,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",className),...props});AlertDialogFooter.displayName="AlertDialogFooter";const AlertDialogTitle=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.hE,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("text-lg font-semibold",className),...props})));AlertDialogTitle.displayName=_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.hE.displayName;const AlertDialogDescription=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.VY,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("text-sm text-muted-foreground",className),...props})));AlertDialogDescription.displayName=_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.VY.displayName;const AlertDialogAction=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.rc,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)((0,_components_ui_button_utils__WEBPACK_IMPORTED_MODULE_3__.r)(),className),...props})));AlertDialogAction.displayName=_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.rc.displayName;const AlertDialogCancel=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.ZD,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)((0,_components_ui_button_utils__WEBPACK_IMPORTED_MODULE_3__.r)({variant:"outline"}),"mt-2 sm:mt-0",className),...props})));AlertDialogCancel.displayName=_radix_ui_react_alert_dialog__WEBPACK_IMPORTED_MODULE_4__.ZD.displayName,AlertDialogOverlay.__docgenInfo={description:"",methods:[]},AlertDialogContent.__docgenInfo={description:"",methods:[]},AlertDialogHeader.__docgenInfo={description:"",methods:[],displayName:"AlertDialogHeader"},AlertDialogFooter.__docgenInfo={description:"",methods:[],displayName:"AlertDialogFooter"},AlertDialogTitle.__docgenInfo={description:"",methods:[]},AlertDialogDescription.__docgenInfo={description:"",methods:[]},AlertDialogAction.__docgenInfo={description:"",methods:[]},AlertDialogCancel.__docgenInfo={description:"",methods:[]}},"./components/ui/badge.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{E:()=>Badge});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),class_variance_authority__WEBPACK_IMPORTED_MODULE_3__=(__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs")),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/utils.ts");const badgeVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_3__.F)("inline-flex items-center border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground","travel-purple":"border-transparent bg-travel-purple text-travel-purple-foreground","travel-blue":"border-transparent bg-travel-blue text-travel-blue-foreground","travel-pink":"border-transparent bg-travel-pink text-travel-pink-foreground","travel-yellow":"border-transparent bg-travel-yellow text-travel-yellow-foreground","travel-mint":"border-transparent bg-travel-mint text-travel-mint-foreground","travel-peach":"border-transparent bg-travel-peach text-travel-peach-foreground",success:"border-transparent bg-emerald-100 text-emerald-800",warning:"border-transparent bg-amber-100 text-amber-800",info:"border-transparent bg-blue-100 text-blue-800",error:"border-transparent bg-red-100 text-red-800"},radius:{sm:"rounded-sm",md:"rounded-md",lg:"rounded-lg",xl:"rounded-xl",full:"rounded-full",none:"rounded-none"}},defaultVariants:{variant:"default",radius:"full"}});function Badge({className,variant,radius,...props}){return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(badgeVariants({variant,radius}),className),...props})}Badge.__docgenInfo={description:'Badge component with design system variants.\n\n@example\n<Badge variant="travel-purple" radius="md">Insider</Badge>',methods:[],displayName:"Badge",composes:["VariantProps"]}},"./components/ui/progress.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{k:()=>Progress});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_progress__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@radix-ui/react-progress/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/utils.ts");const Progress=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,value,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_progress__WEBPACK_IMPORTED_MODULE_3__.bL,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("relative h-2 w-full overflow-hidden rounded-full bg-secondary",className),...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_progress__WEBPACK_IMPORTED_MODULE_3__.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(value||0)}%)`}})})));Progress.displayName=_radix_ui_react_progress__WEBPACK_IMPORTED_MODULE_3__.bL.displayName,Progress.__docgenInfo={description:"",methods:[]}},"./components/ui/select.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{TR:()=>SelectLabel,bq:()=>SelectTrigger,eb:()=>SelectItem,gC:()=>SelectContent,l6:()=>Select,s3:()=>SelectGroup,yv:()=>CustomSelectValue});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@radix-ui/react-select/dist/index.mjs"),_barrel_optimize_names_Check_ChevronDown_ChevronUp_lucide_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/chevron-down.js"),_barrel_optimize_names_Check_ChevronDown_ChevronUp_lucide_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/chevron-up.js"),_barrel_optimize_names_Check_ChevronDown_ChevronUp_lucide_react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/check.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/utils.ts");const Select=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.bL,SelectGroup=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.YJ,SelectTrigger=(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.WT,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,children,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.l9,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",className),...props,children:[children,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.In,{asChild:!0,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_ChevronDown_ChevronUp_lucide_react__WEBPACK_IMPORTED_MODULE_4__.A,{className:"h-4 w-4 opacity-50","aria-hidden":"true"})})]}))));SelectTrigger.displayName=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.l9.displayName;const SelectScrollUpButton=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.PP,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex cursor-default items-center justify-center py-1",className),...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_ChevronDown_ChevronUp_lucide_react__WEBPACK_IMPORTED_MODULE_5__.A,{className:"h-4 w-4","aria-hidden":"true"})})));SelectScrollUpButton.displayName=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.PP.displayName;const SelectScrollDownButton=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.wn,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex cursor-default items-center justify-center py-1",className),...props,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_ChevronDown_ChevronUp_lucide_react__WEBPACK_IMPORTED_MODULE_4__.A,{className:"h-4 w-4","aria-hidden":"true"})})));SelectScrollDownButton.displayName=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.wn.displayName;const SelectContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,children,position="popper",...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.ZL,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.UC,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===position&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",className),position,...props,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"sr-only",children:"Press arrow keys to navigate options, Enter to select, Escape to close dropdown"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectScrollUpButton,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.LM,{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("p-1","popper"===position&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(SelectScrollDownButton,{})]})})));SelectContent.displayName=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.UC.displayName;const SelectLabel=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.JU,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",className),...props})));SelectLabel.displayName=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.JU.displayName;const SelectItem=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,children,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.q7,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",className),...props,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.VF,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_Check_ChevronDown_ChevronUp_lucide_react__WEBPACK_IMPORTED_MODULE_6__.A,{className:"h-4 w-4","aria-hidden":"true"})})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.p4,{children})]})));SelectItem.displayName=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.q7.displayName;const SelectSeparator=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.wv,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("-mx-1 my-1 h-px bg-muted",className),...props})));SelectSeparator.displayName=_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.wv.displayName;const CustomSelectValue=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,placeholder,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_select__WEBPACK_IMPORTED_MODULE_3__.WT,{ref,placeholder,...props})));CustomSelectValue.displayName="CustomSelectValue",CustomSelectValue.__docgenInfo={description:'Custom SelectValue component with placeholder support.\n\n@example\n<SelectTrigger>\n  <SelectValue placeholder="Select an option" />\n</SelectTrigger>',methods:[],displayName:"CustomSelectValue",props:{placeholder:{required:!1,tsType:{name:"string"},description:""}}},SelectTrigger.__docgenInfo={description:'Trigger component for the Select dropdown.\n\n@example\n<Select>\n  <SelectTrigger aria-label="Select category">\n    <SelectValue placeholder="Select a category" />\n  </SelectTrigger>\n</Select>',methods:[]},SelectContent.__docgenInfo={description:'Content container for the Select dropdown options.\n\n@example\n<Select>\n  <SelectTrigger>...</SelectTrigger>\n  <SelectContent>\n    <SelectItem value="option1">Option 1</SelectItem>\n    <SelectItem value="option2">Option 2</SelectItem>\n  </SelectContent>\n</Select>',methods:[],props:{position:{defaultValue:{value:"'popper'",computed:!1},required:!1}}},SelectLabel.__docgenInfo={description:'Label for a group of Select options.\n\n@example\n<SelectContent>\n  <SelectGroup>\n    <SelectLabel>Categories</SelectLabel>\n    <SelectItem value="category1">Category 1</SelectItem>\n    <SelectItem value="category2">Category 2</SelectItem>\n  </SelectGroup>\n</SelectContent>',methods:[]},SelectItem.__docgenInfo={description:'Selectable item within a Select dropdown.\n\n@example\n<SelectContent>\n  <SelectItem value="option1">Option 1</SelectItem>\n  <SelectItem value="option2" disabled>Option 2</SelectItem>\n</SelectContent>',methods:[]},SelectSeparator.__docgenInfo={description:"",methods:[]},SelectScrollUpButton.__docgenInfo={description:"",methods:[]},SelectScrollDownButton.__docgenInfo={description:"",methods:[]}},"./components/ui/tooltip.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Bc:()=>TooltipProvider,ZI:()=>TooltipContent,k$:()=>TooltipTrigger,m_:()=>Tooltip});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@radix-ui/react-tooltip/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/utils.ts");const TooltipProvider=_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_3__.Kq,Tooltip=_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_3__.bL,TooltipTrigger=_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_3__.l9,TooltipContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,sideOffset=4,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_3__.UC,{ref,sideOffset,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",className),role:"tooltip","aria-live":"polite",...props})));TooltipContent.displayName=_radix_ui_react_tooltip__WEBPACK_IMPORTED_MODULE_3__.UC.displayName,TooltipContent.__docgenInfo={description:"Content of the tooltip that appears when the trigger is hovered or focused.",methods:[],props:{sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}}},"./node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[6].use[1]!./node_modules/postcss-loader/dist/cjs.js!./app/groups/[id]/plans/[slug]/styles/column-classes.css":(module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var _node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/css-loader/dist/runtime/sourceMaps.js"),_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0__),_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/css-loader/dist/runtime/api.js"),___CSS_LOADER_EXPORT___=__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_1__)()(_node_modules_css_loader_dist_runtime_sourceMaps_js__WEBPACK_IMPORTED_MODULE_0___default());___CSS_LOADER_EXPORT___.push([module.id,"\n","",{version:3,sources:[],names:[],mappings:"",sourceRoot:""}]);const __WEBPACK_DEFAULT_EXPORT__=___CSS_LOADER_EXPORT___},"__barrel_optimize__?names=debounce!=!./node_modules/lodash/lodash.js":function(module,exports,__webpack_require__){var __WEBPACK_AMD_DEFINE_RESULT__;module=__webpack_require__.nmd(module),function(){var FUNC_ERROR_TEXT="Expected a function",PLACEHOLDER="__lodash_placeholder__",wrapFlags=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEscapedHtml=/&(?:amp|lt|gt|quot|#39);/g,reUnescapedHtml=/[&<>"']/g,reHasEscapedHtml=RegExp(reEscapedHtml.source),reHasUnescapedHtml=RegExp(reUnescapedHtml.source),reEscape=/<%-([\s\S]+?)%>/g,reEvaluate=/<%([\s\S]+?)%>/g,reInterpolate=/<%=([\s\S]+?)%>/g,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reHasRegExpChar=RegExp(reRegExpChar.source),reTrimStart=/^\s+/,reWhitespace=/\s/,reWrapComment=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,reWrapDetails=/\{\n\/\* \[wrapped with (.+)\] \*/,reSplitDetails=/,? & /,reAsciiWord=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,reForbiddenIdentifierChars=/[()=,{}\[\]\/\s]/,reEscapeChar=/\\(\\)?/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsHostCtor=/^\[object .+?Constructor\]$/,reIsOctal=/^0o[0-7]+$/i,reIsUint=/^(?:0|[1-9]\d*)$/,reLatin=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,reNoMatch=/($^)/,reUnescapedString=/['\n\r\u2028\u2029\\]/g,rsComboRange="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",rsBreakRange="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rsAstral="[\\ud800-\\udfff]",rsBreak="["+rsBreakRange+"]",rsCombo="["+rsComboRange+"]",rsDigits="\\d+",rsDingbat="[\\u2700-\\u27bf]",rsLower="[a-z\\xdf-\\xf6\\xf8-\\xff]",rsMisc="[^\\ud800-\\udfff"+rsBreakRange+rsDigits+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsNonAstral="[^\\ud800-\\udfff]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsUpper="[A-Z\\xc0-\\xd6\\xd8-\\xde]",rsMiscLower="(?:"+rsLower+"|"+rsMisc+")",rsMiscUpper="(?:"+rsUpper+"|"+rsMisc+")",reOptMod="(?:"+rsCombo+"|"+rsFitz+")"+"?",rsSeq="[\\ufe0e\\ufe0f]?"+reOptMod+("(?:\\u200d(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")[\\ufe0e\\ufe0f]?"+reOptMod+")*"),rsEmoji="(?:"+[rsDingbat,rsRegional,rsSurrPair].join("|")+")"+rsSeq,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reApos=RegExp("['’]","g"),reComboMark=RegExp(rsCombo,"g"),reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g"),reUnicodeWord=RegExp([rsUpper+"?"+rsLower+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[rsBreak,rsUpper,"$"].join("|")+")",rsMiscUpper+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[rsBreak,rsUpper+rsMiscLower,"$"].join("|")+")",rsUpper+"?"+rsMiscLower+"+(?:['’](?:d|ll|m|re|s|t|ve))?",rsUpper+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rsDigits,rsEmoji].join("|"),"g"),reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff"+rsComboRange+"\\ufe0e\\ufe0f]"),reHasUnicodeWord=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,contextProps=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],templateCounter=-1,typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags["[object Uint8ClampedArray]"]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0,cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;var stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},freeParseFloat=parseFloat,freeParseInt=parseInt,freeGlobal="object"==typeof __webpack_require__.g&&__webpack_require__.g&&__webpack_require__.g.Object===Object&&__webpack_require__.g,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=freeGlobal||freeSelf||Function("return this")(),freeExports=exports&&!exports.nodeType&&exports,freeModule=freeExports&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,freeProcess=moduleExports&&freeGlobal.process,nodeUtil=function(){try{var types=freeModule&&freeModule.require&&freeModule.require("util").types;return types||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsArrayBuffer=nodeUtil&&nodeUtil.isArrayBuffer,nodeIsDate=nodeUtil&&nodeUtil.isDate,nodeIsMap=nodeUtil&&nodeUtil.isMap,nodeIsRegExp=nodeUtil&&nodeUtil.isRegExp,nodeIsSet=nodeUtil&&nodeUtil.isSet,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray;function apply(func,thisArg,args){switch(args.length){case 0:return func.call(thisArg);case 1:return func.call(thisArg,args[0]);case 2:return func.call(thisArg,args[0],args[1]);case 3:return func.call(thisArg,args[0],args[1],args[2])}return func.apply(thisArg,args)}function arrayAggregator(array,setter,iteratee,accumulator){for(var index=-1,length=null==array?0:array.length;++index<length;){var value=array[index];setter(accumulator,value,iteratee(value),array)}return accumulator}function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}function arrayEachRight(array,iteratee){for(var length=null==array?0:array.length;length--&&!1!==iteratee(array[length],length,array););return array}function arrayEvery(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(!predicate(array[index],index,array))return!1;return!0}function arrayFilter(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}function arrayIncludes(array,value){return!!(null==array?0:array.length)&&baseIndexOf(array,value,0)>-1}function arrayIncludesWith(array,value,comparator){for(var index=-1,length=null==array?0:array.length;++index<length;)if(comparator(value,array[index]))return!0;return!1}function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}function arrayPush(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}function arrayReduce(array,iteratee,accumulator,initAccum){var index=-1,length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[++index]);++index<length;)accumulator=iteratee(accumulator,array[index],index,array);return accumulator}function arrayReduceRight(array,iteratee,accumulator,initAccum){var length=null==array?0:array.length;for(initAccum&&length&&(accumulator=array[--length]);length--;)accumulator=iteratee(accumulator,array[length],length,array);return accumulator}function arraySome(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return!0;return!1}var asciiSize=baseProperty("length");function baseFindKey(collection,predicate,eachFunc){var result;return eachFunc(collection,(function(value,key,collection){if(predicate(value,key,collection))return result=key,!1})),result}function baseFindIndex(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}function baseIndexOf(array,value,fromIndex){return value==value?function strictIndexOf(array,value,fromIndex){var index=fromIndex-1,length=array.length;for(;++index<length;)if(array[index]===value)return index;return-1}(array,value,fromIndex):baseFindIndex(array,baseIsNaN,fromIndex)}function baseIndexOfWith(array,value,fromIndex,comparator){for(var index=fromIndex-1,length=array.length;++index<length;)if(comparator(array[index],value))return index;return-1}function baseIsNaN(value){return value!=value}function baseMean(array,iteratee){var length=null==array?0:array.length;return length?baseSum(array,iteratee)/length:NaN}function baseProperty(key){return function(object){return null==object?undefined:object[key]}}function basePropertyOf(object){return function(key){return null==object?undefined:object[key]}}function baseReduce(collection,iteratee,accumulator,initAccum,eachFunc){return eachFunc(collection,(function(value,index,collection){accumulator=initAccum?(initAccum=!1,value):iteratee(accumulator,value,index,collection)})),accumulator}function baseSum(array,iteratee){for(var result,index=-1,length=array.length;++index<length;){var current=iteratee(array[index]);undefined!==current&&(result=undefined===result?current:result+current)}return result}function baseTimes(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}function baseTrim(string){return string?string.slice(0,trimmedEndIndex(string)+1).replace(reTrimStart,""):string}function baseUnary(func){return function(value){return func(value)}}function baseValues(object,props){return arrayMap(props,(function(key){return object[key]}))}function cacheHas(cache,key){return cache.has(key)}function charsStartIndex(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}function charsEndIndex(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&baseIndexOf(chrSymbols,strSymbols[index],0)>-1;);return index}var deburrLetter=basePropertyOf({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),escapeHtmlChar=basePropertyOf({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function escapeStringChar(chr){return"\\"+stringEscapes[chr]}function hasUnicode(string){return reHasUnicode.test(string)}function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach((function(value,key){result[++index]=[key,value]})),result}function overArg(func,transform){return function(arg){return func(transform(arg))}}function replaceHolders(array,placeholder){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index];value!==placeholder&&value!==PLACEHOLDER||(array[index]=PLACEHOLDER,result[resIndex++]=index)}return result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=value})),result}function setToPairs(set){var index=-1,result=Array(set.size);return set.forEach((function(value){result[++index]=[value,value]})),result}function stringSize(string){return hasUnicode(string)?function unicodeSize(string){var result=reUnicode.lastIndex=0;for(;reUnicode.test(string);)++result;return result}(string):asciiSize(string)}function stringToArray(string){return hasUnicode(string)?function unicodeToArray(string){return string.match(reUnicode)||[]}(string):function asciiToArray(string){return string.split("")}(string)}function trimmedEndIndex(string){for(var index=string.length;index--&&reWhitespace.test(string.charAt(index)););return index}var unescapeHtmlChar=basePropertyOf({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var _=function runInContext(context){var uid,Array=(context=null==context?root:_.defaults(root.Object(),context,_.pick(root,contextProps))).Array,Date=context.Date,Error=context.Error,Function=context.Function,Math=context.Math,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayProto=Array.prototype,funcProto=Function.prototype,objectProto=Object.prototype,coreJsData=context["__core-js_shared__"],funcToString=funcProto.toString,hasOwnProperty=objectProto.hasOwnProperty,idCounter=0,maskSrcKey=(uid=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||""))?"Symbol(src)_1."+uid:"",nativeObjectToString=objectProto.toString,objectCtorString=funcToString.call(Object),oldDash=root._,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Buffer=moduleExports?context.Buffer:undefined,Symbol=context.Symbol,Uint8Array=context.Uint8Array,allocUnsafe=Buffer?Buffer.allocUnsafe:undefined,getPrototype=overArg(Object.getPrototypeOf,Object),objectCreate=Object.create,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=arrayProto.splice,spreadableSymbol=Symbol?Symbol.isConcatSpreadable:undefined,symIterator=Symbol?Symbol.iterator:undefined,symToStringTag=Symbol?Symbol.toStringTag:undefined,defineProperty=function(){try{var func=getNative(Object,"defineProperty");return func({},"",{}),func}catch(e){}}(),ctxClearTimeout=context.clearTimeout!==root.clearTimeout&&context.clearTimeout,ctxNow=Date&&Date.now!==root.Date.now&&Date.now,ctxSetTimeout=context.setTimeout!==root.setTimeout&&context.setTimeout,nativeCeil=Math.ceil,nativeFloor=Math.floor,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Buffer?Buffer.isBuffer:undefined,nativeIsFinite=context.isFinite,nativeJoin=arrayProto.join,nativeKeys=overArg(Object.keys,Object),nativeMax=Math.max,nativeMin=Math.min,nativeNow=Date.now,nativeParseInt=context.parseInt,nativeRandom=Math.random,nativeReverse=arrayProto.reverse,DataView=getNative(context,"DataView"),Map=getNative(context,"Map"),Promise=getNative(context,"Promise"),Set=getNative(context,"Set"),WeakMap=getNative(context,"WeakMap"),nativeCreate=getNative(Object,"create"),metaMap=WeakMap&&new WeakMap,realNames={},dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=Symbol?Symbol.prototype:undefined,symbolValueOf=symbolProto?symbolProto.valueOf:undefined,symbolToString=symbolProto?symbolProto.toString:undefined;function lodash(value){if(isObjectLike(value)&&!isArray(value)&&!(value instanceof LazyWrapper)){if(value instanceof LodashWrapper)return value;if(hasOwnProperty.call(value,"__wrapped__"))return wrapperClone(value)}return new LodashWrapper(value)}var baseCreate=function(){function object(){}return function(proto){if(!isObject(proto))return{};if(objectCreate)return objectCreate(proto);object.prototype=proto;var result=new object;return object.prototype=undefined,result}}();function baseLodash(){}function LodashWrapper(value,chainAll){this.__wrapped__=value,this.__actions__=[],this.__chain__=!!chainAll,this.__index__=0,this.__values__=undefined}function LazyWrapper(value){this.__wrapped__=value,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function Stack(entries){var data=this.__data__=new ListCache(entries);this.size=data.size}function arrayLikeKeys(value,inherited){var isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?baseTimes(value.length,String):[],length=result.length;for(var key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||isIndex(key,length))||result.push(key);return result}function arraySample(array){var length=array.length;return length?array[baseRandom(0,length-1)]:undefined}function arraySampleSize(array,n){return shuffleSelf(copyArray(array),baseClamp(n,0,array.length))}function arrayShuffle(array){return shuffleSelf(copyArray(array))}function assignMergeValue(object,key,value){(undefined!==value&&!eq(object[key],value)||undefined===value&&!(key in object))&&baseAssignValue(object,key,value)}function assignValue(object,key,value){var objValue=object[key];hasOwnProperty.call(object,key)&&eq(objValue,value)&&(undefined!==value||key in object)||baseAssignValue(object,key,value)}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseAggregator(collection,setter,iteratee,accumulator){return baseEach(collection,(function(value,key,collection){setter(accumulator,value,iteratee(value),collection)})),accumulator}function baseAssign(object,source){return object&&copyObject(source,keys(source),object)}function baseAssignValue(object,key,value){"__proto__"==key&&defineProperty?defineProperty(object,key,{configurable:!0,enumerable:!0,value,writable:!0}):object[key]=value}function baseAt(object,paths){for(var index=-1,length=paths.length,result=Array(length),skip=null==object;++index<length;)result[index]=skip?undefined:get(object,paths[index]);return result}function baseClamp(number,lower,upper){return number==number&&(undefined!==upper&&(number=number<=upper?number:upper),undefined!==lower&&(number=number>=lower?number:lower)),number}function baseClone(value,bitmask,customizer,key,object,stack){var result,isDeep=1&bitmask,isFlat=2&bitmask,isFull=4&bitmask;if(customizer&&(result=object?customizer(value,key,object,stack):customizer(value)),undefined!==result)return result;if(!isObject(value))return value;var isArr=isArray(value);if(isArr){if(result=function initCloneArray(array){var length=array.length,result=new array.constructor(length);length&&"string"==typeof array[0]&&hasOwnProperty.call(array,"index")&&(result.index=array.index,result.input=array.input);return result}(value),!isDeep)return copyArray(value,result)}else{var tag=getTag(value),isFunc=tag==funcTag||tag==genTag;if(isBuffer(value))return cloneBuffer(value,isDeep);if(tag==objectTag||tag==argsTag||isFunc&&!object){if(result=isFlat||isFunc?{}:initCloneObject(value),!isDeep)return isFlat?function copySymbolsIn(source,object){return copyObject(source,getSymbolsIn(source),object)}(value,function baseAssignIn(object,source){return object&&copyObject(source,keysIn(source),object)}(result,value)):function copySymbols(source,object){return copyObject(source,getSymbols(source),object)}(value,baseAssign(result,value))}else{if(!cloneableTags[tag])return object?value:{};result=function initCloneByTag(object,tag,isDeep){var Ctor=object.constructor;switch(tag){case arrayBufferTag:return cloneArrayBuffer(object);case boolTag:case dateTag:return new Ctor(+object);case dataViewTag:return function cloneDataView(dataView,isDeep){var buffer=isDeep?cloneArrayBuffer(dataView.buffer):dataView.buffer;return new dataView.constructor(buffer,dataView.byteOffset,dataView.byteLength)}(object,isDeep);case float32Tag:case float64Tag:case int8Tag:case int16Tag:case int32Tag:case uint8Tag:case uint8ClampedTag:case uint16Tag:case uint32Tag:return cloneTypedArray(object,isDeep);case mapTag:return new Ctor;case numberTag:case stringTag:return new Ctor(object);case regexpTag:return function cloneRegExp(regexp){var result=new regexp.constructor(regexp.source,reFlags.exec(regexp));return result.lastIndex=regexp.lastIndex,result}(object);case setTag:return new Ctor;case symbolTag:return function cloneSymbol(symbol){return symbolValueOf?Object(symbolValueOf.call(symbol)):{}}(object)}}(value,tag,isDeep)}}stack||(stack=new Stack);var stacked=stack.get(value);if(stacked)return stacked;stack.set(value,result),isSet(value)?value.forEach((function(subValue){result.add(baseClone(subValue,bitmask,customizer,subValue,value,stack))})):isMap(value)&&value.forEach((function(subValue,key){result.set(key,baseClone(subValue,bitmask,customizer,key,value,stack))}));var props=isArr?undefined:(isFull?isFlat?getAllKeysIn:getAllKeys:isFlat?keysIn:keys)(value);return arrayEach(props||value,(function(subValue,key){props&&(subValue=value[key=subValue]),assignValue(result,key,baseClone(subValue,bitmask,customizer,key,value,stack))})),result}function baseConformsTo(object,source,props){var length=props.length;if(null==object)return!length;for(object=Object(object);length--;){var key=props[length],predicate=source[key],value=object[key];if(undefined===value&&!(key in object)||!predicate(value))return!1}return!0}function baseDelay(func,wait,args){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return setTimeout((function(){func.apply(undefined,args)}),wait)}function baseDifference(array,values,iteratee,comparator){var index=-1,includes=arrayIncludes,isCommon=!0,length=array.length,result=[],valuesLength=values.length;if(!length)return result;iteratee&&(values=arrayMap(values,baseUnary(iteratee))),comparator?(includes=arrayIncludesWith,isCommon=!1):values.length>=200&&(includes=cacheHas,isCommon=!1,values=new SetCache(values));outer:for(;++index<length;){var value=array[index],computed=null==iteratee?value:iteratee(value);if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var valuesIndex=valuesLength;valuesIndex--;)if(values[valuesIndex]===computed)continue outer;result.push(value)}else includes(values,computed,comparator)||result.push(value)}return result}lodash.templateSettings={escape:reEscape,evaluate:reEvaluate,interpolate:reInterpolate,variable:"",imports:{_:lodash}},lodash.prototype=baseLodash.prototype,lodash.prototype.constructor=lodash,LodashWrapper.prototype=baseCreate(baseLodash.prototype),LodashWrapper.prototype.constructor=LodashWrapper,LazyWrapper.prototype=baseCreate(baseLodash.prototype),LazyWrapper.prototype.constructor=LazyWrapper,Hash.prototype.clear=function hashClear(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0},Hash.prototype.delete=function hashDelete(key){var result=this.has(key)&&delete this.__data__[key];return this.size-=result?1:0,result},Hash.prototype.get=function hashGet(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?undefined:result}return hasOwnProperty.call(data,key)?data[key]:undefined},Hash.prototype.has=function hashHas(key){var data=this.__data__;return nativeCreate?undefined!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function hashSet(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&undefined===value?"__lodash_hash_undefined__":value,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(key){var data=this.__data__,index=assocIndexOf(data,key);return!(index<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(key){var data=this.__data__,index=assocIndexOf(data,key);return index<0?undefined:data[index][1]},ListCache.prototype.has=function listCacheHas(key){return assocIndexOf(this.__data__,key)>-1},ListCache.prototype.set=function listCacheSet(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(key){var result=getMapData(this,key).delete(key);return this.size-=result?1:0,result},MapCache.prototype.get=function mapCacheGet(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function mapCacheHas(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function mapCacheSet(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this},SetCache.prototype.has=function setCacheHas(value){return this.__data__.has(value)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(key){var data=this.__data__,result=data.delete(key);return this.size=data.size,result},Stack.prototype.get=function stackGet(key){return this.__data__.get(key)},Stack.prototype.has=function stackHas(key){return this.__data__.has(key)},Stack.prototype.set=function stackSet(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this};var baseEach=createBaseEach(baseForOwn),baseEachRight=createBaseEach(baseForOwnRight,!0);function baseEvery(collection,predicate){var result=!0;return baseEach(collection,(function(value,index,collection){return result=!!predicate(value,index,collection)})),result}function baseExtremum(array,iteratee,comparator){for(var index=-1,length=array.length;++index<length;){var value=array[index],current=iteratee(value);if(null!=current&&(undefined===computed?current==current&&!isSymbol(current):comparator(current,computed)))var computed=current,result=value}return result}function baseFilter(collection,predicate){var result=[];return baseEach(collection,(function(value,index,collection){predicate(value,index,collection)&&result.push(value)})),result}function baseFlatten(array,depth,predicate,isStrict,result){var index=-1,length=array.length;for(predicate||(predicate=isFlattenable),result||(result=[]);++index<length;){var value=array[index];depth>0&&predicate(value)?depth>1?baseFlatten(value,depth-1,predicate,isStrict,result):arrayPush(result,value):isStrict||(result[result.length]=value)}return result}var baseFor=createBaseFor(),baseForRight=createBaseFor(!0);function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseForOwnRight(object,iteratee){return object&&baseForRight(object,iteratee,keys)}function baseFunctions(object,props){return arrayFilter(props,(function(key){return isFunction(object[key])}))}function baseGet(object,path){for(var index=0,length=(path=castPath(path,object)).length;null!=object&&index<length;)object=object[toKey(path[index++])];return index&&index==length?object:undefined}function baseGetAllKeys(object,keysFunc,symbolsFunc){var result=keysFunc(object);return isArray(object)?result:arrayPush(result,symbolsFunc(object))}function baseGetTag(value){return null==value?undefined===value?"[object Undefined]":"[object Null]":symToStringTag&&symToStringTag in Object(value)?function getRawTag(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{value[symToStringTag]=undefined;var unmasked=!0}catch(e){}var result=nativeObjectToString.call(value);unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]);return result}(value):function objectToString(value){return nativeObjectToString.call(value)}(value)}function baseGt(value,other){return value>other}function baseHas(object,key){return null!=object&&hasOwnProperty.call(object,key)}function baseHasIn(object,key){return null!=object&&key in Object(object)}function baseIntersection(arrays,iteratee,comparator){for(var includes=comparator?arrayIncludesWith:arrayIncludes,length=arrays[0].length,othLength=arrays.length,othIndex=othLength,caches=Array(othLength),maxLength=1/0,result=[];othIndex--;){var array=arrays[othIndex];othIndex&&iteratee&&(array=arrayMap(array,baseUnary(iteratee))),maxLength=nativeMin(array.length,maxLength),caches[othIndex]=!comparator&&(iteratee||length>=120&&array.length>=120)?new SetCache(othIndex&&array):undefined}array=arrays[0];var index=-1,seen=caches[0];outer:for(;++index<length&&result.length<maxLength;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,!(seen?cacheHas(seen,computed):includes(result,computed,comparator))){for(othIndex=othLength;--othIndex;){var cache=caches[othIndex];if(!(cache?cacheHas(cache,computed):includes(arrays[othIndex],computed,comparator)))continue outer}seen&&seen.push(computed),result.push(value)}}return result}function baseInvoke(object,path,args){var func=null==(object=parent(object,path=castPath(path,object)))?object:object[toKey(last(path))];return null==func?undefined:apply(func,object,args)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:function baseIsEqualDeep(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othIsArr=isArray(other),objTag=objIsArr?arrayTag:getTag(object),othTag=othIsArr?arrayTag:getTag(other),objIsObj=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othIsObj=(othTag=othTag==argsTag?objectTag:othTag)==objectTag,isSameTag=objTag==othTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objIsArr=!0,objIsObj=!1}if(isSameTag&&!objIsObj)return stack||(stack=new Stack),objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):function equalByTag(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return!(object.byteLength!=other.byteLength||!equalFunc(new Uint8Array(object),new Uint8Array(other)));case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var convert=mapToArray;case setTag:var isPartial=1&bitmask;if(convert||(convert=setToArray),object.size!=other.size&&!isPartial)return!1;var stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=2,stack.set(object,other);var result=equalArrays(convert(object),convert(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(1&bitmask)){var objIsWrapped=objIsObj&&hasOwnProperty.call(object,"__wrapped__"),othIsWrapped=othIsObj&&hasOwnProperty.call(other,"__wrapped__");if(objIsWrapped||othIsWrapped){var objUnwrapped=objIsWrapped?object.value():object,othUnwrapped=othIsWrapped?other.value():other;return stack||(stack=new Stack),equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}if(!isSameTag)return!1;return stack||(stack=new Stack),function equalObjects(object,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,objProps=getAllKeys(object),objLength=objProps.length,othProps=getAllKeys(other),othLength=othProps.length;if(objLength!=othLength&&!isPartial)return!1;var index=objLength;for(;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var objStacked=stack.get(object),othStacked=stack.get(other);if(objStacked&&othStacked)return objStacked==other&&othStacked==object;var result=!0;stack.set(object,other),stack.set(other,object);var skipCtor=isPartial;for(;++index<objLength;){var objValue=object[key=objProps[index]],othValue=other[key];if(customizer)var compared=isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack);if(!(undefined===compared?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor||(skipCtor="constructor"==key)}if(result&&!skipCtor){var objCtor=object.constructor,othCtor=other.constructor;objCtor==othCtor||!("constructor"in object)||!("constructor"in other)||"function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor||(result=!1)}return stack.delete(object),stack.delete(other),result}(object,other,bitmask,customizer,equalFunc,stack)}(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsMatch(object,source,matchData,customizer){var index=matchData.length,length=index,noCustomizer=!customizer;if(null==object)return!length;for(object=Object(object);index--;){var data=matchData[index];if(noCustomizer&&data[2]?data[1]!==object[data[0]]:!(data[0]in object))return!1}for(;++index<length;){var key=(data=matchData[index])[0],objValue=object[key],srcValue=data[1];if(noCustomizer&&data[2]){if(undefined===objValue&&!(key in object))return!1}else{var stack=new Stack;if(customizer)var result=customizer(objValue,srcValue,key,object,source,stack);if(!(undefined===result?baseIsEqual(srcValue,objValue,3,customizer,stack):result))return!1}}return!0}function baseIsNative(value){return!(!isObject(value)||function isMasked(func){return!!maskSrcKey&&maskSrcKey in func}(value))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}function baseIteratee(value){return"function"==typeof value?value:null==value?identity:"object"==typeof value?isArray(value)?baseMatchesProperty(value[0],value[1]):baseMatches(value):property(value)}function baseKeys(object){if(!isPrototype(object))return nativeKeys(object);var result=[];for(var key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function baseKeysIn(object){if(!isObject(object))return function nativeKeysIn(object){var result=[];if(null!=object)for(var key in Object(object))result.push(key);return result}(object);var isProto=isPrototype(object),result=[];for(var key in object)("constructor"!=key||!isProto&&hasOwnProperty.call(object,key))&&result.push(key);return result}function baseLt(value,other){return value<other}function baseMap(collection,iteratee){var index=-1,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value,key,collection){result[++index]=iteratee(value,key,collection)})),result}function baseMatches(source){var matchData=getMatchData(source);return 1==matchData.length&&matchData[0][2]?matchesStrictComparable(matchData[0][0],matchData[0][1]):function(object){return object===source||baseIsMatch(object,source,matchData)}}function baseMatchesProperty(path,srcValue){return isKey(path)&&isStrictComparable(srcValue)?matchesStrictComparable(toKey(path),srcValue):function(object){var objValue=get(object,path);return undefined===objValue&&objValue===srcValue?hasIn(object,path):baseIsEqual(srcValue,objValue,3)}}function baseMerge(object,source,srcIndex,customizer,stack){object!==source&&baseFor(source,(function(srcValue,key){if(stack||(stack=new Stack),isObject(srcValue))!function baseMergeDeep(object,source,key,srcIndex,mergeFunc,customizer,stack){var objValue=safeGet(object,key),srcValue=safeGet(source,key),stacked=stack.get(srcValue);if(stacked)return void assignMergeValue(object,key,stacked);var newValue=customizer?customizer(objValue,srcValue,key+"",object,source,stack):undefined,isCommon=undefined===newValue;if(isCommon){var isArr=isArray(srcValue),isBuff=!isArr&&isBuffer(srcValue),isTyped=!isArr&&!isBuff&&isTypedArray(srcValue);newValue=srcValue,isArr||isBuff||isTyped?isArray(objValue)?newValue=objValue:isArrayLikeObject(objValue)?newValue=copyArray(objValue):isBuff?(isCommon=!1,newValue=cloneBuffer(srcValue,!0)):isTyped?(isCommon=!1,newValue=cloneTypedArray(srcValue,!0)):newValue=[]:isPlainObject(srcValue)||isArguments(srcValue)?(newValue=objValue,isArguments(objValue)?newValue=toPlainObject(objValue):isObject(objValue)&&!isFunction(objValue)||(newValue=initCloneObject(srcValue))):isCommon=!1}isCommon&&(stack.set(srcValue,newValue),mergeFunc(newValue,srcValue,srcIndex,customizer,stack),stack.delete(srcValue));assignMergeValue(object,key,newValue)}(object,source,key,srcIndex,baseMerge,customizer,stack);else{var newValue=customizer?customizer(safeGet(object,key),srcValue,key+"",object,source,stack):undefined;undefined===newValue&&(newValue=srcValue),assignMergeValue(object,key,newValue)}}),keysIn)}function baseNth(array,n){var length=array.length;if(length)return isIndex(n+=n<0?length:0,length)?array[n]:undefined}function baseOrderBy(collection,iteratees,orders){iteratees=iteratees.length?arrayMap(iteratees,(function(iteratee){return isArray(iteratee)?function(value){return baseGet(value,1===iteratee.length?iteratee[0]:iteratee)}:iteratee})):[identity];var index=-1;iteratees=arrayMap(iteratees,baseUnary(getIteratee()));var result=baseMap(collection,(function(value,key,collection){var criteria=arrayMap(iteratees,(function(iteratee){return iteratee(value)}));return{criteria,index:++index,value}}));return function baseSortBy(array,comparer){var length=array.length;for(array.sort(comparer);length--;)array[length]=array[length].value;return array}(result,(function(object,other){return function compareMultiple(object,other,orders){var index=-1,objCriteria=object.criteria,othCriteria=other.criteria,length=objCriteria.length,ordersLength=orders.length;for(;++index<length;){var result=compareAscending(objCriteria[index],othCriteria[index]);if(result)return index>=ordersLength?result:result*("desc"==orders[index]?-1:1)}return object.index-other.index}(object,other,orders)}))}function basePickBy(object,paths,predicate){for(var index=-1,length=paths.length,result={};++index<length;){var path=paths[index],value=baseGet(object,path);predicate(value,path)&&baseSet(result,castPath(path,object),value)}return result}function basePullAll(array,values,iteratee,comparator){var indexOf=comparator?baseIndexOfWith:baseIndexOf,index=-1,length=values.length,seen=array;for(array===values&&(values=copyArray(values)),iteratee&&(seen=arrayMap(array,baseUnary(iteratee)));++index<length;)for(var fromIndex=0,value=values[index],computed=iteratee?iteratee(value):value;(fromIndex=indexOf(seen,computed,fromIndex,comparator))>-1;)seen!==array&&splice.call(seen,fromIndex,1),splice.call(array,fromIndex,1);return array}function basePullAt(array,indexes){for(var length=array?indexes.length:0,lastIndex=length-1;length--;){var index=indexes[length];if(length==lastIndex||index!==previous){var previous=index;isIndex(index)?splice.call(array,index,1):baseUnset(array,index)}}return array}function baseRandom(lower,upper){return lower+nativeFloor(nativeRandom()*(upper-lower+1))}function baseRepeat(string,n){var result="";if(!string||n<1||n>9007199254740991)return result;do{n%2&&(result+=string),(n=nativeFloor(n/2))&&(string+=string)}while(n);return result}function baseRest(func,start){return setToString(overRest(func,start,identity),func+"")}function baseSample(collection){return arraySample(values(collection))}function baseSampleSize(collection,n){var array=values(collection);return shuffleSelf(array,baseClamp(n,0,array.length))}function baseSet(object,path,value,customizer){if(!isObject(object))return object;for(var index=-1,length=(path=castPath(path,object)).length,lastIndex=length-1,nested=object;null!=nested&&++index<length;){var key=toKey(path[index]),newValue=value;if("__proto__"===key||"constructor"===key||"prototype"===key)return object;if(index!=lastIndex){var objValue=nested[key];undefined===(newValue=customizer?customizer(objValue,key,nested):undefined)&&(newValue=isObject(objValue)?objValue:isIndex(path[index+1])?[]:{})}assignValue(nested,key,newValue),nested=nested[key]}return object}var baseSetData=metaMap?function(func,data){return metaMap.set(func,data),func}:identity,baseSetToString=defineProperty?function(func,string){return defineProperty(func,"toString",{configurable:!0,enumerable:!1,value:constant(string),writable:!0})}:identity;function baseShuffle(collection){return shuffleSelf(values(collection))}function baseSlice(array,start,end){var index=-1,length=array.length;start<0&&(start=-start>length?0:length+start),(end=end>length?length:end)<0&&(end+=length),length=start>end?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}function baseSome(collection,predicate){var result;return baseEach(collection,(function(value,index,collection){return!(result=predicate(value,index,collection))})),!!result}function baseSortedIndex(array,value,retHighest){var low=0,high=null==array?low:array.length;if("number"==typeof value&&value==value&&high<=2147483647){for(;low<high;){var mid=low+high>>>1,computed=array[mid];null!==computed&&!isSymbol(computed)&&(retHighest?computed<=value:computed<value)?low=mid+1:high=mid}return high}return baseSortedIndexBy(array,value,identity,retHighest)}function baseSortedIndexBy(array,value,iteratee,retHighest){var low=0,high=null==array?0:array.length;if(0===high)return 0;for(var valIsNaN=(value=iteratee(value))!=value,valIsNull=null===value,valIsSymbol=isSymbol(value),valIsUndefined=undefined===value;low<high;){var mid=nativeFloor((low+high)/2),computed=iteratee(array[mid]),othIsDefined=undefined!==computed,othIsNull=null===computed,othIsReflexive=computed==computed,othIsSymbol=isSymbol(computed);if(valIsNaN)var setLow=retHighest||othIsReflexive;else setLow=valIsUndefined?othIsReflexive&&(retHighest||othIsDefined):valIsNull?othIsReflexive&&othIsDefined&&(retHighest||!othIsNull):valIsSymbol?othIsReflexive&&othIsDefined&&!othIsNull&&(retHighest||!othIsSymbol):!othIsNull&&!othIsSymbol&&(retHighest?computed<=value:computed<value);setLow?low=mid+1:high=mid}return nativeMin(high,4294967294)}function baseSortedUniq(array,iteratee){for(var index=-1,length=array.length,resIndex=0,result=[];++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(!index||!eq(computed,seen)){var seen=computed;result[resIndex++]=0===value?0:value}}return result}function baseToNumber(value){return"number"==typeof value?value:isSymbol(value)?NaN:+value}function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(isSymbol(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-Infinity?"-0":result}function baseUniq(array,iteratee,comparator){var index=-1,includes=arrayIncludes,length=array.length,isCommon=!0,result=[],seen=result;if(comparator)isCommon=!1,includes=arrayIncludesWith;else if(length>=200){var set=iteratee?null:createSet(array);if(set)return setToArray(set);isCommon=!1,includes=cacheHas,seen=new SetCache}else seen=iteratee?[]:result;outer:for(;++index<length;){var value=array[index],computed=iteratee?iteratee(value):value;if(value=comparator||0!==value?value:0,isCommon&&computed==computed){for(var seenIndex=seen.length;seenIndex--;)if(seen[seenIndex]===computed)continue outer;iteratee&&seen.push(computed),result.push(value)}else includes(seen,computed,comparator)||(seen!==result&&seen.push(computed),result.push(value))}return result}function baseUnset(object,path){return null==(object=parent(object,path=castPath(path,object)))||delete object[toKey(last(path))]}function baseUpdate(object,path,updater,customizer){return baseSet(object,path,updater(baseGet(object,path)),customizer)}function baseWhile(array,predicate,isDrop,fromRight){for(var length=array.length,index=fromRight?length:-1;(fromRight?index--:++index<length)&&predicate(array[index],index,array););return isDrop?baseSlice(array,fromRight?0:index,fromRight?index+1:length):baseSlice(array,fromRight?index+1:0,fromRight?length:index)}function baseWrapperValue(value,actions){var result=value;return result instanceof LazyWrapper&&(result=result.value()),arrayReduce(actions,(function(result,action){return action.func.apply(action.thisArg,arrayPush([result],action.args))}),result)}function baseXor(arrays,iteratee,comparator){var length=arrays.length;if(length<2)return length?baseUniq(arrays[0]):[];for(var index=-1,result=Array(length);++index<length;)for(var array=arrays[index],othIndex=-1;++othIndex<length;)othIndex!=index&&(result[index]=baseDifference(result[index]||array,arrays[othIndex],iteratee,comparator));return baseUniq(baseFlatten(result,1),iteratee,comparator)}function baseZipObject(props,values,assignFunc){for(var index=-1,length=props.length,valsLength=values.length,result={};++index<length;){var value=index<valsLength?values[index]:undefined;assignFunc(result,props[index],value)}return result}function castArrayLikeObject(value){return isArrayLikeObject(value)?value:[]}function castFunction(value){return"function"==typeof value?value:identity}function castPath(value,object){return isArray(value)?value:isKey(value,object)?[value]:stringToPath(toString(value))}var castRest=baseRest;function castSlice(array,start,end){var length=array.length;return end=undefined===end?length:end,!start&&end>=length?array:baseSlice(array,start,end)}var clearTimeout=ctxClearTimeout||function(id){return root.clearTimeout(id)};function cloneBuffer(buffer,isDeep){if(isDeep)return buffer.slice();var length=buffer.length,result=allocUnsafe?allocUnsafe(length):new buffer.constructor(length);return buffer.copy(result),result}function cloneArrayBuffer(arrayBuffer){var result=new arrayBuffer.constructor(arrayBuffer.byteLength);return new Uint8Array(result).set(new Uint8Array(arrayBuffer)),result}function cloneTypedArray(typedArray,isDeep){var buffer=isDeep?cloneArrayBuffer(typedArray.buffer):typedArray.buffer;return new typedArray.constructor(buffer,typedArray.byteOffset,typedArray.length)}function compareAscending(value,other){if(value!==other){var valIsDefined=undefined!==value,valIsNull=null===value,valIsReflexive=value==value,valIsSymbol=isSymbol(value),othIsDefined=undefined!==other,othIsNull=null===other,othIsReflexive=other==other,othIsSymbol=isSymbol(other);if(!othIsNull&&!othIsSymbol&&!valIsSymbol&&value>other||valIsSymbol&&othIsDefined&&othIsReflexive&&!othIsNull&&!othIsSymbol||valIsNull&&othIsDefined&&othIsReflexive||!valIsDefined&&othIsReflexive||!valIsReflexive)return 1;if(!valIsNull&&!valIsSymbol&&!othIsSymbol&&value<other||othIsSymbol&&valIsDefined&&valIsReflexive&&!valIsNull&&!valIsSymbol||othIsNull&&valIsDefined&&valIsReflexive||!othIsDefined&&valIsReflexive||!othIsReflexive)return-1}return 0}function composeArgs(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersLength=holders.length,leftIndex=-1,leftLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(leftLength+rangeLength),isUncurried=!isCurried;++leftIndex<leftLength;)result[leftIndex]=partials[leftIndex];for(;++argsIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[holders[argsIndex]]=args[argsIndex]);for(;rangeLength--;)result[leftIndex++]=args[argsIndex++];return result}function composeArgsRight(args,partials,holders,isCurried){for(var argsIndex=-1,argsLength=args.length,holdersIndex=-1,holdersLength=holders.length,rightIndex=-1,rightLength=partials.length,rangeLength=nativeMax(argsLength-holdersLength,0),result=Array(rangeLength+rightLength),isUncurried=!isCurried;++argsIndex<rangeLength;)result[argsIndex]=args[argsIndex];for(var offset=argsIndex;++rightIndex<rightLength;)result[offset+rightIndex]=partials[rightIndex];for(;++holdersIndex<holdersLength;)(isUncurried||argsIndex<argsLength)&&(result[offset+holders[holdersIndex]]=args[argsIndex++]);return result}function copyArray(source,array){var index=-1,length=source.length;for(array||(array=Array(length));++index<length;)array[index]=source[index];return array}function copyObject(source,props,object,customizer){var isNew=!object;object||(object={});for(var index=-1,length=props.length;++index<length;){var key=props[index],newValue=customizer?customizer(object[key],source[key],key,object,source):undefined;undefined===newValue&&(newValue=source[key]),isNew?baseAssignValue(object,key,newValue):assignValue(object,key,newValue)}return object}function createAggregator(setter,initializer){return function(collection,iteratee){var func=isArray(collection)?arrayAggregator:baseAggregator,accumulator=initializer?initializer():{};return func(collection,setter,getIteratee(iteratee,2),accumulator)}}function createAssigner(assigner){return baseRest((function(object,sources){var index=-1,length=sources.length,customizer=length>1?sources[length-1]:undefined,guard=length>2?sources[2]:undefined;for(customizer=assigner.length>3&&"function"==typeof customizer?(length--,customizer):undefined,guard&&isIterateeCall(sources[0],sources[1],guard)&&(customizer=length<3?undefined:customizer,length=1),object=Object(object);++index<length;){var source=sources[index];source&&assigner(object,source,index,customizer)}return object}))}function createBaseEach(eachFunc,fromRight){return function(collection,iteratee){if(null==collection)return collection;if(!isArrayLike(collection))return eachFunc(collection,iteratee);for(var length=collection.length,index=fromRight?length:-1,iterable=Object(collection);(fromRight?index--:++index<length)&&!1!==iteratee(iterable[index],index,iterable););return collection}}function createBaseFor(fromRight){return function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object}}function createCaseFirst(methodName){return function(string){var strSymbols=hasUnicode(string=toString(string))?stringToArray(string):undefined,chr=strSymbols?strSymbols[0]:string.charAt(0),trailing=strSymbols?castSlice(strSymbols,1).join(""):string.slice(1);return chr[methodName]()+trailing}}function createCompounder(callback){return function(string){return arrayReduce(words(deburr(string).replace(reApos,"")),callback,"")}}function createCtor(Ctor){return function(){var args=arguments;switch(args.length){case 0:return new Ctor;case 1:return new Ctor(args[0]);case 2:return new Ctor(args[0],args[1]);case 3:return new Ctor(args[0],args[1],args[2]);case 4:return new Ctor(args[0],args[1],args[2],args[3]);case 5:return new Ctor(args[0],args[1],args[2],args[3],args[4]);case 6:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5]);case 7:return new Ctor(args[0],args[1],args[2],args[3],args[4],args[5],args[6])}var thisBinding=baseCreate(Ctor.prototype),result=Ctor.apply(thisBinding,args);return isObject(result)?result:thisBinding}}function createFind(findIndexFunc){return function(collection,predicate,fromIndex){var iterable=Object(collection);if(!isArrayLike(collection)){var iteratee=getIteratee(predicate,3);collection=keys(collection),predicate=function(key){return iteratee(iterable[key],key,iterable)}}var index=findIndexFunc(collection,predicate,fromIndex);return index>-1?iterable[iteratee?collection[index]:index]:undefined}}function createFlow(fromRight){return flatRest((function(funcs){var length=funcs.length,index=length,prereq=LodashWrapper.prototype.thru;for(fromRight&&funcs.reverse();index--;){var func=funcs[index];if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);if(prereq&&!wrapper&&"wrapper"==getFuncName(func))var wrapper=new LodashWrapper([],!0)}for(index=wrapper?index:length;++index<length;){var funcName=getFuncName(func=funcs[index]),data="wrapper"==funcName?getData(func):undefined;wrapper=data&&isLaziable(data[0])&&424==data[1]&&!data[4].length&&1==data[9]?wrapper[getFuncName(data[0])].apply(wrapper,data[3]):1==func.length&&isLaziable(func)?wrapper[funcName]():wrapper.thru(func)}return function(){var args=arguments,value=args[0];if(wrapper&&1==args.length&&isArray(value))return wrapper.plant(value).value();for(var index=0,result=length?funcs[index].apply(this,args):value;++index<length;)result=funcs[index].call(this,result);return result}}))}function createHybrid(func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity){var isAry=128&bitmask,isBind=1&bitmask,isBindKey=2&bitmask,isCurried=24&bitmask,isFlip=512&bitmask,Ctor=isBindKey?undefined:createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length;index--;)args[index]=arguments[index];if(isCurried)var placeholder=getHolder(wrapper),holdersCount=function countHolders(array,placeholder){for(var length=array.length,result=0;length--;)array[length]===placeholder&&++result;return result}(args,placeholder);if(partials&&(args=composeArgs(args,partials,holders,isCurried)),partialsRight&&(args=composeArgsRight(args,partialsRight,holdersRight,isCurried)),length-=holdersCount,isCurried&&length<arity){var newHolders=replaceHolders(args,placeholder);return createRecurry(func,bitmask,createHybrid,wrapper.placeholder,thisArg,args,newHolders,argPos,ary,arity-length)}var thisBinding=isBind?thisArg:this,fn=isBindKey?thisBinding[func]:func;return length=args.length,argPos?args=function reorder(array,indexes){var arrLength=array.length,length=nativeMin(indexes.length,arrLength),oldArray=copyArray(array);for(;length--;){var index=indexes[length];array[length]=isIndex(index,arrLength)?oldArray[index]:undefined}return array}(args,argPos):isFlip&&length>1&&args.reverse(),isAry&&ary<length&&(args.length=ary),this&&this!==root&&this instanceof wrapper&&(fn=Ctor||createCtor(fn)),fn.apply(thisBinding,args)}}function createInverter(setter,toIteratee){return function(object,iteratee){return function baseInverter(object,setter,iteratee,accumulator){return baseForOwn(object,(function(value,key,object){setter(accumulator,iteratee(value),key,object)})),accumulator}(object,setter,toIteratee(iteratee),{})}}function createMathOperation(operator,defaultValue){return function(value,other){var result;if(undefined===value&&undefined===other)return defaultValue;if(undefined!==value&&(result=value),undefined!==other){if(undefined===result)return other;"string"==typeof value||"string"==typeof other?(value=baseToString(value),other=baseToString(other)):(value=baseToNumber(value),other=baseToNumber(other)),result=operator(value,other)}return result}}function createOver(arrayFunc){return flatRest((function(iteratees){return iteratees=arrayMap(iteratees,baseUnary(getIteratee())),baseRest((function(args){var thisArg=this;return arrayFunc(iteratees,(function(iteratee){return apply(iteratee,thisArg,args)}))}))}))}function createPadding(length,chars){var charsLength=(chars=undefined===chars?" ":baseToString(chars)).length;if(charsLength<2)return charsLength?baseRepeat(chars,length):chars;var result=baseRepeat(chars,nativeCeil(length/stringSize(chars)));return hasUnicode(chars)?castSlice(stringToArray(result),0,length).join(""):result.slice(0,length)}function createRange(fromRight){return function(start,end,step){return step&&"number"!=typeof step&&isIterateeCall(start,end,step)&&(end=step=undefined),start=toFinite(start),undefined===end?(end=start,start=0):end=toFinite(end),function baseRange(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}(start,end,step=undefined===step?start<end?1:-1:toFinite(step),fromRight)}}function createRelationalOperation(operator){return function(value,other){return"string"==typeof value&&"string"==typeof other||(value=toNumber(value),other=toNumber(other)),operator(value,other)}}function createRecurry(func,bitmask,wrapFunc,placeholder,thisArg,partials,holders,argPos,ary,arity){var isCurry=8&bitmask;bitmask|=isCurry?32:64,4&(bitmask&=~(isCurry?64:32))||(bitmask&=-4);var newData=[func,bitmask,thisArg,isCurry?partials:undefined,isCurry?holders:undefined,isCurry?undefined:partials,isCurry?undefined:holders,argPos,ary,arity],result=wrapFunc.apply(undefined,newData);return isLaziable(func)&&setData(result,newData),result.placeholder=placeholder,setWrapToString(result,func,bitmask)}function createRound(methodName){var func=Math[methodName];return function(number,precision){if(number=toNumber(number),(precision=null==precision?0:nativeMin(toInteger(precision),292))&&nativeIsFinite(number)){var pair=(toString(number)+"e").split("e");return+((pair=(toString(func(pair[0]+"e"+(+pair[1]+precision)))+"e").split("e"))[0]+"e"+(+pair[1]-precision))}return func(number)}}var createSet=Set&&1/setToArray(new Set([,-0]))[1]==Infinity?function(values){return new Set(values)}:noop;function createToPairs(keysFunc){return function(object){var tag=getTag(object);return tag==mapTag?mapToArray(object):tag==setTag?setToPairs(object):function baseToPairs(object,props){return arrayMap(props,(function(key){return[key,object[key]]}))}(object,keysFunc(object))}}function createWrap(func,bitmask,thisArg,partials,holders,argPos,ary,arity){var isBindKey=2&bitmask;if(!isBindKey&&"function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);var length=partials?partials.length:0;if(length||(bitmask&=-97,partials=holders=undefined),ary=undefined===ary?ary:nativeMax(toInteger(ary),0),arity=undefined===arity?arity:toInteger(arity),length-=holders?holders.length:0,64&bitmask){var partialsRight=partials,holdersRight=holders;partials=holders=undefined}var data=isBindKey?undefined:getData(func),newData=[func,bitmask,thisArg,partials,holders,partialsRight,holdersRight,argPos,ary,arity];if(data&&function mergeData(data,source){var bitmask=data[1],srcBitmask=source[1],newBitmask=bitmask|srcBitmask,isCommon=newBitmask<131,isCombo=128==srcBitmask&&8==bitmask||128==srcBitmask&&256==bitmask&&data[7].length<=source[8]||384==srcBitmask&&source[7].length<=source[8]&&8==bitmask;if(!isCommon&&!isCombo)return data;1&srcBitmask&&(data[2]=source[2],newBitmask|=1&bitmask?0:4);var value=source[3];if(value){var partials=data[3];data[3]=partials?composeArgs(partials,value,source[4]):value,data[4]=partials?replaceHolders(data[3],PLACEHOLDER):source[4]}(value=source[5])&&(partials=data[5],data[5]=partials?composeArgsRight(partials,value,source[6]):value,data[6]=partials?replaceHolders(data[5],PLACEHOLDER):source[6]);(value=source[7])&&(data[7]=value);128&srcBitmask&&(data[8]=null==data[8]?source[8]:nativeMin(data[8],source[8]));null==data[9]&&(data[9]=source[9]);return data[0]=source[0],data[1]=newBitmask,data}(newData,data),func=newData[0],bitmask=newData[1],thisArg=newData[2],partials=newData[3],holders=newData[4],!(arity=newData[9]=undefined===newData[9]?isBindKey?0:func.length:nativeMax(newData[9]-length,0))&&24&bitmask&&(bitmask&=-25),bitmask&&1!=bitmask)result=8==bitmask||16==bitmask?function createCurry(func,bitmask,arity){var Ctor=createCtor(func);return function wrapper(){for(var length=arguments.length,args=Array(length),index=length,placeholder=getHolder(wrapper);index--;)args[index]=arguments[index];var holders=length<3&&args[0]!==placeholder&&args[length-1]!==placeholder?[]:replaceHolders(args,placeholder);return(length-=holders.length)<arity?createRecurry(func,bitmask,createHybrid,wrapper.placeholder,void 0,args,holders,void 0,void 0,arity-length):apply(this&&this!==root&&this instanceof wrapper?Ctor:func,this,args)}}(func,bitmask,arity):32!=bitmask&&33!=bitmask||holders.length?createHybrid.apply(undefined,newData):function createPartial(func,bitmask,thisArg,partials){var isBind=1&bitmask,Ctor=createCtor(func);return function wrapper(){for(var argsIndex=-1,argsLength=arguments.length,leftIndex=-1,leftLength=partials.length,args=Array(leftLength+argsLength),fn=this&&this!==root&&this instanceof wrapper?Ctor:func;++leftIndex<leftLength;)args[leftIndex]=partials[leftIndex];for(;argsLength--;)args[leftIndex++]=arguments[++argsIndex];return apply(fn,isBind?thisArg:this,args)}}(func,bitmask,thisArg,partials);else var result=function createBind(func,bitmask,thisArg){var isBind=1&bitmask,Ctor=createCtor(func);return function wrapper(){return(this&&this!==root&&this instanceof wrapper?Ctor:func).apply(isBind?thisArg:this,arguments)}}(func,bitmask,thisArg);return setWrapToString((data?baseSetData:setData)(result,newData),func,bitmask)}function customDefaultsAssignIn(objValue,srcValue,key,object){return undefined===objValue||eq(objValue,objectProto[key])&&!hasOwnProperty.call(object,key)?srcValue:objValue}function customDefaultsMerge(objValue,srcValue,key,object,source,stack){return isObject(objValue)&&isObject(srcValue)&&(stack.set(srcValue,objValue),baseMerge(objValue,srcValue,undefined,customDefaultsMerge,stack),stack.delete(srcValue)),objValue}function customOmitClone(value){return isPlainObject(value)?undefined:value}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=1&bitmask,arrLength=array.length,othLength=other.length;if(arrLength!=othLength&&!(isPartial&&othLength>arrLength))return!1;var arrStacked=stack.get(array),othStacked=stack.get(other);if(arrStacked&&othStacked)return arrStacked==other&&othStacked==array;var index=-1,result=!0,seen=2&bitmask?new SetCache:undefined;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var arrValue=array[index],othValue=other[index];if(customizer)var compared=isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack);if(undefined!==compared){if(compared)continue;result=!1;break}if(seen){if(!arraySome(other,(function(othValue,othIndex){if(!cacheHas(seen,othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack)))return seen.push(othIndex)}))){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function flatRest(func){return setToString(overRest(func,undefined,flatten),func+"")}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getAllKeysIn(object){return baseGetAllKeys(object,keysIn,getSymbolsIn)}var getData=metaMap?function(func){return metaMap.get(func)}:noop;function getFuncName(func){for(var result=func.name+"",array=realNames[result],length=hasOwnProperty.call(realNames,result)?array.length:0;length--;){var data=array[length],otherFunc=data.func;if(null==otherFunc||otherFunc==func)return data.name}return result}function getHolder(func){return(hasOwnProperty.call(lodash,"placeholder")?lodash:func).placeholder}function getIteratee(){var result=lodash.iteratee||iteratee;return result=result===iteratee?baseIteratee:result,arguments.length?result(arguments[0],arguments[1]):result}function getMapData(map,key){var data=map.__data__;return function isKeyable(value){var type=typeof value;return"string"==type||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value}(key)?data["string"==typeof key?"string":"hash"]:data.map}function getMatchData(object){for(var result=keys(object),length=result.length;length--;){var key=result[length],value=object[key];result[length]=[key,value,isStrictComparable(value)]}return result}function getNative(object,key){var value=function getValue(object,key){return null==object?void 0:object[key]}(object,key);return baseIsNative(value)?value:undefined}var getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),arrayFilter(nativeGetSymbols(object),(function(symbol){return propertyIsEnumerable.call(object,symbol)})))}:stubArray,getSymbolsIn=nativeGetSymbols?function(object){for(var result=[];object;)arrayPush(result,getSymbols(object)),object=getPrototype(object);return result}:stubArray,getTag=baseGetTag;function hasPath(object,path,hasFunc){for(var index=-1,length=(path=castPath(path,object)).length,result=!1;++index<length;){var key=toKey(path[index]);if(!(result=null!=object&&hasFunc(object,key)))break;object=object[key]}return result||++index!=length?result:!!(length=null==object?0:object.length)&&isLength(length)&&isIndex(key,length)&&(isArray(object)||isArguments(object))}function initCloneObject(object){return"function"!=typeof object.constructor||isPrototype(object)?{}:baseCreate(getPrototype(object))}function isFlattenable(value){return isArray(value)||isArguments(value)||!!(spreadableSymbol&&value&&value[spreadableSymbol])}function isIndex(value,length){var type=typeof value;return!!(length=null==length?9007199254740991:length)&&("number"==type||"symbol"!=type&&reIsUint.test(value))&&value>-1&&value%1==0&&value<length}function isIterateeCall(value,index,object){if(!isObject(object))return!1;var type=typeof index;return!!("number"==type?isArrayLike(object)&&isIndex(index,object.length):"string"==type&&index in object)&&eq(object[index],value)}function isKey(value,object){if(isArray(value))return!1;var type=typeof value;return!("number"!=type&&"symbol"!=type&&"boolean"!=type&&null!=value&&!isSymbol(value))||(reIsPlainProp.test(value)||!reIsDeepProp.test(value)||null!=object&&value in Object(object))}function isLaziable(func){var funcName=getFuncName(func),other=lodash[funcName];if("function"!=typeof other||!(funcName in LazyWrapper.prototype))return!1;if(func===other)return!0;var data=getData(other);return!!data&&func===data[0]}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&getTag(new WeakMap)!=weakMapTag)&&(getTag=function(value){var result=baseGetTag(value),Ctor=result==objectTag?value.constructor:undefined,ctorString=Ctor?toSource(Ctor):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return result});var isMaskable=coreJsData?isFunction:stubFalse;function isPrototype(value){var Ctor=value&&value.constructor;return value===("function"==typeof Ctor&&Ctor.prototype||objectProto)}function isStrictComparable(value){return value==value&&!isObject(value)}function matchesStrictComparable(key,srcValue){return function(object){return null!=object&&(object[key]===srcValue&&(undefined!==srcValue||key in Object(object)))}}function overRest(func,start,transform){return start=nativeMax(undefined===start?func.length-1:start,0),function(){for(var args=arguments,index=-1,length=nativeMax(args.length-start,0),array=Array(length);++index<length;)array[index]=args[start+index];index=-1;for(var otherArgs=Array(start+1);++index<start;)otherArgs[index]=args[index];return otherArgs[start]=transform(array),apply(func,this,otherArgs)}}function parent(object,path){return path.length<2?object:baseGet(object,baseSlice(path,0,-1))}function safeGet(object,key){if(("constructor"!==key||"function"!=typeof object[key])&&"__proto__"!=key)return object[key]}var setData=shortOut(baseSetData),setTimeout=ctxSetTimeout||function(func,wait){return root.setTimeout(func,wait)},setToString=shortOut(baseSetToString);function setWrapToString(wrapper,reference,bitmask){var source=reference+"";return setToString(wrapper,function insertWrapDetails(source,details){var length=details.length;if(!length)return source;var lastIndex=length-1;return details[lastIndex]=(length>1?"& ":"")+details[lastIndex],details=details.join(length>2?", ":" "),source.replace(reWrapComment,"{\n/* [wrapped with "+details+"] */\n")}(source,function updateWrapDetails(details,bitmask){return arrayEach(wrapFlags,(function(pair){var value="_."+pair[0];bitmask&pair[1]&&!arrayIncludes(details,value)&&details.push(value)})),details.sort()}(function getWrapDetails(source){var match=source.match(reWrapDetails);return match?match[1].split(reSplitDetails):[]}(source),bitmask)))}function shortOut(func){var count=0,lastCalled=0;return function(){var stamp=nativeNow(),remaining=16-(stamp-lastCalled);if(lastCalled=stamp,remaining>0){if(++count>=800)return arguments[0]}else count=0;return func.apply(undefined,arguments)}}function shuffleSelf(array,size){var index=-1,length=array.length,lastIndex=length-1;for(size=undefined===size?length:size;++index<size;){var rand=baseRandom(index,lastIndex),value=array[rand];array[rand]=array[index],array[index]=value}return array.length=size,array}var stringToPath=function memoizeCapped(func){var result=memoize(func,(function(key){return 500===cache.size&&cache.clear(),key})),cache=result.cache;return result}((function(string){var result=[];return 46===string.charCodeAt(0)&&result.push(""),string.replace(rePropName,(function(match,number,quote,subString){result.push(quote?subString.replace(reEscapeChar,"$1"):number||match)})),result}));function toKey(value){if("string"==typeof value||isSymbol(value))return value;var result=value+"";return"0"==result&&1/value==-Infinity?"-0":result}function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function wrapperClone(wrapper){if(wrapper instanceof LazyWrapper)return wrapper.clone();var result=new LodashWrapper(wrapper.__wrapped__,wrapper.__chain__);return result.__actions__=copyArray(wrapper.__actions__),result.__index__=wrapper.__index__,result.__values__=wrapper.__values__,result}var difference=baseRest((function(array,values){return isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0)):[]})),differenceBy=baseRest((function(array,values){var iteratee=last(values);return isArrayLikeObject(iteratee)&&(iteratee=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),getIteratee(iteratee,2)):[]})),differenceWith=baseRest((function(array,values){var comparator=last(values);return isArrayLikeObject(comparator)&&(comparator=undefined),isArrayLikeObject(array)?baseDifference(array,baseFlatten(values,1,isArrayLikeObject,!0),undefined,comparator):[]}));function findIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseFindIndex(array,getIteratee(predicate,3),index)}function findLastIndex(array,predicate,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length-1;return undefined!==fromIndex&&(index=toInteger(fromIndex),index=fromIndex<0?nativeMax(length+index,0):nativeMin(index,length-1)),baseFindIndex(array,getIteratee(predicate,3),index,!0)}function flatten(array){return(null==array?0:array.length)?baseFlatten(array,1):[]}function head(array){return array&&array.length?array[0]:undefined}var intersection=baseRest((function(arrays){var mapped=arrayMap(arrays,castArrayLikeObject);return mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped):[]})),intersectionBy=baseRest((function(arrays){var iteratee=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return iteratee===last(mapped)?iteratee=undefined:mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,getIteratee(iteratee,2)):[]})),intersectionWith=baseRest((function(arrays){var comparator=last(arrays),mapped=arrayMap(arrays,castArrayLikeObject);return(comparator="function"==typeof comparator?comparator:undefined)&&mapped.pop(),mapped.length&&mapped[0]===arrays[0]?baseIntersection(mapped,undefined,comparator):[]}));function last(array){var length=null==array?0:array.length;return length?array[length-1]:undefined}var pull=baseRest(pullAll);function pullAll(array,values){return array&&array.length&&values&&values.length?basePullAll(array,values):array}var pullAt=flatRest((function(array,indexes){var length=null==array?0:array.length,result=baseAt(array,indexes);return basePullAt(array,arrayMap(indexes,(function(index){return isIndex(index,length)?+index:index})).sort(compareAscending)),result}));function reverse(array){return null==array?array:nativeReverse.call(array)}var union=baseRest((function(arrays){return baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0))})),unionBy=baseRest((function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),getIteratee(iteratee,2))})),unionWith=baseRest((function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:undefined,baseUniq(baseFlatten(arrays,1,isArrayLikeObject,!0),undefined,comparator)}));function unzip(array){if(!array||!array.length)return[];var length=0;return array=arrayFilter(array,(function(group){if(isArrayLikeObject(group))return length=nativeMax(group.length,length),!0})),baseTimes(length,(function(index){return arrayMap(array,baseProperty(index))}))}function unzipWith(array,iteratee){if(!array||!array.length)return[];var result=unzip(array);return null==iteratee?result:arrayMap(result,(function(group){return apply(iteratee,undefined,group)}))}var without=baseRest((function(array,values){return isArrayLikeObject(array)?baseDifference(array,values):[]})),xor=baseRest((function(arrays){return baseXor(arrayFilter(arrays,isArrayLikeObject))})),xorBy=baseRest((function(arrays){var iteratee=last(arrays);return isArrayLikeObject(iteratee)&&(iteratee=undefined),baseXor(arrayFilter(arrays,isArrayLikeObject),getIteratee(iteratee,2))})),xorWith=baseRest((function(arrays){var comparator=last(arrays);return comparator="function"==typeof comparator?comparator:undefined,baseXor(arrayFilter(arrays,isArrayLikeObject),undefined,comparator)})),zip=baseRest(unzip);var zipWith=baseRest((function(arrays){var length=arrays.length,iteratee=length>1?arrays[length-1]:undefined;return iteratee="function"==typeof iteratee?(arrays.pop(),iteratee):undefined,unzipWith(arrays,iteratee)}));function chain(value){var result=lodash(value);return result.__chain__=!0,result}function thru(value,interceptor){return interceptor(value)}var wrapperAt=flatRest((function(paths){var length=paths.length,start=length?paths[0]:0,value=this.__wrapped__,interceptor=function(object){return baseAt(object,paths)};return!(length>1||this.__actions__.length)&&value instanceof LazyWrapper&&isIndex(start)?((value=value.slice(start,+start+(length?1:0))).__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(value,this.__chain__).thru((function(array){return length&&!array.length&&array.push(undefined),array}))):this.thru(interceptor)}));var countBy=createAggregator((function(result,value,key){hasOwnProperty.call(result,key)?++result[key]:baseAssignValue(result,key,1)}));var find=createFind(findIndex),findLast=createFind(findLastIndex);function forEach(collection,iteratee){return(isArray(collection)?arrayEach:baseEach)(collection,getIteratee(iteratee,3))}function forEachRight(collection,iteratee){return(isArray(collection)?arrayEachRight:baseEachRight)(collection,getIteratee(iteratee,3))}var groupBy=createAggregator((function(result,value,key){hasOwnProperty.call(result,key)?result[key].push(value):baseAssignValue(result,key,[value])}));var invokeMap=baseRest((function(collection,path,args){var index=-1,isFunc="function"==typeof path,result=isArrayLike(collection)?Array(collection.length):[];return baseEach(collection,(function(value){result[++index]=isFunc?apply(path,value,args):baseInvoke(value,path,args)})),result})),keyBy=createAggregator((function(result,value,key){baseAssignValue(result,key,value)}));function map(collection,iteratee){return(isArray(collection)?arrayMap:baseMap)(collection,getIteratee(iteratee,3))}var partition=createAggregator((function(result,value,key){result[key?0:1].push(value)}),(function(){return[[],[]]}));var sortBy=baseRest((function(collection,iteratees){if(null==collection)return[];var length=iteratees.length;return length>1&&isIterateeCall(collection,iteratees[0],iteratees[1])?iteratees=[]:length>2&&isIterateeCall(iteratees[0],iteratees[1],iteratees[2])&&(iteratees=[iteratees[0]]),baseOrderBy(collection,baseFlatten(iteratees,1),[])})),now=ctxNow||function(){return root.Date.now()};function ary(func,n,guard){return n=guard?undefined:n,createWrap(func,128,undefined,undefined,undefined,undefined,n=func&&null==n?func.length:n)}function before(n,func){var result;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){return--n>0&&(result=func.apply(this,arguments)),n<=1&&(func=undefined),result}}var bind=baseRest((function(func,thisArg,partials){var bitmask=1;if(partials.length){var holders=replaceHolders(partials,getHolder(bind));bitmask|=32}return createWrap(func,bitmask,thisArg,partials,holders)})),bindKey=baseRest((function(object,key,partials){var bitmask=3;if(partials.length){var holders=replaceHolders(partials,getHolder(bindKey));bitmask|=32}return createWrap(key,bitmask,object,partials,holders)}));function debounce(func,wait,options){var lastArgs,lastThis,maxWait,result,timerId,lastCallTime,lastInvokeTime=0,leading=!1,maxing=!1,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);function invokeFunc(time){var args=lastArgs,thisArg=lastThis;return lastArgs=lastThis=undefined,lastInvokeTime=time,result=func.apply(thisArg,args)}function shouldInvoke(time){var timeSinceLastCall=time-lastCallTime;return undefined===lastCallTime||timeSinceLastCall>=wait||timeSinceLastCall<0||maxing&&time-lastInvokeTime>=maxWait}function timerExpired(){var time=now();if(shouldInvoke(time))return trailingEdge(time);timerId=setTimeout(timerExpired,function remainingWait(time){var timeWaiting=wait-(time-lastCallTime);return maxing?nativeMin(timeWaiting,maxWait-(time-lastInvokeTime)):timeWaiting}(time))}function trailingEdge(time){return timerId=undefined,trailing&&lastArgs?invokeFunc(time):(lastArgs=lastThis=undefined,result)}function debounced(){var time=now(),isInvoking=shouldInvoke(time);if(lastArgs=arguments,lastThis=this,lastCallTime=time,isInvoking){if(undefined===timerId)return function leadingEdge(time){return lastInvokeTime=time,timerId=setTimeout(timerExpired,wait),leading?invokeFunc(time):result}(lastCallTime);if(maxing)return clearTimeout(timerId),timerId=setTimeout(timerExpired,wait),invokeFunc(lastCallTime)}return undefined===timerId&&(timerId=setTimeout(timerExpired,wait)),result}return wait=toNumber(wait)||0,isObject(options)&&(leading=!!options.leading,maxWait=(maxing="maxWait"in options)?nativeMax(toNumber(options.maxWait)||0,wait):maxWait,trailing="trailing"in options?!!options.trailing:trailing),debounced.cancel=function cancel(){undefined!==timerId&&clearTimeout(timerId),lastInvokeTime=0,lastArgs=lastCallTime=lastThis=timerId=undefined},debounced.flush=function flush(){return undefined===timerId?result:trailingEdge(now())},debounced}var defer=baseRest((function(func,args){return baseDelay(func,1,args)})),delay=baseRest((function(func,wait,args){return baseDelay(func,toNumber(wait)||0,args)}));function memoize(func,resolver){if("function"!=typeof func||null!=resolver&&"function"!=typeof resolver)throw new TypeError(FUNC_ERROR_TEXT);var memoized=function(){var args=arguments,key=resolver?resolver.apply(this,args):args[0],cache=memoized.cache;if(cache.has(key))return cache.get(key);var result=func.apply(this,args);return memoized.cache=cache.set(key,result)||cache,result};return memoized.cache=new(memoize.Cache||MapCache),memoized}function negate(predicate){if("function"!=typeof predicate)throw new TypeError(FUNC_ERROR_TEXT);return function(){var args=arguments;switch(args.length){case 0:return!predicate.call(this);case 1:return!predicate.call(this,args[0]);case 2:return!predicate.call(this,args[0],args[1]);case 3:return!predicate.call(this,args[0],args[1],args[2])}return!predicate.apply(this,args)}}memoize.Cache=MapCache;var overArgs=castRest((function(func,transforms){var funcsLength=(transforms=1==transforms.length&&isArray(transforms[0])?arrayMap(transforms[0],baseUnary(getIteratee())):arrayMap(baseFlatten(transforms,1),baseUnary(getIteratee()))).length;return baseRest((function(args){for(var index=-1,length=nativeMin(args.length,funcsLength);++index<length;)args[index]=transforms[index].call(this,args[index]);return apply(func,this,args)}))})),partial=baseRest((function(func,partials){return createWrap(func,32,undefined,partials,replaceHolders(partials,getHolder(partial)))})),partialRight=baseRest((function(func,partials){return createWrap(func,64,undefined,partials,replaceHolders(partials,getHolder(partialRight)))})),rearg=flatRest((function(func,indexes){return createWrap(func,256,undefined,undefined,undefined,indexes)}));function eq(value,other){return value===other||value!=value&&other!=other}var gt=createRelationalOperation(baseGt),gte=createRelationalOperation((function(value,other){return value>=other})),isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray,isArrayBuffer=nodeIsArrayBuffer?baseUnary(nodeIsArrayBuffer):function baseIsArrayBuffer(value){return isObjectLike(value)&&baseGetTag(value)==arrayBufferTag};function isArrayLike(value){return null!=value&&isLength(value.length)&&!isFunction(value)}function isArrayLikeObject(value){return isObjectLike(value)&&isArrayLike(value)}var isBuffer=nativeIsBuffer||stubFalse,isDate=nodeIsDate?baseUnary(nodeIsDate):function baseIsDate(value){return isObjectLike(value)&&baseGetTag(value)==dateTag};function isError(value){if(!isObjectLike(value))return!1;var tag=baseGetTag(value);return tag==errorTag||"[object DOMException]"==tag||"string"==typeof value.message&&"string"==typeof value.name&&!isPlainObject(value)}function isFunction(value){if(!isObject(value))return!1;var tag=baseGetTag(value);return tag==funcTag||tag==genTag||"[object AsyncFunction]"==tag||"[object Proxy]"==tag}function isInteger(value){return"number"==typeof value&&value==toInteger(value)}function isLength(value){return"number"==typeof value&&value>-1&&value%1==0&&value<=9007199254740991}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isMap=nodeIsMap?baseUnary(nodeIsMap):function baseIsMap(value){return isObjectLike(value)&&getTag(value)==mapTag};function isNumber(value){return"number"==typeof value||isObjectLike(value)&&baseGetTag(value)==numberTag}function isPlainObject(value){if(!isObjectLike(value)||baseGetTag(value)!=objectTag)return!1;var proto=getPrototype(value);if(null===proto)return!0;var Ctor=hasOwnProperty.call(proto,"constructor")&&proto.constructor;return"function"==typeof Ctor&&Ctor instanceof Ctor&&funcToString.call(Ctor)==objectCtorString}var isRegExp=nodeIsRegExp?baseUnary(nodeIsRegExp):function baseIsRegExp(value){return isObjectLike(value)&&baseGetTag(value)==regexpTag};var isSet=nodeIsSet?baseUnary(nodeIsSet):function baseIsSet(value){return isObjectLike(value)&&getTag(value)==setTag};function isString(value){return"string"==typeof value||!isArray(value)&&isObjectLike(value)&&baseGetTag(value)==stringTag}function isSymbol(value){return"symbol"==typeof value||isObjectLike(value)&&baseGetTag(value)==symbolTag}var isTypedArray=nodeIsTypedArray?baseUnary(nodeIsTypedArray):function baseIsTypedArray(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]};var lt=createRelationalOperation(baseLt),lte=createRelationalOperation((function(value,other){return value<=other}));function toArray(value){if(!value)return[];if(isArrayLike(value))return isString(value)?stringToArray(value):copyArray(value);if(symIterator&&value[symIterator])return function iteratorToArray(iterator){for(var data,result=[];!(data=iterator.next()).done;)result.push(data.value);return result}(value[symIterator]());var tag=getTag(value);return(tag==mapTag?mapToArray:tag==setTag?setToArray:values)(value)}function toFinite(value){return value?Infinity===(value=toNumber(value))||-Infinity===value?17976931348623157e292*(value<0?-1:1):value==value?value:0:0===value?value:0}function toInteger(value){var result=toFinite(value),remainder=result%1;return result==result?remainder?result-remainder:result:0}function toLength(value){return value?baseClamp(toInteger(value),0,4294967295):0}function toNumber(value){if("number"==typeof value)return value;if(isSymbol(value))return NaN;if(isObject(value)){var other="function"==typeof value.valueOf?value.valueOf():value;value=isObject(other)?other+"":other}if("string"!=typeof value)return 0===value?value:+value;value=baseTrim(value);var isBinary=reIsBinary.test(value);return isBinary||reIsOctal.test(value)?freeParseInt(value.slice(2),isBinary?2:8):reIsBadHex.test(value)?NaN:+value}function toPlainObject(value){return copyObject(value,keysIn(value))}function toString(value){return null==value?"":baseToString(value)}var assign=createAssigner((function(object,source){if(isPrototype(source)||isArrayLike(source))copyObject(source,keys(source),object);else for(var key in source)hasOwnProperty.call(source,key)&&assignValue(object,key,source[key])})),assignIn=createAssigner((function(object,source){copyObject(source,keysIn(source),object)})),assignInWith=createAssigner((function(object,source,srcIndex,customizer){copyObject(source,keysIn(source),object,customizer)})),assignWith=createAssigner((function(object,source,srcIndex,customizer){copyObject(source,keys(source),object,customizer)})),at=flatRest(baseAt);var defaults=baseRest((function(object,sources){object=Object(object);var index=-1,length=sources.length,guard=length>2?sources[2]:undefined;for(guard&&isIterateeCall(sources[0],sources[1],guard)&&(length=1);++index<length;)for(var source=sources[index],props=keysIn(source),propsIndex=-1,propsLength=props.length;++propsIndex<propsLength;){var key=props[propsIndex],value=object[key];(undefined===value||eq(value,objectProto[key])&&!hasOwnProperty.call(object,key))&&(object[key]=source[key])}return object})),defaultsDeep=baseRest((function(args){return args.push(undefined,customDefaultsMerge),apply(mergeWith,undefined,args)}));function get(object,path,defaultValue){var result=null==object?undefined:baseGet(object,path);return undefined===result?defaultValue:result}function hasIn(object,path){return null!=object&&hasPath(object,path,baseHasIn)}var invert=createInverter((function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),result[value]=key}),constant(identity)),invertBy=createInverter((function(result,value,key){null!=value&&"function"!=typeof value.toString&&(value=nativeObjectToString.call(value)),hasOwnProperty.call(result,value)?result[value].push(key):result[value]=[key]}),getIteratee),invoke=baseRest(baseInvoke);function keys(object){return isArrayLike(object)?arrayLikeKeys(object):baseKeys(object)}function keysIn(object){return isArrayLike(object)?arrayLikeKeys(object,!0):baseKeysIn(object)}var merge=createAssigner((function(object,source,srcIndex){baseMerge(object,source,srcIndex)})),mergeWith=createAssigner((function(object,source,srcIndex,customizer){baseMerge(object,source,srcIndex,customizer)})),omit=flatRest((function(object,paths){var result={};if(null==object)return result;var isDeep=!1;paths=arrayMap(paths,(function(path){return path=castPath(path,object),isDeep||(isDeep=path.length>1),path})),copyObject(object,getAllKeysIn(object),result),isDeep&&(result=baseClone(result,7,customOmitClone));for(var length=paths.length;length--;)baseUnset(result,paths[length]);return result}));var pick=flatRest((function(object,paths){return null==object?{}:function basePick(object,paths){return basePickBy(object,paths,(function(value,path){return hasIn(object,path)}))}(object,paths)}));function pickBy(object,predicate){if(null==object)return{};var props=arrayMap(getAllKeysIn(object),(function(prop){return[prop]}));return predicate=getIteratee(predicate),basePickBy(object,props,(function(value,path){return predicate(value,path[0])}))}var toPairs=createToPairs(keys),toPairsIn=createToPairs(keysIn);function values(object){return null==object?[]:baseValues(object,keys(object))}var camelCase=createCompounder((function(result,word,index){return word=word.toLowerCase(),result+(index?capitalize(word):word)}));function capitalize(string){return upperFirst(toString(string).toLowerCase())}function deburr(string){return(string=toString(string))&&string.replace(reLatin,deburrLetter).replace(reComboMark,"")}var kebabCase=createCompounder((function(result,word,index){return result+(index?"-":"")+word.toLowerCase()})),lowerCase=createCompounder((function(result,word,index){return result+(index?" ":"")+word.toLowerCase()})),lowerFirst=createCaseFirst("toLowerCase");var snakeCase=createCompounder((function(result,word,index){return result+(index?"_":"")+word.toLowerCase()}));var startCase=createCompounder((function(result,word,index){return result+(index?" ":"")+upperFirst(word)}));var upperCase=createCompounder((function(result,word,index){return result+(index?" ":"")+word.toUpperCase()})),upperFirst=createCaseFirst("toUpperCase");function words(string,pattern,guard){return string=toString(string),undefined===(pattern=guard?undefined:pattern)?function hasUnicodeWord(string){return reHasUnicodeWord.test(string)}(string)?function unicodeWords(string){return string.match(reUnicodeWord)||[]}(string):function asciiWords(string){return string.match(reAsciiWord)||[]}(string):string.match(pattern)||[]}var attempt=baseRest((function(func,args){try{return apply(func,undefined,args)}catch(e){return isError(e)?e:new Error(e)}})),bindAll=flatRest((function(object,methodNames){return arrayEach(methodNames,(function(key){key=toKey(key),baseAssignValue(object,key,bind(object[key],object))})),object}));function constant(value){return function(){return value}}var flow=createFlow(),flowRight=createFlow(!0);function identity(value){return value}function iteratee(func){return baseIteratee("function"==typeof func?func:baseClone(func,1))}var method=baseRest((function(path,args){return function(object){return baseInvoke(object,path,args)}})),methodOf=baseRest((function(object,args){return function(path){return baseInvoke(object,path,args)}}));function mixin(object,source,options){var props=keys(source),methodNames=baseFunctions(source,props);null!=options||isObject(source)&&(methodNames.length||!props.length)||(options=source,source=object,object=this,methodNames=baseFunctions(source,keys(source)));var chain=!(isObject(options)&&"chain"in options&&!options.chain),isFunc=isFunction(object);return arrayEach(methodNames,(function(methodName){var func=source[methodName];object[methodName]=func,isFunc&&(object.prototype[methodName]=function(){var chainAll=this.__chain__;if(chain||chainAll){var result=object(this.__wrapped__);return(result.__actions__=copyArray(this.__actions__)).push({func,args:arguments,thisArg:object}),result.__chain__=chainAll,result}return func.apply(object,arrayPush([this.value()],arguments))})})),object}function noop(){}var over=createOver(arrayMap),overEvery=createOver(arrayEvery),overSome=createOver(arraySome);function property(path){return isKey(path)?baseProperty(toKey(path)):function basePropertyDeep(path){return function(object){return baseGet(object,path)}}(path)}var range=createRange(),rangeRight=createRange(!0);function stubArray(){return[]}function stubFalse(){return!1}var add=createMathOperation((function(augend,addend){return augend+addend}),0),ceil=createRound("ceil"),divide=createMathOperation((function(dividend,divisor){return dividend/divisor}),1),floor=createRound("floor");var source,multiply=createMathOperation((function(multiplier,multiplicand){return multiplier*multiplicand}),1),round=createRound("round"),subtract=createMathOperation((function(minuend,subtrahend){return minuend-subtrahend}),0);return lodash.after=function after(n,func){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return n=toInteger(n),function(){if(--n<1)return func.apply(this,arguments)}},lodash.ary=ary,lodash.assign=assign,lodash.assignIn=assignIn,lodash.assignInWith=assignInWith,lodash.assignWith=assignWith,lodash.at=at,lodash.before=before,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.castArray=function castArray(){if(!arguments.length)return[];var value=arguments[0];return isArray(value)?value:[value]},lodash.chain=chain,lodash.chunk=function chunk(array,size,guard){size=(guard?isIterateeCall(array,size,guard):undefined===size)?1:nativeMax(toInteger(size),0);var length=null==array?0:array.length;if(!length||size<1)return[];for(var index=0,resIndex=0,result=Array(nativeCeil(length/size));index<length;)result[resIndex++]=baseSlice(array,index,index+=size);return result},lodash.compact=function compact(array){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];value&&(result[resIndex++]=value)}return result},lodash.concat=function concat(){var length=arguments.length;if(!length)return[];for(var args=Array(length-1),array=arguments[0],index=length;index--;)args[index-1]=arguments[index];return arrayPush(isArray(array)?copyArray(array):[array],baseFlatten(args,1))},lodash.cond=function cond(pairs){var length=null==pairs?0:pairs.length,toIteratee=getIteratee();return pairs=length?arrayMap(pairs,(function(pair){if("function"!=typeof pair[1])throw new TypeError(FUNC_ERROR_TEXT);return[toIteratee(pair[0]),pair[1]]})):[],baseRest((function(args){for(var index=-1;++index<length;){var pair=pairs[index];if(apply(pair[0],this,args))return apply(pair[1],this,args)}}))},lodash.conforms=function conforms(source){return function baseConforms(source){var props=keys(source);return function(object){return baseConformsTo(object,source,props)}}(baseClone(source,1))},lodash.constant=constant,lodash.countBy=countBy,lodash.create=function create(prototype,properties){var result=baseCreate(prototype);return null==properties?result:baseAssign(result,properties)},lodash.curry=function curry(func,arity,guard){var result=createWrap(func,8,undefined,undefined,undefined,undefined,undefined,arity=guard?undefined:arity);return result.placeholder=curry.placeholder,result},lodash.curryRight=function curryRight(func,arity,guard){var result=createWrap(func,16,undefined,undefined,undefined,undefined,undefined,arity=guard?undefined:arity);return result.placeholder=curryRight.placeholder,result},lodash.debounce=debounce,lodash.defaults=defaults,lodash.defaultsDeep=defaultsDeep,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.differenceBy=differenceBy,lodash.differenceWith=differenceWith,lodash.drop=function drop(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,(n=guard||undefined===n?1:toInteger(n))<0?0:n,length):[]},lodash.dropRight=function dropRight(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,0,(n=length-(n=guard||undefined===n?1:toInteger(n)))<0?0:n):[]},lodash.dropRightWhile=function dropRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0,!0):[]},lodash.dropWhile=function dropWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!0):[]},lodash.fill=function fill(array,value,start,end){var length=null==array?0:array.length;return length?(start&&"number"!=typeof start&&isIterateeCall(array,value,start)&&(start=0,end=length),function baseFill(array,value,start,end){var length=array.length;for((start=toInteger(start))<0&&(start=-start>length?0:length+start),(end=void 0===end||end>length?length:toInteger(end))<0&&(end+=length),end=start>end?0:toLength(end);start<end;)array[start++]=value;return array}(array,value,start,end)):[]},lodash.filter=function filter(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,getIteratee(predicate,3))},lodash.flatMap=function flatMap(collection,iteratee){return baseFlatten(map(collection,iteratee),1)},lodash.flatMapDeep=function flatMapDeep(collection,iteratee){return baseFlatten(map(collection,iteratee),Infinity)},lodash.flatMapDepth=function flatMapDepth(collection,iteratee,depth){return depth=undefined===depth?1:toInteger(depth),baseFlatten(map(collection,iteratee),depth)},lodash.flatten=flatten,lodash.flattenDeep=function flattenDeep(array){return(null==array?0:array.length)?baseFlatten(array,Infinity):[]},lodash.flattenDepth=function flattenDepth(array,depth){return(null==array?0:array.length)?baseFlatten(array,depth=undefined===depth?1:toInteger(depth)):[]},lodash.flip=function flip(func){return createWrap(func,512)},lodash.flow=flow,lodash.flowRight=flowRight,lodash.fromPairs=function fromPairs(pairs){for(var index=-1,length=null==pairs?0:pairs.length,result={};++index<length;){var pair=pairs[index];result[pair[0]]=pair[1]}return result},lodash.functions=function functions(object){return null==object?[]:baseFunctions(object,keys(object))},lodash.functionsIn=function functionsIn(object){return null==object?[]:baseFunctions(object,keysIn(object))},lodash.groupBy=groupBy,lodash.initial=function initial(array){return(null==array?0:array.length)?baseSlice(array,0,-1):[]},lodash.intersection=intersection,lodash.intersectionBy=intersectionBy,lodash.intersectionWith=intersectionWith,lodash.invert=invert,lodash.invertBy=invertBy,lodash.invokeMap=invokeMap,lodash.iteratee=iteratee,lodash.keyBy=keyBy,lodash.keys=keys,lodash.keysIn=keysIn,lodash.map=map,lodash.mapKeys=function mapKeys(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,(function(value,key,object){baseAssignValue(result,iteratee(value,key,object),value)})),result},lodash.mapValues=function mapValues(object,iteratee){var result={};return iteratee=getIteratee(iteratee,3),baseForOwn(object,(function(value,key,object){baseAssignValue(result,key,iteratee(value,key,object))})),result},lodash.matches=function matches(source){return baseMatches(baseClone(source,1))},lodash.matchesProperty=function matchesProperty(path,srcValue){return baseMatchesProperty(path,baseClone(srcValue,1))},lodash.memoize=memoize,lodash.merge=merge,lodash.mergeWith=mergeWith,lodash.method=method,lodash.methodOf=methodOf,lodash.mixin=mixin,lodash.negate=negate,lodash.nthArg=function nthArg(n){return n=toInteger(n),baseRest((function(args){return baseNth(args,n)}))},lodash.omit=omit,lodash.omitBy=function omitBy(object,predicate){return pickBy(object,negate(getIteratee(predicate)))},lodash.once=function once(func){return before(2,func)},lodash.orderBy=function orderBy(collection,iteratees,orders,guard){return null==collection?[]:(isArray(iteratees)||(iteratees=null==iteratees?[]:[iteratees]),isArray(orders=guard?undefined:orders)||(orders=null==orders?[]:[orders]),baseOrderBy(collection,iteratees,orders))},lodash.over=over,lodash.overArgs=overArgs,lodash.overEvery=overEvery,lodash.overSome=overSome,lodash.partial=partial,lodash.partialRight=partialRight,lodash.partition=partition,lodash.pick=pick,lodash.pickBy=pickBy,lodash.property=property,lodash.propertyOf=function propertyOf(object){return function(path){return null==object?undefined:baseGet(object,path)}},lodash.pull=pull,lodash.pullAll=pullAll,lodash.pullAllBy=function pullAllBy(array,values,iteratee){return array&&array.length&&values&&values.length?basePullAll(array,values,getIteratee(iteratee,2)):array},lodash.pullAllWith=function pullAllWith(array,values,comparator){return array&&array.length&&values&&values.length?basePullAll(array,values,undefined,comparator):array},lodash.pullAt=pullAt,lodash.range=range,lodash.rangeRight=rangeRight,lodash.rearg=rearg,lodash.reject=function reject(collection,predicate){return(isArray(collection)?arrayFilter:baseFilter)(collection,negate(getIteratee(predicate,3)))},lodash.remove=function remove(array,predicate){var result=[];if(!array||!array.length)return result;var index=-1,indexes=[],length=array.length;for(predicate=getIteratee(predicate,3);++index<length;){var value=array[index];predicate(value,index,array)&&(result.push(value),indexes.push(index))}return basePullAt(array,indexes),result},lodash.rest=function rest(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return baseRest(func,start=undefined===start?start:toInteger(start))},lodash.reverse=reverse,lodash.sampleSize=function sampleSize(collection,n,guard){return n=(guard?isIterateeCall(collection,n,guard):undefined===n)?1:toInteger(n),(isArray(collection)?arraySampleSize:baseSampleSize)(collection,n)},lodash.set=function set(object,path,value){return null==object?object:baseSet(object,path,value)},lodash.setWith=function setWith(object,path,value,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseSet(object,path,value,customizer)},lodash.shuffle=function shuffle(collection){return(isArray(collection)?arrayShuffle:baseShuffle)(collection)},lodash.slice=function slice(array,start,end){var length=null==array?0:array.length;return length?(end&&"number"!=typeof end&&isIterateeCall(array,start,end)?(start=0,end=length):(start=null==start?0:toInteger(start),end=undefined===end?length:toInteger(end)),baseSlice(array,start,end)):[]},lodash.sortBy=sortBy,lodash.sortedUniq=function sortedUniq(array){return array&&array.length?baseSortedUniq(array):[]},lodash.sortedUniqBy=function sortedUniqBy(array,iteratee){return array&&array.length?baseSortedUniq(array,getIteratee(iteratee,2)):[]},lodash.split=function split(string,separator,limit){return limit&&"number"!=typeof limit&&isIterateeCall(string,separator,limit)&&(separator=limit=undefined),(limit=undefined===limit?4294967295:limit>>>0)?(string=toString(string))&&("string"==typeof separator||null!=separator&&!isRegExp(separator))&&!(separator=baseToString(separator))&&hasUnicode(string)?castSlice(stringToArray(string),0,limit):string.split(separator,limit):[]},lodash.spread=function spread(func,start){if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return start=null==start?0:nativeMax(toInteger(start),0),baseRest((function(args){var array=args[start],otherArgs=castSlice(args,0,start);return array&&arrayPush(otherArgs,array),apply(func,this,otherArgs)}))},lodash.tail=function tail(array){var length=null==array?0:array.length;return length?baseSlice(array,1,length):[]},lodash.take=function take(array,n,guard){return array&&array.length?baseSlice(array,0,(n=guard||undefined===n?1:toInteger(n))<0?0:n):[]},lodash.takeRight=function takeRight(array,n,guard){var length=null==array?0:array.length;return length?baseSlice(array,(n=length-(n=guard||undefined===n?1:toInteger(n)))<0?0:n,length):[]},lodash.takeRightWhile=function takeRightWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3),!1,!0):[]},lodash.takeWhile=function takeWhile(array,predicate){return array&&array.length?baseWhile(array,getIteratee(predicate,3)):[]},lodash.tap=function tap(value,interceptor){return interceptor(value),value},lodash.throttle=function throttle(func,wait,options){var leading=!0,trailing=!0;if("function"!=typeof func)throw new TypeError(FUNC_ERROR_TEXT);return isObject(options)&&(leading="leading"in options?!!options.leading:leading,trailing="trailing"in options?!!options.trailing:trailing),debounce(func,wait,{leading,maxWait:wait,trailing})},lodash.thru=thru,lodash.toArray=toArray,lodash.toPairs=toPairs,lodash.toPairsIn=toPairsIn,lodash.toPath=function toPath(value){return isArray(value)?arrayMap(value,toKey):isSymbol(value)?[value]:copyArray(stringToPath(toString(value)))},lodash.toPlainObject=toPlainObject,lodash.transform=function transform(object,iteratee,accumulator){var isArr=isArray(object),isArrLike=isArr||isBuffer(object)||isTypedArray(object);if(iteratee=getIteratee(iteratee,4),null==accumulator){var Ctor=object&&object.constructor;accumulator=isArrLike?isArr?new Ctor:[]:isObject(object)&&isFunction(Ctor)?baseCreate(getPrototype(object)):{}}return(isArrLike?arrayEach:baseForOwn)(object,(function(value,index,object){return iteratee(accumulator,value,index,object)})),accumulator},lodash.unary=function unary(func){return ary(func,1)},lodash.union=union,lodash.unionBy=unionBy,lodash.unionWith=unionWith,lodash.uniq=function uniq(array){return array&&array.length?baseUniq(array):[]},lodash.uniqBy=function uniqBy(array,iteratee){return array&&array.length?baseUniq(array,getIteratee(iteratee,2)):[]},lodash.uniqWith=function uniqWith(array,comparator){return comparator="function"==typeof comparator?comparator:undefined,array&&array.length?baseUniq(array,undefined,comparator):[]},lodash.unset=function unset(object,path){return null==object||baseUnset(object,path)},lodash.unzip=unzip,lodash.unzipWith=unzipWith,lodash.update=function update(object,path,updater){return null==object?object:baseUpdate(object,path,castFunction(updater))},lodash.updateWith=function updateWith(object,path,updater,customizer){return customizer="function"==typeof customizer?customizer:undefined,null==object?object:baseUpdate(object,path,castFunction(updater),customizer)},lodash.values=values,lodash.valuesIn=function valuesIn(object){return null==object?[]:baseValues(object,keysIn(object))},lodash.without=without,lodash.words=words,lodash.wrap=function wrap(value,wrapper){return partial(castFunction(wrapper),value)},lodash.xor=xor,lodash.xorBy=xorBy,lodash.xorWith=xorWith,lodash.zip=zip,lodash.zipObject=function zipObject(props,values){return baseZipObject(props||[],values||[],assignValue)},lodash.zipObjectDeep=function zipObjectDeep(props,values){return baseZipObject(props||[],values||[],baseSet)},lodash.zipWith=zipWith,lodash.entries=toPairs,lodash.entriesIn=toPairsIn,lodash.extend=assignIn,lodash.extendWith=assignInWith,mixin(lodash,lodash),lodash.add=add,lodash.attempt=attempt,lodash.camelCase=camelCase,lodash.capitalize=capitalize,lodash.ceil=ceil,lodash.clamp=function clamp(number,lower,upper){return undefined===upper&&(upper=lower,lower=undefined),undefined!==upper&&(upper=(upper=toNumber(upper))==upper?upper:0),undefined!==lower&&(lower=(lower=toNumber(lower))==lower?lower:0),baseClamp(toNumber(number),lower,upper)},lodash.clone=function clone(value){return baseClone(value,4)},lodash.cloneDeep=function cloneDeep(value){return baseClone(value,5)},lodash.cloneDeepWith=function cloneDeepWith(value,customizer){return baseClone(value,5,customizer="function"==typeof customizer?customizer:undefined)},lodash.cloneWith=function cloneWith(value,customizer){return baseClone(value,4,customizer="function"==typeof customizer?customizer:undefined)},lodash.conformsTo=function conformsTo(object,source){return null==source||baseConformsTo(object,source,keys(source))},lodash.deburr=deburr,lodash.defaultTo=function defaultTo(value,defaultValue){return null==value||value!=value?defaultValue:value},lodash.divide=divide,lodash.endsWith=function endsWith(string,target,position){string=toString(string),target=baseToString(target);var length=string.length,end=position=undefined===position?length:baseClamp(toInteger(position),0,length);return(position-=target.length)>=0&&string.slice(position,end)==target},lodash.eq=eq,lodash.escape=function escape(string){return(string=toString(string))&&reHasUnescapedHtml.test(string)?string.replace(reUnescapedHtml,escapeHtmlChar):string},lodash.escapeRegExp=function escapeRegExp(string){return(string=toString(string))&&reHasRegExpChar.test(string)?string.replace(reRegExpChar,"\\$&"):string},lodash.every=function every(collection,predicate,guard){var func=isArray(collection)?arrayEvery:baseEvery;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))},lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=function findKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwn)},lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=function findLastKey(object,predicate){return baseFindKey(object,getIteratee(predicate,3),baseForOwnRight)},lodash.floor=floor,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=function forIn(object,iteratee){return null==object?object:baseFor(object,getIteratee(iteratee,3),keysIn)},lodash.forInRight=function forInRight(object,iteratee){return null==object?object:baseForRight(object,getIteratee(iteratee,3),keysIn)},lodash.forOwn=function forOwn(object,iteratee){return object&&baseForOwn(object,getIteratee(iteratee,3))},lodash.forOwnRight=function forOwnRight(object,iteratee){return object&&baseForOwnRight(object,getIteratee(iteratee,3))},lodash.get=get,lodash.gt=gt,lodash.gte=gte,lodash.has=function has(object,path){return null!=object&&hasPath(object,path,baseHas)},lodash.hasIn=hasIn,lodash.head=head,lodash.identity=identity,lodash.includes=function includes(collection,value,fromIndex,guard){collection=isArrayLike(collection)?collection:values(collection),fromIndex=fromIndex&&!guard?toInteger(fromIndex):0;var length=collection.length;return fromIndex<0&&(fromIndex=nativeMax(length+fromIndex,0)),isString(collection)?fromIndex<=length&&collection.indexOf(value,fromIndex)>-1:!!length&&baseIndexOf(collection,value,fromIndex)>-1},lodash.indexOf=function indexOf(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=null==fromIndex?0:toInteger(fromIndex);return index<0&&(index=nativeMax(length+index,0)),baseIndexOf(array,value,index)},lodash.inRange=function inRange(number,start,end){return start=toFinite(start),undefined===end?(end=start,start=0):end=toFinite(end),function baseInRange(number,start,end){return number>=nativeMin(start,end)&&number<nativeMax(start,end)}(number=toNumber(number),start,end)},lodash.invoke=invoke,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isArrayBuffer=isArrayBuffer,lodash.isArrayLike=isArrayLike,lodash.isArrayLikeObject=isArrayLikeObject,lodash.isBoolean=function isBoolean(value){return!0===value||!1===value||isObjectLike(value)&&baseGetTag(value)==boolTag},lodash.isBuffer=isBuffer,lodash.isDate=isDate,lodash.isElement=function isElement(value){return isObjectLike(value)&&1===value.nodeType&&!isPlainObject(value)},lodash.isEmpty=function isEmpty(value){if(null==value)return!0;if(isArrayLike(value)&&(isArray(value)||"string"==typeof value||"function"==typeof value.splice||isBuffer(value)||isTypedArray(value)||isArguments(value)))return!value.length;var tag=getTag(value);if(tag==mapTag||tag==setTag)return!value.size;if(isPrototype(value))return!baseKeys(value).length;for(var key in value)if(hasOwnProperty.call(value,key))return!1;return!0},lodash.isEqual=function isEqual(value,other){return baseIsEqual(value,other)},lodash.isEqualWith=function isEqualWith(value,other,customizer){var result=(customizer="function"==typeof customizer?customizer:undefined)?customizer(value,other):undefined;return undefined===result?baseIsEqual(value,other,undefined,customizer):!!result},lodash.isError=isError,lodash.isFinite=function isFinite(value){return"number"==typeof value&&nativeIsFinite(value)},lodash.isFunction=isFunction,lodash.isInteger=isInteger,lodash.isLength=isLength,lodash.isMap=isMap,lodash.isMatch=function isMatch(object,source){return object===source||baseIsMatch(object,source,getMatchData(source))},lodash.isMatchWith=function isMatchWith(object,source,customizer){return customizer="function"==typeof customizer?customizer:undefined,baseIsMatch(object,source,getMatchData(source),customizer)},lodash.isNaN=function isNaN(value){return isNumber(value)&&value!=+value},lodash.isNative=function isNative(value){if(isMaskable(value))throw new Error("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return baseIsNative(value)},lodash.isNil=function isNil(value){return null==value},lodash.isNull=function isNull(value){return null===value},lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isObjectLike=isObjectLike,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isSafeInteger=function isSafeInteger(value){return isInteger(value)&&value>=-9007199254740991&&value<=9007199254740991},lodash.isSet=isSet,lodash.isString=isString,lodash.isSymbol=isSymbol,lodash.isTypedArray=isTypedArray,lodash.isUndefined=function isUndefined(value){return undefined===value},lodash.isWeakMap=function isWeakMap(value){return isObjectLike(value)&&getTag(value)==weakMapTag},lodash.isWeakSet=function isWeakSet(value){return isObjectLike(value)&&"[object WeakSet]"==baseGetTag(value)},lodash.join=function join(array,separator){return null==array?"":nativeJoin.call(array,separator)},lodash.kebabCase=kebabCase,lodash.last=last,lodash.lastIndexOf=function lastIndexOf(array,value,fromIndex){var length=null==array?0:array.length;if(!length)return-1;var index=length;return undefined!==fromIndex&&(index=(index=toInteger(fromIndex))<0?nativeMax(length+index,0):nativeMin(index,length-1)),value==value?function strictLastIndexOf(array,value,fromIndex){for(var index=fromIndex+1;index--;)if(array[index]===value)return index;return index}(array,value,index):baseFindIndex(array,baseIsNaN,index,!0)},lodash.lowerCase=lowerCase,lodash.lowerFirst=lowerFirst,lodash.lt=lt,lodash.lte=lte,lodash.max=function max(array){return array&&array.length?baseExtremum(array,identity,baseGt):undefined},lodash.maxBy=function maxBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseGt):undefined},lodash.mean=function mean(array){return baseMean(array,identity)},lodash.meanBy=function meanBy(array,iteratee){return baseMean(array,getIteratee(iteratee,2))},lodash.min=function min(array){return array&&array.length?baseExtremum(array,identity,baseLt):undefined},lodash.minBy=function minBy(array,iteratee){return array&&array.length?baseExtremum(array,getIteratee(iteratee,2),baseLt):undefined},lodash.stubArray=stubArray,lodash.stubFalse=stubFalse,lodash.stubObject=function stubObject(){return{}},lodash.stubString=function stubString(){return""},lodash.stubTrue=function stubTrue(){return!0},lodash.multiply=multiply,lodash.nth=function nth(array,n){return array&&array.length?baseNth(array,toInteger(n)):undefined},lodash.noConflict=function noConflict(){return root._===this&&(root._=oldDash),this},lodash.noop=noop,lodash.now=now,lodash.pad=function pad(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;if(!length||strLength>=length)return string;var mid=(length-strLength)/2;return createPadding(nativeFloor(mid),chars)+string+createPadding(nativeCeil(mid),chars)},lodash.padEnd=function padEnd(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?string+createPadding(length-strLength,chars):string},lodash.padStart=function padStart(string,length,chars){string=toString(string);var strLength=(length=toInteger(length))?stringSize(string):0;return length&&strLength<length?createPadding(length-strLength,chars)+string:string},lodash.parseInt=function parseInt(string,radix,guard){return guard||null==radix?radix=0:radix&&(radix=+radix),nativeParseInt(toString(string).replace(reTrimStart,""),radix||0)},lodash.random=function random(lower,upper,floating){if(floating&&"boolean"!=typeof floating&&isIterateeCall(lower,upper,floating)&&(upper=floating=undefined),undefined===floating&&("boolean"==typeof upper?(floating=upper,upper=undefined):"boolean"==typeof lower&&(floating=lower,lower=undefined)),undefined===lower&&undefined===upper?(lower=0,upper=1):(lower=toFinite(lower),undefined===upper?(upper=lower,lower=0):upper=toFinite(upper)),lower>upper){var temp=lower;lower=upper,upper=temp}if(floating||lower%1||upper%1){var rand=nativeRandom();return nativeMin(lower+rand*(upper-lower+freeParseFloat("1e-"+((rand+"").length-1))),upper)}return baseRandom(lower,upper)},lodash.reduce=function reduce(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduce:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEach)},lodash.reduceRight=function reduceRight(collection,iteratee,accumulator){var func=isArray(collection)?arrayReduceRight:baseReduce,initAccum=arguments.length<3;return func(collection,getIteratee(iteratee,4),accumulator,initAccum,baseEachRight)},lodash.repeat=function repeat(string,n,guard){return n=(guard?isIterateeCall(string,n,guard):undefined===n)?1:toInteger(n),baseRepeat(toString(string),n)},lodash.replace=function replace(){var args=arguments,string=toString(args[0]);return args.length<3?string:string.replace(args[1],args[2])},lodash.result=function result(object,path,defaultValue){var index=-1,length=(path=castPath(path,object)).length;for(length||(length=1,object=undefined);++index<length;){var value=null==object?undefined:object[toKey(path[index])];undefined===value&&(index=length,value=defaultValue),object=isFunction(value)?value.call(object):value}return object},lodash.round=round,lodash.runInContext=runInContext,lodash.sample=function sample(collection){return(isArray(collection)?arraySample:baseSample)(collection)},lodash.size=function size(collection){if(null==collection)return 0;if(isArrayLike(collection))return isString(collection)?stringSize(collection):collection.length;var tag=getTag(collection);return tag==mapTag||tag==setTag?collection.size:baseKeys(collection).length},lodash.snakeCase=snakeCase,lodash.some=function some(collection,predicate,guard){var func=isArray(collection)?arraySome:baseSome;return guard&&isIterateeCall(collection,predicate,guard)&&(predicate=undefined),func(collection,getIteratee(predicate,3))},lodash.sortedIndex=function sortedIndex(array,value){return baseSortedIndex(array,value)},lodash.sortedIndexBy=function sortedIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2))},lodash.sortedIndexOf=function sortedIndexOf(array,value){var length=null==array?0:array.length;if(length){var index=baseSortedIndex(array,value);if(index<length&&eq(array[index],value))return index}return-1},lodash.sortedLastIndex=function sortedLastIndex(array,value){return baseSortedIndex(array,value,!0)},lodash.sortedLastIndexBy=function sortedLastIndexBy(array,value,iteratee){return baseSortedIndexBy(array,value,getIteratee(iteratee,2),!0)},lodash.sortedLastIndexOf=function sortedLastIndexOf(array,value){if(null==array?0:array.length){var index=baseSortedIndex(array,value,!0)-1;if(eq(array[index],value))return index}return-1},lodash.startCase=startCase,lodash.startsWith=function startsWith(string,target,position){return string=toString(string),position=null==position?0:baseClamp(toInteger(position),0,string.length),target=baseToString(target),string.slice(position,position+target.length)==target},lodash.subtract=subtract,lodash.sum=function sum(array){return array&&array.length?baseSum(array,identity):0},lodash.sumBy=function sumBy(array,iteratee){return array&&array.length?baseSum(array,getIteratee(iteratee,2)):0},lodash.template=function template(string,options,guard){var settings=lodash.templateSettings;guard&&isIterateeCall(string,options,guard)&&(options=undefined),string=toString(string),options=assignInWith({},options,settings,customDefaultsAssignIn);var isEscaping,isEvaluating,imports=assignInWith({},options.imports,settings.imports,customDefaultsAssignIn),importsKeys=keys(imports),importsValues=baseValues(imports,importsKeys),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g"),sourceURL="//# sourceURL="+(hasOwnProperty.call(options,"sourceURL")?(options.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++templateCounter+"]")+"\n";string.replace(reDelimiters,(function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=string.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(isEscaping=!0,source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match})),source+="';\n";var variable=hasOwnProperty.call(options,"variable")&&options.variable;if(variable){if(reForbiddenIdentifierChars.test(variable))throw new Error("Invalid `variable` option passed into `_.template`")}else source="with (obj) {\n"+source+"\n}\n";source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+(variable||"obj")+") {\n"+(variable?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(isEscaping?", __e = _.escape":"")+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var result=attempt((function(){return Function(importsKeys,sourceURL+"return "+source).apply(undefined,importsValues)}));if(result.source=source,isError(result))throw result;return result},lodash.times=function times(n,iteratee){if((n=toInteger(n))<1||n>9007199254740991)return[];var index=4294967295,length=nativeMin(n,4294967295);n-=4294967295;for(var result=baseTimes(length,iteratee=getIteratee(iteratee));++index<n;)iteratee(index);return result},lodash.toFinite=toFinite,lodash.toInteger=toInteger,lodash.toLength=toLength,lodash.toLower=function toLower(value){return toString(value).toLowerCase()},lodash.toNumber=toNumber,lodash.toSafeInteger=function toSafeInteger(value){return value?baseClamp(toInteger(value),-9007199254740991,9007199254740991):0===value?value:0},lodash.toString=toString,lodash.toUpper=function toUpper(value){return toString(value).toUpperCase()},lodash.trim=function trim(string,chars,guard){if((string=toString(string))&&(guard||undefined===chars))return baseTrim(string);if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string),chrSymbols=stringToArray(chars);return castSlice(strSymbols,charsStartIndex(strSymbols,chrSymbols),charsEndIndex(strSymbols,chrSymbols)+1).join("")},lodash.trimEnd=function trimEnd(string,chars,guard){if((string=toString(string))&&(guard||undefined===chars))return string.slice(0,trimmedEndIndex(string)+1);if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,0,charsEndIndex(strSymbols,stringToArray(chars))+1).join("")},lodash.trimStart=function trimStart(string,chars,guard){if((string=toString(string))&&(guard||undefined===chars))return string.replace(reTrimStart,"");if(!string||!(chars=baseToString(chars)))return string;var strSymbols=stringToArray(string);return castSlice(strSymbols,charsStartIndex(strSymbols,stringToArray(chars))).join("")},lodash.truncate=function truncate(string,options){var length=30,omission="...";if(isObject(options)){var separator="separator"in options?options.separator:separator;length="length"in options?toInteger(options.length):length,omission="omission"in options?baseToString(options.omission):omission}var strLength=(string=toString(string)).length;if(hasUnicode(string)){var strSymbols=stringToArray(string);strLength=strSymbols.length}if(length>=strLength)return string;var end=length-stringSize(omission);if(end<1)return omission;var result=strSymbols?castSlice(strSymbols,0,end).join(""):string.slice(0,end);if(undefined===separator)return result+omission;if(strSymbols&&(end+=result.length-end),isRegExp(separator)){if(string.slice(end).search(separator)){var match,substring=result;for(separator.global||(separator=RegExp(separator.source,toString(reFlags.exec(separator))+"g")),separator.lastIndex=0;match=separator.exec(substring);)var newEnd=match.index;result=result.slice(0,undefined===newEnd?end:newEnd)}}else if(string.indexOf(baseToString(separator),end)!=end){var index=result.lastIndexOf(separator);index>-1&&(result=result.slice(0,index))}return result+omission},lodash.unescape=function unescape(string){return(string=toString(string))&&reHasEscapedHtml.test(string)?string.replace(reEscapedHtml,unescapeHtmlChar):string},lodash.uniqueId=function uniqueId(prefix){var id=++idCounter;return toString(prefix)+id},lodash.upperCase=upperCase,lodash.upperFirst=upperFirst,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.first=head,mixin(lodash,(source={},baseForOwn(lodash,(function(func,methodName){hasOwnProperty.call(lodash.prototype,methodName)||(source[methodName]=func)})),source),{chain:!1}),lodash.VERSION="4.17.21",arrayEach(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(methodName){lodash[methodName].placeholder=lodash})),arrayEach(["drop","take"],(function(methodName,index){LazyWrapper.prototype[methodName]=function(n){n=undefined===n?1:nativeMax(toInteger(n),0);var result=this.__filtered__&&!index?new LazyWrapper(this):this.clone();return result.__filtered__?result.__takeCount__=nativeMin(n,result.__takeCount__):result.__views__.push({size:nativeMin(n,4294967295),type:methodName+(result.__dir__<0?"Right":"")}),result},LazyWrapper.prototype[methodName+"Right"]=function(n){return this.reverse()[methodName](n).reverse()}})),arrayEach(["filter","map","takeWhile"],(function(methodName,index){var type=index+1,isFilter=1==type||3==type;LazyWrapper.prototype[methodName]=function(iteratee){var result=this.clone();return result.__iteratees__.push({iteratee:getIteratee(iteratee,3),type}),result.__filtered__=result.__filtered__||isFilter,result}})),arrayEach(["head","last"],(function(methodName,index){var takeName="take"+(index?"Right":"");LazyWrapper.prototype[methodName]=function(){return this[takeName](1).value()[0]}})),arrayEach(["initial","tail"],(function(methodName,index){var dropName="drop"+(index?"":"Right");LazyWrapper.prototype[methodName]=function(){return this.__filtered__?new LazyWrapper(this):this[dropName](1)}})),LazyWrapper.prototype.compact=function(){return this.filter(identity)},LazyWrapper.prototype.find=function(predicate){return this.filter(predicate).head()},LazyWrapper.prototype.findLast=function(predicate){return this.reverse().find(predicate)},LazyWrapper.prototype.invokeMap=baseRest((function(path,args){return"function"==typeof path?new LazyWrapper(this):this.map((function(value){return baseInvoke(value,path,args)}))})),LazyWrapper.prototype.reject=function(predicate){return this.filter(negate(getIteratee(predicate)))},LazyWrapper.prototype.slice=function(start,end){start=toInteger(start);var result=this;return result.__filtered__&&(start>0||end<0)?new LazyWrapper(result):(start<0?result=result.takeRight(-start):start&&(result=result.drop(start)),undefined!==end&&(result=(end=toInteger(end))<0?result.dropRight(-end):result.take(end-start)),result)},LazyWrapper.prototype.takeRightWhile=function(predicate){return this.reverse().takeWhile(predicate).reverse()},LazyWrapper.prototype.toArray=function(){return this.take(4294967295)},baseForOwn(LazyWrapper.prototype,(function(func,methodName){var checkIteratee=/^(?:filter|find|map|reject)|While$/.test(methodName),isTaker=/^(?:head|last)$/.test(methodName),lodashFunc=lodash[isTaker?"take"+("last"==methodName?"Right":""):methodName],retUnwrapped=isTaker||/^find/.test(methodName);lodashFunc&&(lodash.prototype[methodName]=function(){var value=this.__wrapped__,args=isTaker?[1]:arguments,isLazy=value instanceof LazyWrapper,iteratee=args[0],useLazy=isLazy||isArray(value),interceptor=function(value){var result=lodashFunc.apply(lodash,arrayPush([value],args));return isTaker&&chainAll?result[0]:result};useLazy&&checkIteratee&&"function"==typeof iteratee&&1!=iteratee.length&&(isLazy=useLazy=!1);var chainAll=this.__chain__,isHybrid=!!this.__actions__.length,isUnwrapped=retUnwrapped&&!chainAll,onlyLazy=isLazy&&!isHybrid;if(!retUnwrapped&&useLazy){value=onlyLazy?value:new LazyWrapper(this);var result=func.apply(value,args);return result.__actions__.push({func:thru,args:[interceptor],thisArg:undefined}),new LodashWrapper(result,chainAll)}return isUnwrapped&&onlyLazy?func.apply(this,args):(result=this.thru(interceptor),isUnwrapped?isTaker?result.value()[0]:result.value():result)})})),arrayEach(["pop","push","shift","sort","splice","unshift"],(function(methodName){var func=arrayProto[methodName],chainName=/^(?:push|sort|unshift)$/.test(methodName)?"tap":"thru",retUnwrapped=/^(?:pop|shift)$/.test(methodName);lodash.prototype[methodName]=function(){var args=arguments;if(retUnwrapped&&!this.__chain__){var value=this.value();return func.apply(isArray(value)?value:[],args)}return this[chainName]((function(value){return func.apply(isArray(value)?value:[],args)}))}})),baseForOwn(LazyWrapper.prototype,(function(func,methodName){var lodashFunc=lodash[methodName];if(lodashFunc){var key=lodashFunc.name+"";hasOwnProperty.call(realNames,key)||(realNames[key]=[]),realNames[key].push({name:methodName,func:lodashFunc})}})),realNames[createHybrid(undefined,2).name]=[{name:"wrapper",func:undefined}],LazyWrapper.prototype.clone=function lazyClone(){var result=new LazyWrapper(this.__wrapped__);return result.__actions__=copyArray(this.__actions__),result.__dir__=this.__dir__,result.__filtered__=this.__filtered__,result.__iteratees__=copyArray(this.__iteratees__),result.__takeCount__=this.__takeCount__,result.__views__=copyArray(this.__views__),result},LazyWrapper.prototype.reverse=function lazyReverse(){if(this.__filtered__){var result=new LazyWrapper(this);result.__dir__=-1,result.__filtered__=!0}else(result=this.clone()).__dir__*=-1;return result},LazyWrapper.prototype.value=function lazyValue(){var array=this.__wrapped__.value(),dir=this.__dir__,isArr=isArray(array),isRight=dir<0,arrLength=isArr?array.length:0,view=function getView(start,end,transforms){var index=-1,length=transforms.length;for(;++index<length;){var data=transforms[index],size=data.size;switch(data.type){case"drop":start+=size;break;case"dropRight":end-=size;break;case"take":end=nativeMin(end,start+size);break;case"takeRight":start=nativeMax(start,end-size)}}return{start,end}}(0,arrLength,this.__views__),start=view.start,end=view.end,length=end-start,index=isRight?end:start-1,iteratees=this.__iteratees__,iterLength=iteratees.length,resIndex=0,takeCount=nativeMin(length,this.__takeCount__);if(!isArr||!isRight&&arrLength==length&&takeCount==length)return baseWrapperValue(array,this.__actions__);var result=[];outer:for(;length--&&resIndex<takeCount;){for(var iterIndex=-1,value=array[index+=dir];++iterIndex<iterLength;){var data=iteratees[iterIndex],iteratee=data.iteratee,type=data.type,computed=iteratee(value);if(2==type)value=computed;else if(!computed){if(1==type)continue outer;break outer}}result[resIndex++]=value}return result},lodash.prototype.at=wrapperAt,lodash.prototype.chain=function wrapperChain(){return chain(this)},lodash.prototype.commit=function wrapperCommit(){return new LodashWrapper(this.value(),this.__chain__)},lodash.prototype.next=function wrapperNext(){undefined===this.__values__&&(this.__values__=toArray(this.value()));var done=this.__index__>=this.__values__.length;return{done,value:done?undefined:this.__values__[this.__index__++]}},lodash.prototype.plant=function wrapperPlant(value){for(var result,parent=this;parent instanceof baseLodash;){var clone=wrapperClone(parent);clone.__index__=0,clone.__values__=undefined,result?previous.__wrapped__=clone:result=clone;var previous=clone;parent=parent.__wrapped__}return previous.__wrapped__=value,result},lodash.prototype.reverse=function wrapperReverse(){var value=this.__wrapped__;if(value instanceof LazyWrapper){var wrapped=value;return this.__actions__.length&&(wrapped=new LazyWrapper(this)),(wrapped=wrapped.reverse()).__actions__.push({func:thru,args:[reverse],thisArg:undefined}),new LodashWrapper(wrapped,this.__chain__)}return this.thru(reverse)},lodash.prototype.toJSON=lodash.prototype.valueOf=lodash.prototype.value=function wrapperValue(){return baseWrapperValue(this.__wrapped__,this.__actions__)},lodash.prototype.first=lodash.prototype.head,symIterator&&(lodash.prototype[symIterator]=function wrapperToIterator(){return this}),lodash}();root._=_,undefined===(__WEBPACK_AMD_DEFINE_RESULT__=function(){return _}.call(exports,__webpack_require__,exports,module))||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)}.call(this)}}]);