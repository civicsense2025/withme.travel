"use strict";(self.webpackChunkwithme_travel=self.webpackChunkwithme_travel||[]).push([[5536],{"./components/destination-card.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{L:()=>DestinationCard});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),next_image=(__webpack_require__("./node_modules/next/link.js"),__webpack_require__("./node_modules/@storybook/nextjs/dist/images/next-image.mjs")),navigation=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs"),camera=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/camera.js"),external_link=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/external-link.js"),info=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/info.js"),proxy=__webpack_require__("./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs"),console=__webpack_require__("./node_modules/console-browserify/index.js");var ui_button=__webpack_require__("./components/ui/button.tsx"),utils=__webpack_require__("./lib/utils.ts"),bookmark_check=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/bookmark-check.js"),bookmark=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/bookmark.js"),use_toast=__webpack_require__("./components/ui/use-toast.ts");function LikeButton({itemId,itemType,initialLiked=!1,variant="ghost",size="sm",iconOnly=!1,glass=!1,className,onLikeChange,showCount=!1,count=0,onClick}){const{isLiked,isLoading,error,toggleLike,isAuthenticated}=function useLikes({itemId,itemType,initialLiked=!1}){const[isLiked,setIsLiked]=(0,react.useState)(initialLiked),[isLoading,setIsLoading]=(0,react.useState)(!1),[error,setError]=(0,react.useState)(null),[isAuthenticated,setIsAuthenticated]=(0,react.useState)(!1),[supabase,setSupabase]=(0,react.useState)(null);(0,react.useEffect)((()=>{Promise.all([__webpack_require__.e(8242),__webpack_require__.e(2402)]).then(__webpack_require__.bind(__webpack_require__,"./utils/supabase/browser-client.ts")).then((({getBrowserClient})=>{setSupabase(getBrowserClient())}))}),[]),(0,react.useEffect)((()=>{supabase&&async function checkAuth(){if(supabase)try{const{data}=await supabase.auth.getUser();setIsAuthenticated(!!data.user)}catch(err){console.error("Error checking auth status:",err),setIsAuthenticated(!1)}}()}),[supabase]),(0,react.useEffect)((()=>{isAuthenticated&&itemId&&(async()=>{try{setIsLoading(!0);const response=await fetch(`/api/likes?itemType=${itemType}&itemId=${itemId}`),data=await response.json();if(response.ok&&Array.isArray(data.data)){const isItemLiked=data.data.some((like=>like.item_id===itemId&&like.item_type===itemType));setIsLiked(isItemLiked)}}catch(err){console.error("Error checking like status:",err),setError("Failed to check if item is liked")}finally{setIsLoading(!1)}})()}),[itemId,itemType,isAuthenticated]);const toggleLike=(0,react.useCallback)((async()=>{if(isAuthenticated)if(itemId)try{if(setIsLoading(!0),isLiked){if(!(await fetch(`/api/likes?itemId=${itemId}&itemType=${itemType}`,{method:"DELETE"})).ok)throw new Error("Failed to remove from saved items")}else if(!(await fetch("/api/likes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({itemId,itemType})})).ok)throw new Error("Failed to save item");setIsLiked(!isLiked),setError(null)}catch(err){console.error("Error toggling like:",err),setError(err.message||"Failed to update saved status")}finally{setIsLoading(!1)}else setError("No item specified");else setError("You must be signed in to save items")}),[itemId,itemType,isLiked,isAuthenticated]);return{isLiked,isLoading,error,toggleLike,isAuthenticated}}({itemId,itemType,initialLiked}),{toast}=(0,use_toast.dj)(),iconSizes={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"},glassClasses=glass?"backdrop-blur-sm bg-white/10 dark:bg-black/10":"";return(0,jsx_runtime.jsx)(ui_button.$,{variant,size:iconOnly?"icon":"default",disabled:isLoading,onClick:async()=>{if(isAuthenticated)try{await toggleLike(),onLikeChange&&onLikeChange(!isLiked),onClick&&onClick(!isLiked),toast({title:isLiked?"Removed from saved items":"Saved to your collection",variant:"default"})}catch(err){error&&toast({title:"Error",description:error,variant:"destructive"})}else toast({title:"Sign in required",description:"Please sign in to save items to your collection.",variant:"destructive"})},"aria-label":isLiked?"Remove from saved items":"Save to collection","aria-pressed":isLiked,className:(0,utils.cn)("group transition-all duration-300",iconOnly&&{sm:"h-8 w-8",md:"h-9 w-9",lg:"h-10 w-10"}[size],glassClasses,className),children:(0,jsx_runtime.jsx)(proxy.P.div,{initial:{scale:1},whileTap:{scale:.9},transition:{duration:.2},className:"flex items-center",children:isLiked?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(bookmark_check.A,{className:(0,utils.cn)(iconSizes[size],"fill-travel-purple text-travel-purple group-hover:text-travel-purple/80 transition-colors duration-300",!iconOnly&&"mr-2")}),!iconOnly&&(0,jsx_runtime.jsxs)("span",{className:"whitespace-nowrap font-medium text-travel-purple group-hover:text-travel-purple/80 transition-colors duration-300",children:["Saved ",showCount&&count>0&&`(${count})`]})]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(bookmark.A,{className:(0,utils.cn)(iconSizes[size],"group-hover:fill-travel-purple/50 group-hover:text-travel-purple transition-all duration-300",!iconOnly&&"mr-2")}),!iconOnly&&(0,jsx_runtime.jsxs)("span",{className:"whitespace-nowrap group-hover:text-travel-purple transition-colors duration-300",children:["Save ",showCount&&count>0&&`(${count})`]})]})})})}LikeButton.__docgenInfo={description:"",methods:[],displayName:"LikeButton",props:{itemId:{required:!0,tsType:{name:"string"},description:""},itemType:{required:!0,tsType:{name:"union",raw:"| 'destination'\n| 'itinerary'\n| 'trip'\n| 'template'\n| 'attraction'\n| 'place'\n| 'guide'\n| 'collection'",elements:[{name:"literal",value:"'destination'"},{name:"literal",value:"'itinerary'"},{name:"literal",value:"'trip'"},{name:"literal",value:"'template'"},{name:"literal",value:"'attraction'"},{name:"literal",value:"'place'"},{name:"literal",value:"'guide'"},{name:"literal",value:"'collection'"}]},description:""},initialLiked:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},variant:{required:!1,tsType:{name:"union",raw:"'default' | 'outline' | 'ghost' | 'secondary' | 'destructive'",elements:[{name:"literal",value:"'default'"},{name:"literal",value:"'outline'"},{name:"literal",value:"'ghost'"},{name:"literal",value:"'secondary'"},{name:"literal",value:"'destructive'"}]},description:"",defaultValue:{value:"'ghost'",computed:!1}},size:{required:!1,tsType:{name:"union",raw:"'sm' | 'md' | 'lg'",elements:[{name:"literal",value:"'sm'"},{name:"literal",value:"'md'"},{name:"literal",value:"'lg'"}]},description:"",defaultValue:{value:"'sm'",computed:!1}},iconOnly:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},className:{required:!1,tsType:{name:"string"},description:""},glass:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onLikeChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(isLiked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isLiked"}],return:{name:"void"}}},description:""},showCount:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},count:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0",computed:!1}},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"(isLiked: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"isLiked"}],return:{name:"void"}}},description:""}}};var tooltip=__webpack_require__("./components/ui/tooltip.tsx"),components_images=__webpack_require__("./components/images/index.ts"),popover=__webpack_require__("./components/ui/popover.tsx"),destination_card_console=__webpack_require__("./node_modules/console-browserify/index.js");const TextureOverlay=()=>(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 opacity-20 mix-blend-soft-light pointer-events-none",children:(0,jsx_runtime.jsxs)("svg",{width:"100%",height:"100%",viewBox:"0 0 200 200",xmlns:"http://www.w3.org/2000/svg",children:[(0,jsx_runtime.jsxs)("filter",{id:"noise",children:[(0,jsx_runtime.jsx)("feTurbulence",{type:"fractalNoise",baseFrequency:"0.65",numOctaves:"3",stitchTiles:"stitch"}),(0,jsx_runtime.jsx)("feColorMatrix",{type:"saturate",values:"0"})]}),(0,jsx_runtime.jsx)("rect",{width:"100%",height:"100%",filter:"url(#noise)"})]})});function DestinationCard({destination,href,className="",hideAttributionMobile=!1,disableNavigation=!1,onClick,variant="link"}){var _destination_image_metadata,_destination_image_metadata1,_destination_image_metadata2,_destination_image_metadata3;const[isHovered,setIsHovered]=(0,react.useState)(!1),{city,country,image_url,emoji,name}=((0,navigation.useRouter)(),destination),displayName=name||city||"",displayLocation=country||"",citySlug=displayName?displayName.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,""):null,imageUrl=(disableNavigation||(href||(citySlug||destination.id)),image_url&&""!==image_url.trim()?image_url.startsWith("http")||image_url.startsWith("https")||image_url.startsWith("/")?image_url:`/destinations/${image_url}`:(displayName.toLowerCase().includes("null"),"/images/placeholder-destination.jpg")),altText=(null===(_destination_image_metadata=destination.image_metadata)||void 0===_destination_image_metadata?void 0:_destination_image_metadata.alt_text)||`${displayName}${displayLocation?`, ${displayLocation}`:""}`,hasImageMetadata=destination.image_metadata&&(destination.image_metadata.photographer_name||destination.image_metadata.source||destination.image_metadata.attribution);return(0,jsx_runtime.jsxs)("div",{className:(0,utils.cn)("relative aspect-[3/4] sm:aspect-[4/5] w-full overflow-hidden group rounded-md",className),onMouseEnter:()=>setIsHovered(!0),onMouseLeave:()=>setIsHovered(!1),tabIndex:0,role:"button","aria-label":destination.name,onClick:disableNavigation?onClick:void 0,style:{cursor:disableNavigation?"pointer":void 0},children:[(0,jsx_runtime.jsxs)(proxy.P.div,{animate:{scale:isHovered?1.05:1},transition:{duration:.7,ease:[.22,1,.36,1]},className:"absolute inset-0 h-full w-full will-change-transform",children:[(0,jsx_runtime.jsx)(next_image.A,{src:imageUrl,alt:altText,fill:!0,sizes:"(max-width: 640px) 100vw, (max-width: 768px) 50vw, (max-width: 1200px) 33vw, 25vw",className:"object-cover transition-opacity duration-300",loading:"lazy",onError:e=>{destination_card_console.log(`Image load error for ${imageUrl}`);const imgElement=e.target;imageUrl.includes("placeholder-destination.jpg")?imageUrl.startsWith("/images/")?imgElement.src="/destinations/placeholder-destination.jpg":imgElement.src="data:image/svg+xml;charset=utf-8,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 viewBox%3D%220 0 400 300%22%3E%3Crect fill%3D%22%23f2f2f2%22 width%3D%22400%22 height%3D%22300%22%2F%3E%3Ctext fill%3D%22%23999%22 font-family%3D%22sans-serif%22 font-size%3D%2220%22 text-anchor%3D%22middle%22 x%3D%22200%22 y%3D%22150%22%3EImage not available%3C%2Ftext%3E%3C%2Fsvg%3E":imgElement.src="/images/placeholder-destination.jpg"}}),(0,jsx_runtime.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black/70 via-black/30 to-transparent"}),(0,jsx_runtime.jsx)(TextureOverlay,{})]}),(0,jsx_runtime.jsx)("div",{className:"absolute top-2 right-2 z-20",children:(0,jsx_runtime.jsx)(LikeButton,{itemId:destination.id,itemType:"destination",size:"sm",iconOnly:!0,className:"h-8 w-8 bg-white/20 backdrop-blur-md rounded-full transition-transform duration-300 hover:scale-110"})}),hasImageMetadata&&(0,jsx_runtime.jsx)("div",{className:"absolute bottom-2 right-2 z-20",children:(0,jsx_runtime.jsxs)(popover.AM,{children:[(0,jsx_runtime.jsx)(popover.Wv,{asChild:!0,children:(0,jsx_runtime.jsx)(proxy.P.button,{className:"h-8 w-8 bg-white/20 backdrop-blur-md text-white rounded-full flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.95},transition:{duration:.2},"aria-label":"Image information",onClick:e=>e.stopPropagation(),children:(0,jsx_runtime.jsx)(camera.A,{className:"h-4 w-4"})})}),(0,jsx_runtime.jsx)(popover.hl,{className:"w-72 p-3 bg-background/95 backdrop-blur-md border-border text-sm",side:"top",children:(0,jsx_runtime.jsxs)("div",{className:"space-y-2",children:[(0,jsx_runtime.jsxs)("h4",{className:"font-semibold flex items-center gap-1.5",children:[(0,jsx_runtime.jsx)(camera.A,{className:"h-4 w-4"}),"Image Information"]}),(null===(_destination_image_metadata1=destination.image_metadata)||void 0===_destination_image_metadata1?void 0:_destination_image_metadata1.photographer_name)&&(0,jsx_runtime.jsxs)("div",{className:"text-xs",children:[(0,jsx_runtime.jsx)("span",{className:"text-muted-foreground",children:"Photographer:"})," ",destination.image_metadata.photographer_url?(0,jsx_runtime.jsxs)("a",{href:destination.image_metadata.photographer_url,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-travel-purple hover:underline inline-flex items-center",onClick:e=>e.stopPropagation(),children:[destination.image_metadata.photographer_name,(0,jsx_runtime.jsx)(external_link.A,{className:"h-3 w-3 ml-1"})]}):(0,jsx_runtime.jsx)("span",{children:destination.image_metadata.photographer_name})]}),(null===(_destination_image_metadata2=destination.image_metadata)||void 0===_destination_image_metadata2?void 0:_destination_image_metadata2.source)&&(0,jsx_runtime.jsxs)("div",{className:"text-xs",children:[(0,jsx_runtime.jsx)("span",{className:"text-muted-foreground",children:"Source:"})," ",(0,jsx_runtime.jsx)("span",{className:"font-medium",children:destination.image_metadata.source})]}),(null===(_destination_image_metadata3=destination.image_metadata)||void 0===_destination_image_metadata3?void 0:_destination_image_metadata3.attribution)&&(0,jsx_runtime.jsx)("div",{className:"text-xs",children:(0,jsx_runtime.jsx)(components_images.t,{image:{alt_text:destination.image_metadata.alt_text,attribution_html:destination.image_metadata.attributionHtml,photographer:destination.image_metadata.photographer_name,photographer_url:destination.image_metadata.photographer_url,source:destination.image_metadata.source,external_id:destination.image_metadata.source_id,url:destination.image_metadata.url},variant:"badges"})})]})})]})}),destination.description&&(0,jsx_runtime.jsx)("div",{className:"absolute bottom-2 left-2 z-20",children:(0,jsx_runtime.jsx)(tooltip.Bc,{children:(0,jsx_runtime.jsxs)(tooltip.m_,{children:[(0,jsx_runtime.jsx)(tooltip.k$,{asChild:!0,children:(0,jsx_runtime.jsx)(proxy.P.button,{className:"h-7 w-7 bg-white/20 backdrop-blur-md text-white rounded-full flex items-center justify-center",whileHover:{scale:1.1},whileTap:{scale:.95},transition:{duration:.2},"aria-label":"Show destination info",onClick:e=>e.stopPropagation(),children:(0,jsx_runtime.jsx)(info.A,{className:"h-4 w-4"})})}),(0,jsx_runtime.jsx)(tooltip.ZI,{side:"top",className:"max-w-[250px] text-sm",children:destination.description})]})})}),(0,jsx_runtime.jsxs)(proxy.P.div,{className:"absolute inset-x-0 bottom-0 p-4 z-10",initial:{opacity:.9,y:0},animate:{opacity:isHovered?1:.9,y:isHovered?-5:0},transition:{duration:.3},children:[(0,jsx_runtime.jsxs)("h3",{className:"text-white text-xl font-medium leading-tight drop-shadow-md",children:[displayName,emoji&&(0,jsx_runtime.jsx)("span",{className:"ml-2",children:emoji})]}),displayLocation&&(0,jsx_runtime.jsx)("p",{className:"text-white/90 text-sm mt-1 drop-shadow-md",children:displayLocation})]})]})}DestinationCard.__docgenInfo={description:"",methods:[],displayName:"DestinationCard",props:{destination:{required:!0,tsType:{name:"signature",type:"object",raw:"{\n  id: string;\n  city: string | null;\n  country: string | null;\n  continent: string;\n  description: string | null;\n  byline?: string | null;\n  highlights?: string[] | string | null;\n  image_url?: string | null;\n  emoji?: string | null;\n  image_metadata?: {\n    alt_text?: string;\n    attribution?: string;\n    attributionHtml?: string;\n    photographer_name?: string;\n    photographer_url?: string;\n    source?: string;\n    source_id?: string;\n    url?: string;\n  };\n  cuisine_rating: number;\n  nightlife_rating: number;\n  cultural_attractions: number;\n  outdoor_activities: number;\n  beach_quality: number;\n  best_season?: string;\n  avg_cost_per_day?: number;\n  safety_rating?: number;\n  name?: string;\n}",signature:{properties:[{key:"id",value:{name:"string",required:!0}},{key:"city",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"country",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"continent",value:{name:"string",required:!0}},{key:"description",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!0}},{key:"byline",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"highlights",value:{name:"union",raw:"string[] | string | null",elements:[{name:"Array",elements:[{name:"string"}],raw:"string[]"},{name:"string"},{name:"null"}],required:!1}},{key:"image_url",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"emoji",value:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}],required:!1}},{key:"image_metadata",value:{name:"signature",type:"object",raw:"{\n  alt_text?: string;\n  attribution?: string;\n  attributionHtml?: string;\n  photographer_name?: string;\n  photographer_url?: string;\n  source?: string;\n  source_id?: string;\n  url?: string;\n}",signature:{properties:[{key:"alt_text",value:{name:"string",required:!1}},{key:"attribution",value:{name:"string",required:!1}},{key:"attributionHtml",value:{name:"string",required:!1}},{key:"photographer_name",value:{name:"string",required:!1}},{key:"photographer_url",value:{name:"string",required:!1}},{key:"source",value:{name:"string",required:!1}},{key:"source_id",value:{name:"string",required:!1}},{key:"url",value:{name:"string",required:!1}}]},required:!1}},{key:"cuisine_rating",value:{name:"number",required:!0}},{key:"nightlife_rating",value:{name:"number",required:!0}},{key:"cultural_attractions",value:{name:"number",required:!0}},{key:"outdoor_activities",value:{name:"number",required:!0}},{key:"beach_quality",value:{name:"number",required:!0}},{key:"best_season",value:{name:"string",required:!1}},{key:"avg_cost_per_day",value:{name:"number",required:!1}},{key:"safety_rating",value:{name:"number",required:!1}},{key:"name",value:{name:"string",required:!1}}]}},description:""},href:{required:!1,tsType:{name:"string"},description:""},className:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"''",computed:!1}},hideAttributionMobile:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},disableNavigation:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},onClick:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},variant:{required:!1,tsType:{name:"union",raw:"'link' | 'selectable'",elements:[{name:"literal",value:"'link'"},{name:"literal",value:"'selectable'"}]},description:"",defaultValue:{value:"'link'",computed:!1}}}}},"./components/ui/popover.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{AM:()=>Popover,Wv:()=>PopoverTrigger,hl:()=>PopoverContent});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@radix-ui/react-popover/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/utils.ts");const Popover=_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_3__.bL,PopoverTrigger=_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_3__.l9,PopoverContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,align="center",sideOffset=4,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_3__.ZL,{children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_3__.UC,{ref,align,sideOffset,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",className),...props})})));PopoverContent.displayName=_radix_ui_react_popover__WEBPACK_IMPORTED_MODULE_3__.UC.displayName,PopoverContent.__docgenInfo={description:"",methods:[],props:{align:{defaultValue:{value:"'center'",computed:!1},required:!1},sideOffset:{defaultValue:{value:"4",computed:!1},required:!1}}}},"./components/ui/use-toast.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{dj:()=>useToast,oR:()=>toast});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");let count=0;const toastTimeouts=new Map,addToRemoveQueue=toastId=>{if(toastTimeouts.has(toastId))return;const timeout=setTimeout((()=>{toastTimeouts.delete(toastId),dispatch({type:"REMOVE_TOAST",toastId})}),1e6);toastTimeouts.set(toastId,timeout)},reducer=(state,action)=>{switch(action.type){case"ADD_TOAST":return{...state,toasts:[action.toast,...state.toasts].slice(0,1)};case"UPDATE_TOAST":return{...state,toasts:state.toasts.map((t=>t.id===action.toast.id?{...t,...action.toast}:t))};case"DISMISS_TOAST":{const{toastId}=action;return toastId?addToRemoveQueue(toastId):state.toasts.forEach((toast=>addToRemoveQueue(toast.id))),{...state,toasts:state.toasts.map((t=>t.id===toastId||void 0===toastId?{...t,open:!1}:t))}}case"REMOVE_TOAST":return void 0===action.toastId?{...state,toasts:[]}:{...state,toasts:state.toasts.filter((t=>t.id!==action.toastId))}}},listeners=[];let memoryState={toasts:[]};function dispatch(action){memoryState=reducer(memoryState,action),listeners.forEach((listener=>listener(memoryState)))}function toast({...props}){const id=function genId(){return count=(count+1)%Number.MAX_SAFE_INTEGER,count.toString()}(),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:id});return dispatch({type:"ADD_TOAST",toast:{...props,id,open:!0,onOpenChange:open=>{open||dismiss()}}}),{id,dismiss,update:props=>dispatch({type:"UPDATE_TOAST",toast:{...props,id}})}}function useToast(){const[state,setState]=react__WEBPACK_IMPORTED_MODULE_0__.useState(memoryState);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>(listeners.push(setState),()=>{const index=listeners.indexOf(setState);index>-1&&listeners.splice(index,1)})),[state]),{...state,toast,dismiss:toastId=>dispatch({type:"DISMISS_TOAST",toastId})}}}}]);