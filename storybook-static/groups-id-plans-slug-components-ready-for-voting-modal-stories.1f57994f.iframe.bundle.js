"use strict";(self.webpackChunkwithme_travel=self.webpackChunkwithme_travel||[]).push([[2402,7291],{"./app/groups/[id]/plans/[slug]/components/ready-for-voting-modal.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>ready_for_voting_modal_stories});var jsx_runtime=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),navigation=__webpack_require__("./node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs"),dialog=__webpack_require__("./components/ui/dialog.tsx"),ui_button=__webpack_require__("./components/ui/button.tsx"),avatar=__webpack_require__("./components/ui/avatar.tsx"),vote=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/vote.js"),circle_check=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/circle-check.js"),arrow_right=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/arrow-right.js"),browser_client=__webpack_require__("./utils/supabase/browser-client.ts"),use_toast=__webpack_require__("./components/ui/use-toast.ts"),auth_provider=__webpack_require__("./components/auth-provider.tsx"),ideas_presence_context=__webpack_require__("./app/groups/[id]/plans/[slug]/context/ideas-presence-context.tsx"),proxy=__webpack_require__("./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs"),AnimatePresence=__webpack_require__("./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs"),console=__webpack_require__("./node_modules/console-browserify/index.js");function ReadyForVotingModal({onClose,groupId,planSlug}){var _user_user_metadata,_user_email;const router=(0,navigation.useRouter)(),{toast}=(0,use_toast.dj)(),{user}=(0,auth_provider.As)(),{activeUsers}=(0,ideas_presence_context.SI)(),[isReady,setIsReady]=(0,react.useState)(!1),[isSubmitting,setIsSubmitting]=(0,react.useState)(!1),[readyUsers,setReadyUsers]=(0,react.useState)({[(null==user?void 0:user.id)||"current-user"]:!1}),getTotalMembers=()=>activeUsers.length||1,getReadyCount=()=>Object.values(readyUsers).filter((ready=>ready)).length,getReadyPercentage=()=>{const total=getTotalMembers(),ready=getReadyCount();return total>0?Math.round(ready/total*100):0};return(0,jsx_runtime.jsx)(dialog.lG,{open:!0,onOpenChange:onClose,children:(0,jsx_runtime.jsxs)(dialog.Cf,{className:"sm:max-w-md p-0 overflow-hidden",children:[(0,jsx_runtime.jsx)("div",{className:"absolute top-0 left-0 w-full h-1.5",children:(0,jsx_runtime.jsx)(proxy.P.div,{className:"h-full bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500",initial:{width:0},animate:{width:`${getReadyPercentage()}%`},transition:{duration:.5,ease:"easeInOut"}})}),(0,jsx_runtime.jsx)("div",{className:"px-6 pt-6",children:(0,jsx_runtime.jsxs)(dialog.c7,{children:[(0,jsx_runtime.jsxs)(dialog.L3,{className:"text-xl flex items-center gap-2",children:[(0,jsx_runtime.jsx)(vote.A,{className:"h-5 w-5 text-purple-500"}),"Ready to vote on ideas?"]}),(0,jsx_runtime.jsx)(dialog.rr,{children:"When everyone is ready, you'll move to the voting phase to decide which ideas to include in your trip."})]})}),(0,jsx_runtime.jsxs)("div",{className:"p-6",children:[(0,jsx_runtime.jsxs)("div",{className:"flex flex-col items-center justify-center mb-6",children:[(0,jsx_runtime.jsx)(proxy.P.div,{className:"w-full h-3 bg-gray-100 rounded-full overflow-hidden mb-2",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},children:(0,jsx_runtime.jsx)(proxy.P.div,{className:"h-full bg-gradient-to-r from-blue-500 to-purple-600",style:{width:`${getReadyPercentage()}%`},initial:{width:"0%"},animate:{width:`${getReadyPercentage()}%`},transition:{duration:.8,ease:"easeOut"}})}),(0,jsx_runtime.jsxs)(proxy.P.p,{className:"text-sm font-medium",initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[(0,jsx_runtime.jsx)("span",{className:"text-lg font-bold text-purple-600",children:getReadyCount()})," of"," ",(0,jsx_runtime.jsx)("span",{className:"text-lg font-bold text-gray-700",children:getTotalMembers()})," people are ready"]})]}),(0,jsx_runtime.jsxs)(proxy.P.div,{className:"flex flex-wrap justify-center gap-4 mb-8",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},children:[(0,jsx_runtime.jsxs)(proxy.P.div,{className:"flex flex-col items-center",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400,damping:10},children:[(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsxs)(avatar.eu,{className:"h-16 w-16 border-2 border-white shadow-md",children:[(0,jsx_runtime.jsx)(avatar.BK,{src:null==user||null===(_user_user_metadata=user.user_metadata)||void 0===_user_user_metadata?void 0:_user_user_metadata.avatar_url}),(0,jsx_runtime.jsx)(avatar.q5,{className:"bg-gradient-to-br from-purple-400 to-purple-600 text-white text-lg font-bold",children:(null==user||null===(_user_email=user.email)||void 0===_user_email?void 0:_user_email.charAt(0).toUpperCase())||"Y"})]}),(0,jsx_runtime.jsx)(AnimatePresence.N,{children:readyUsers[(null==user?void 0:user.id)||"current-user"]&&(0,jsx_runtime.jsx)(proxy.P.div,{className:"absolute -bottom-2 -right-2 bg-white rounded-full p-0.5 shadow-md",initial:{scale:0},animate:{scale:1},exit:{scale:0},transition:{type:"spring",stiffness:500,damping:15},children:(0,jsx_runtime.jsx)(circle_check.A,{className:"h-6 w-6 text-green-500"})})})]}),(0,jsx_runtime.jsx)("span",{className:"text-sm font-medium mt-2",children:"You"})]}),activeUsers.filter((u=>u.id!==(null==user?void 0:user.id))).map(((userData,index)=>{var _userData_name;const isUserReady=Math.random()>.5;return(0,jsx_runtime.jsxs)(proxy.P.div,{className:"flex flex-col items-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4+.1*index},whileHover:{scale:1.05},children:[(0,jsx_runtime.jsxs)("div",{className:"relative",children:[(0,jsx_runtime.jsxs)(avatar.eu,{className:"h-16 w-16 border-2 border-white shadow-md",children:[(0,jsx_runtime.jsx)(avatar.BK,{src:userData.avatar_url}),(0,jsx_runtime.jsx)(avatar.q5,{className:"bg-gradient-to-br from-blue-400 to-blue-600 text-white text-lg font-bold",children:(null===(_userData_name=userData.name)||void 0===_userData_name?void 0:_userData_name.charAt(0).toUpperCase())||"U"})]}),isUserReady&&(0,jsx_runtime.jsx)(proxy.P.div,{className:"absolute -bottom-2 -right-2 bg-white rounded-full p-0.5 shadow-md",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:500,damping:15,delay:.6+.1*index},children:(0,jsx_runtime.jsx)(circle_check.A,{className:"h-6 w-6 text-green-500"})})]}),(0,jsx_runtime.jsx)("span",{className:"text-sm font-medium mt-2",children:userData.name})]},userData.id)}))]}),(0,jsx_runtime.jsx)(proxy.P.div,{className:"flex justify-center",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.6},children:(0,jsx_runtime.jsx)(ui_button.$,{variant:isReady?"outline":"default",size:"lg",className:isReady?"gap-2 border-2 border-green-500 text-green-700 hover:bg-green-50 transition-all duration-300":"gap-2 bg-gradient-to-r from-blue-500 to-purple-600 text-white hover:from-blue-600 hover:to-purple-700 transition-all duration-300",onClick:async()=>{setIsReady(!isReady),setReadyUsers((prev=>({...prev,[(null==user?void 0:user.id)||"current-user"]:!isReady})))},children:isReady?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(circle_check.A,{className:"h-5 w-5"}),"I'm ready"]}):"I'm ready to vote"})})]}),(0,jsx_runtime.jsxs)("div",{className:"border-t p-4 flex justify-between items-center bg-gray-50",children:[(0,jsx_runtime.jsx)(ui_button.$,{variant:"ghost",onClick:onClose,className:"text-gray-500 hover:text-gray-700",children:"Cancel"}),(0,jsx_runtime.jsx)(ui_button.$,{disabled:isSubmitting||!isReady,onClick:async()=>{setIsSubmitting(!0);try{const supabase=(0,browser_client.getBrowserClient)(),{error}=await supabase.from("groups").update({}).eq("id",groupId);if(error)throw error;toast({title:"Success!",description:"Moving to voting phase"}),router.push(`/groups/${groupId}/plans/${planSlug}/vote`)}catch(error){console.error("Error transitioning to voting phase:",error),toast({title:"Error",description:"Failed to transition to voting phase. Please try again.",variant:"destructive"})}finally{setIsSubmitting(!1),onClose()}},className:"gap-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:isSubmitting?"Processing...":(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:["Move to Voting",(0,jsx_runtime.jsx)(arrow_right.A,{className:"h-4 w-4"})]})})]})]})})}ReadyForVotingModal.__docgenInfo={description:"",methods:[],displayName:"ReadyForVotingModal",props:{onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},groupId:{required:!0,tsType:{name:"string"},description:""},planSlug:{required:!0,tsType:{name:"string"},description:""}}};const ready_for_voting_modal_stories={title:"Features/Trip/ReadyForVotingModal",component:ReadyForVotingModal,parameters:{layout:"centered",docs:{description:{component:"ReadyForVotingModal is the dialog shown before moving to the voting phase. This component requires auth and presence context to be fully interactive."}}},tags:["autodocs"],argTypes:{onClose:{action:"onClose",description:"Close handler"},groupId:{control:"text",description:"Group ID"},planSlug:{control:"text",description:"Plan Slug"}}},Default={args:{onClose:()=>{},groupId:"group-123",planSlug:"summer-2024"}},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  args: {\n    onClose: () => {},\n    groupId: 'group-123',\n    planSlug: 'summer-2024'\n  }\n}",...Default.parameters?.docs?.source}}}},"./app/groups/[id]/plans/[slug]/context/ideas-presence-context.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{HR:()=>useIdeasPresence,SI:()=>useIdeasPresenceContext,jz:()=>IdeasPresenceContext});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_utils_supabase_browser_client__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./utils/supabase/browser-client.ts"),_components_auth_provider__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./components/auth-provider.tsx"),console=__webpack_require__("./node_modules/console-browserify/index.js");const defaultContext={activeUsers:[],isLoading:!1,error:null,startEditingIdea:()=>{},stopEditingIdea:()=>{},isEditingIdea:!1,currentEditingIdeaId:null},IdeasPresenceContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(defaultContext);function useIdeasPresenceContext(){return(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(IdeasPresenceContext)}function useIdeasPresence(groupId){const[activeUsers,setActiveUsers]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([]),[isLoading,setIsLoading]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[error,setError]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),[isEditingIdea,setIsEditingIdea]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),[currentEditingIdeaId,setCurrentEditingIdeaId]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null),{user}=(0,_components_auth_provider__WEBPACK_IMPORTED_MODULE_2__.As)(),channelRef=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(null),[supabase,setSupabase]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(null);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{console.log("[ideas-presence] Running in browser environment:",true);try{console.log("[ideas-presence] Initializing Supabase client");const client=(0,_utils_supabase_browser_client__WEBPACK_IMPORTED_MODULE_1__.getBrowserClient)();setSupabase(client)}catch(err){console.error("[ideas-presence] Failed to initialize Supabase client:",err),setError(err instanceof Error?err:new Error("Failed to initialize Supabase client"))}}),[true]);(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{if(groupId&&supabase){console.log("[ideas-presence] Setting up presence channel for group:",groupId),setIsLoading(!0);try{const channel=supabase.channel(`ideas-presence-${groupId}`,{config:{presence:{key:(null==user?void 0:user.id)||`guest-${Math.random().toString(36).substring(2,10)}`}}});return channelRef.current=channel,channel.on("presence",{event:"sync"},(()=>{const state=channel.presenceState();console.log("[ideas-presence] Presence state synced:",state);const users=Object.values(state).flatMap((presences=>presences.map((presence=>({id:presence.user_id||"guest",name:presence.name||"Anonymous",avatar_url:presence.avatar_url,status:presence.status||"online",editing_idea_id:presence.editing_idea_id,lastSeen:new Date(presence.last_active||Date.now()),cursor:presence.cursor||null})))));console.log("[ideas-presence] Active users:",users),setActiveUsers(users)})).on("presence",{event:"join"},(({key,newPresences})=>{console.log("[ideas-presence] User joined:",key,newPresences)})).on("presence",{event:"leave"},(({key,leftPresences})=>{console.log("[ideas-presence] User left:",key,leftPresences)})),channel.subscribe((async status=>{console.log("[ideas-presence] Channel subscription status:",status),"SUBSCRIBED"===status&&(setIsLoading(!1),console.log("[ideas-presence] Presence tracking started"))})),()=>{console.log("[ideas-presence] Cleaning up presence channel"),channel.unsubscribe()}}catch(err){console.error("[ideas-presence] Error setting up presence channel:",err),setError(err instanceof Error?err:new Error("Failed to set up presence channel")),setIsLoading(!1)}}}),[groupId,user,supabase,true]),(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{var _user_profile,_user_profile1;if(!(null==user?void 0:user.id)||!supabase||!channelRef.current)return;const displayName=(null===(_user_profile=user.profile)||void 0===_user_profile?void 0:_user_profile.name)||user.email||"User",avatarUrl=(null===(_user_profile1=user.profile)||void 0===_user_profile1?void 0:_user_profile1.avatar_url)||void 0;console.log("[ideas-presence] Broadcasting presence with profile:",displayName),channelRef.current.track({user_id:user.id,name:displayName,avatar_url:avatarUrl,status:"online",last_active:(new Date).toISOString(),editing_idea_id:currentEditingIdeaId})}),[null==user?void 0:user.id,null==user?void 0:user.profile,supabase,currentEditingIdeaId]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{console.log("[ideas-presence] Setting up cursor tracking");const throttledHandleMouseMove=function throttle(func,limit){let inThrottle;return function(...args){inThrottle||(func.apply(this,args),inThrottle=!0,setTimeout((()=>inThrottle=!1),limit))}}((e=>{((x,y)=>{if(channelRef.current)try{channelRef.current.track({user_id:(null==user?void 0:user.id)||"guest",cursor:{x,y},last_active:(new Date).toISOString()})}catch(err){console.error("[ideas-presence] Failed to update cursor position:",err)}})(e.clientX,e.clientY)}),50);return window.addEventListener("mousemove",throttledHandleMouseMove),()=>{console.log("[ideas-presence] Cleaning up cursor tracking"),window.removeEventListener("mousemove",throttledHandleMouseMove)}}),[true,supabase]),{activeUsers,isLoading,error,startEditingIdea:ideaId=>{if(console.log("[ideas-presence] Start editing idea:",ideaId),setIsEditingIdea(!0),setCurrentEditingIdeaId(ideaId),channelRef.current)try{channelRef.current.track({user_id:(null==user?void 0:user.id)||"guest",editing_idea_id:ideaId,last_active:(new Date).toISOString()})}catch(err){console.error("[ideas-presence] Failed to broadcast editing status:",err)}},stopEditingIdea:()=>{if(console.log("[ideas-presence] Stop editing idea"),setIsEditingIdea(!1),setCurrentEditingIdeaId(null),channelRef.current)try{channelRef.current.track({user_id:(null==user?void 0:user.id)||"guest",editing_idea_id:null,last_active:(new Date).toISOString()})}catch(err){console.error("[ideas-presence] Failed to broadcast editing stopped:",err)}},isEditingIdea,currentEditingIdeaId}}},"./components/auth-provider.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{As:()=>useAuth});__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js");var react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");__webpack_require__("./node_modules/@supabase/ssr/dist/module/index.js"),__webpack_require__("./utils/constants/tables.ts"),__webpack_require__("./hooks/use-toast.ts"),__webpack_require__("./node_modules/console-browserify/index.js");const AuthContext=(0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({user:null,session:null,isLoading:!0,signIn:async()=>{},signOut:async()=>{},signUp:async()=>{},refreshSession:async()=>{},supabase:{}}),useAuth=()=>(0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext)},"./components/ui/avatar.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{BK:()=>AvatarImage,eu:()=>Avatar,q5:()=>AvatarFallback});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/@radix-ui/react-avatar/dist/index.mjs"),class_variance_authority__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/class-variance-authority/dist/index.mjs"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/utils.ts");const avatarVariants=(0,class_variance_authority__WEBPACK_IMPORTED_MODULE_3__.F)("relative flex shrink-0 overflow-hidden rounded-full",{variants:{size:{sm:"h-8 w-8",md:"h-10 w-10",lg:"h-14 w-14",xl:"h-20 w-20"},border:{none:"","travel-purple":"border-2 border-travel-purple","travel-blue":"border-2 border-travel-blue","travel-pink":"border-2 border-travel-pink","travel-yellow":"border-2 border-travel-yellow","travel-mint":"border-2 border-travel-mint","travel-peach":"border-2 border-travel-peach"}},defaultVariants:{size:"md",border:"none"}}),Avatar=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,size,border,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_4__.bL,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)(avatarVariants({size,border,className})),...props})));Avatar.displayName=_radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_4__.bL.displayName;const AvatarImage=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_4__._V,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("aspect-square h-full w-full",className),...props})));AvatarImage.displayName=_radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_4__._V.displayName;const AvatarFallback=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_4__.H4,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",className),...props})));AvatarFallback.displayName=_radix_ui_react_avatar__WEBPACK_IMPORTED_MODULE_4__.H4.displayName,Avatar.__docgenInfo={description:'Avatar component with design system variants.\n\n@example\n<Avatar size="lg" border="travel-purple">...</Avatar>',methods:[],composes:["VariantProps"]},AvatarImage.__docgenInfo={description:"",methods:[]},AvatarFallback.__docgenInfo={description:"",methods:[]}},"./components/ui/dialog.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Cf:()=>DialogContent,Es:()=>DialogFooter,L3:()=>DialogTitle,c7:()=>DialogHeader,lG:()=>Dialog,rr:()=>DialogDescription,zM:()=>DialogTrigger});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/jsx-runtime.js"),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js"),_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/@radix-ui/react-dialog/dist/index.mjs"),_barrel_optimize_names_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./node_modules/lucide-react/dist/esm/icons/x.js"),_lib_utils__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./lib/utils.ts");const Dialog=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.bL,DialogTrigger=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.l9,DialogPortal=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.ZL,DialogOverlay=(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.bm,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.hJ,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",className),...props}))));DialogOverlay.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.hJ.displayName;const DialogContent=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,children,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(DialogPortal,{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(DialogOverlay,{}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.UC,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border standard-border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg md:w-full","dark:bg-gradient-to-br dark:from-card dark:to-black/90 dark:border-border/20",className),"aria-modal":"true",role:"dialog",...props,children:[children,(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_barrel_optimize_names_X_lucide_react__WEBPACK_IMPORTED_MODULE_4__.A,{className:"h-4 w-4"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span",{className:"sr-only",children:"Close dialog"})]})]})]})));DialogContent.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.UC.displayName;const DialogHeader=({className,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex flex-col space-y-1.5 text-center sm:text-left",className),...props});DialogHeader.displayName="DialogHeader";const DialogFooter=({className,...props})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",className),...props});DialogFooter.displayName="DialogFooter";const DialogTitle=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.hE,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("text-lg font-semibold leading-none tracking-tight",className),...props})));DialogTitle.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.hE.displayName;const DialogDescription=react__WEBPACK_IMPORTED_MODULE_1__.forwardRef((({className,...props},ref)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.VY,{ref,className:(0,_lib_utils__WEBPACK_IMPORTED_MODULE_2__.cn)("text-sm text-muted-foreground",className),...props})));DialogDescription.displayName=_radix_ui_react_dialog__WEBPACK_IMPORTED_MODULE_3__.VY.displayName,DialogOverlay.__docgenInfo={description:"",methods:[]},DialogContent.__docgenInfo={description:'Content component for the Dialog.\nManages focus and keyboard navigation for accessibility.\n\n@example\n<Dialog>\n  <DialogTrigger>Open dialog</DialogTrigger>\n  <DialogContent>\n    <DialogHeader>\n      <DialogTitle>Dialog title</DialogTitle>\n      <DialogDescription>Dialog description with context for screen readers.</DialogDescription>\n    </DialogHeader>\n    <div>Dialog content goes here</div>\n    <DialogFooter>\n      <Button variant="outline" onClick={() => setOpen(false)}>Cancel</Button>\n      <Button onClick={handleAction}>Continue</Button>\n    </DialogFooter>\n  </DialogContent>\n</Dialog>',methods:[]},DialogHeader.__docgenInfo={description:"Header section for the dialog, typically containing the title and description.",methods:[],displayName:"DialogHeader"},DialogFooter.__docgenInfo={description:"Footer section for the dialog, typically containing action buttons.",methods:[],displayName:"DialogFooter"},DialogTitle.__docgenInfo={description:"Title component for the dialog.\nConnected to the DialogDescription for proper ARIA relationships.",methods:[]},DialogDescription.__docgenInfo={description:"Description component for the dialog.\nProvides contextual information for screen readers.",methods:[]}},"./components/ui/use-toast.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{dj:()=>useToast,oR:()=>toast});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");let count=0;const toastTimeouts=new Map,addToRemoveQueue=toastId=>{if(toastTimeouts.has(toastId))return;const timeout=setTimeout((()=>{toastTimeouts.delete(toastId),dispatch({type:"REMOVE_TOAST",toastId})}),1e6);toastTimeouts.set(toastId,timeout)},reducer=(state,action)=>{switch(action.type){case"ADD_TOAST":return{...state,toasts:[action.toast,...state.toasts].slice(0,1)};case"UPDATE_TOAST":return{...state,toasts:state.toasts.map((t=>t.id===action.toast.id?{...t,...action.toast}:t))};case"DISMISS_TOAST":{const{toastId}=action;return toastId?addToRemoveQueue(toastId):state.toasts.forEach((toast=>addToRemoveQueue(toast.id))),{...state,toasts:state.toasts.map((t=>t.id===toastId||void 0===toastId?{...t,open:!1}:t))}}case"REMOVE_TOAST":return void 0===action.toastId?{...state,toasts:[]}:{...state,toasts:state.toasts.filter((t=>t.id!==action.toastId))}}},listeners=[];let memoryState={toasts:[]};function dispatch(action){memoryState=reducer(memoryState,action),listeners.forEach((listener=>listener(memoryState)))}function toast({...props}){const id=function genId(){return count=(count+1)%Number.MAX_SAFE_INTEGER,count.toString()}(),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:id});return dispatch({type:"ADD_TOAST",toast:{...props,id,open:!0,onOpenChange:open=>{open||dismiss()}}}),{id,dismiss,update:props=>dispatch({type:"UPDATE_TOAST",toast:{...props,id}})}}function useToast(){const[state,setState]=react__WEBPACK_IMPORTED_MODULE_0__.useState(memoryState);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>(listeners.push(setState),()=>{const index=listeners.indexOf(setState);index>-1&&listeners.splice(index,1)})),[state]),{...state,toast,dismiss:toastId=>dispatch({type:"DISMISS_TOAST",toastId})}}},"./hooks/use-toast.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{dj:()=>useToast,oR:()=>toast});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/next/dist/compiled/react/index.js");let count=0;const toastTimeouts=new Map,addToRemoveQueue=toastId=>{if(toastTimeouts.has(toastId))return;const timeout=setTimeout((()=>{toastTimeouts.delete(toastId),dispatch({type:"REMOVE_TOAST",toastId})}),1e6);toastTimeouts.set(toastId,timeout)},reducer=(state,action)=>{switch(action.type){case"ADD_TOAST":return{...state,toasts:[action.toast,...state.toasts].slice(0,1)};case"UPDATE_TOAST":return{...state,toasts:state.toasts.map((t=>t.id===action.toast.id?{...t,...action.toast}:t))};case"DISMISS_TOAST":{const{toastId}=action;return toastId?addToRemoveQueue(toastId):state.toasts.forEach((toast=>addToRemoveQueue(toast.id))),{...state,toasts:state.toasts.map((t=>t.id===toastId||void 0===toastId?{...t,open:!1}:t))}}case"REMOVE_TOAST":return void 0===action.toastId?{...state,toasts:[]}:{...state,toasts:state.toasts.filter((t=>t.id!==action.toastId))}}},listeners=[];let memoryState={toasts:[]};function dispatch(action){memoryState=reducer(memoryState,action),listeners.forEach((listener=>listener(memoryState)))}function toast({...props}){const id=function genId(){return count=(count+1)%Number.MAX_SAFE_INTEGER,count.toString()}(),dismiss=()=>dispatch({type:"DISMISS_TOAST",toastId:id});return dispatch({type:"ADD_TOAST",toast:{...props,id,open:!0,onOpenChange:open=>{open||dismiss()}}}),{id,dismiss,update:props=>dispatch({type:"UPDATE_TOAST",toast:{...props,id}})}}function useToast(){const[state,setState]=react__WEBPACK_IMPORTED_MODULE_0__.useState(memoryState);return react__WEBPACK_IMPORTED_MODULE_0__.useEffect((()=>(listeners.push(setState),()=>{const index=listeners.indexOf(setState);index>-1&&listeners.splice(index,1)})),[state]),{...state,toast,dismiss:toastId=>dispatch({type:"DISMISS_TOAST",toastId})}}},"./lib/utils.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{cn:()=>cn});var clsx__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/clsx/dist/clsx.mjs"),tailwind_merge__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/tailwind-merge/dist/bundle-mjs.mjs");__webpack_require__("./node_modules/console-browserify/index.js");function cn(...inputs){return(0,tailwind_merge__WEBPACK_IMPORTED_MODULE_0__.QP)((0,clsx__WEBPACK_IMPORTED_MODULE_1__.$)(inputs))}new Set(["a","an","and","the","in","on","at","for","to","of","i","you","he","she","it","we","they","me","him","her","us","them","my","your","his","its","our","their","mine","yours","hers","ours","theirs","am","is","are","was","were","be","being","been","have","has","had","having","do","does","did","doing","will","would","shall","should","can","could","may","might","must","about","above","after","again","against","all","any","around","as","because","before","below","between","both","but","by","down","during","each","few","from","further","here","how","into","if","just","more","most","no","nor","not","only","or","other","out","over","same","so","some","still","such","than","that","then","there","these","this","those","through","under","until","up","very","what","when","where","which","while","who","whom","why","with","within","without"])},"./utils/supabase/browser-client.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{getBrowserClient:()=>getBrowserClient,resetBrowserClient:()=>resetBrowserClient});var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/@supabase/ssr/dist/module/index.js"),console=__webpack_require__("./node_modules/console-browserify/index.js");let browserClient=null;function getBrowserClient(){if(browserClient)return browserClient;const supabaseAnonKey="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZS1kZW1vIiwicm9sZSI6ImFub24iLCJleHAiOjE5ODM4MTI5OTZ9.CRXP1A7WOeoJeXxjNni43kdQwgnWNReilDMblYTn_I0";return browserClient=(0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createBrowserClient)("http://localhost:54321",supabaseAnonKey,{global:{headers:{Accept:"application/json"}},auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!1}}),browserClient}function resetBrowserClient(){console.log("[supabase] Resetting browser client singleton"),browserClient=null}}}]);